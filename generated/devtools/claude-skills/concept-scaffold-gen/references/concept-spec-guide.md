<!-- Auto-generated by COPF Interface Kit â€” claude-skills target -->
<!-- Concept: ConceptScaffoldGen -->
<!-- Do not edit manually; regenerate with: copf interface generate -->
# Concept Specification Guide

How to write well-formed `.concept` files.

## Structure

```
@category("domain")
@visibility("public")
concept Name [T] {
  purpose { ... }
  state { ... }
  actions { ... }
  invariant { ... }
}
```

## State Relations

| Syntax | Meaning | Example |
|--------|---------|---------|
| `set T` | Collection | `users: set U` |
| `T -> V` | Total function | `name: U -> String` |
| `T -> option V` | Partial function | `email: U -> option String` |
| `T -> list V` | Multi-valued | `tags: U -> list String` |

## Action Signatures

```
action create(name: String, email: String) {
  description { Create a new user with the given name and email. }
  -> ok(user: U) { New user registered and ready for authentication setup. }
  -> duplicate(email: String) { Another user is already registered with this email address. }
  -> error(message: String) { Creation failed due to a storage or validation error. }
}
```

**Rules:**
- Every parameter must have a type
- At least one variant per action
- Variant names are lowercase
- `ok` is the conventional success variant

## Register Action

Every generator concept includes `register()`:

```
action register() {
  -> ok(name: String, inputKind: String, outputKind: String,
        capabilities: list String) {
    Return static metadata for PluginRegistry.
  }
}
```

## Invariants

```
invariant {
  after create(name: "alice") -> ok(user: u)
  then create(name: "alice") -> duplicate(email: _)
}
```
