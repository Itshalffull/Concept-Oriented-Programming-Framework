<!-- Auto-generated by COPF Interface Kit â€” claude-skills target -->
<!-- Concept: StorageAdapterScaffoldGen -->
<!-- Do not edit manually; regenerate with: clef interface generate -->
# Walkthrough: Scaffolding a Storage Adapter

This walkthrough creates a PostgreSQL storage adapter.

## Step 1: Generate the Adapter Scaffold

```bash
clef scaffold storage --name AppStorage --backend postgresql
```

## Step 2: Configure Connection

Edit the constructor in `app-storage-storage.ts`:

```typescript
constructor(connectionString: string) {
  this.pool = new Pool({ connectionString });
}
```

## Step 3: Wire into Deploy Manifest

```yaml
# deploy.yaml
infrastructure:
  storage:
    postgresql:
      type: postgresql
      config:
        host: localhost
        port: 5432
        database: myapp
```

## Supported Backends

| Backend | Package | Best For |
|---------|---------|----------|
| sqlite | better-sqlite3 | Single-node, embedded |
| postgresql | pg | Production, multi-node |
| redis | redis | Caching, sessions |
| dynamodb | @aws-sdk/client-dynamodb | Serverless |
| memory | (none) | Tests, prototypes |
