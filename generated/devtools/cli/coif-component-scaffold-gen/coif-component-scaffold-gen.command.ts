// Auto-generated by COPF Interface Kit — cli target
// Concept: CoifComponentScaffoldGen
// Do not edit manually; regenerate with: copf interface generate

import { Command } from 'commander';

export const coifComponentScaffoldGenCommand = new Command('coif-component-scaffold-gen')
  .description('Generate COIF headless component (widget, anatomy, machine, kit).');

coifComponentScaffoldGenCommand
  .command('register')
  .description('Self-register with PluginRegistry so the scaffolding kit\'s KindSystem can track ComponentConfig → CoifComponent transformations.')
  .option('--json', 'Output as JSON')
  .action(async (opts) => {
    const result = await globalThis.kernel.handleRequest({ method: 'register', ...opts });
    console.log(opts.json ? JSON.stringify(result) : result);
  });

coifComponentScaffoldGenCommand
  .command('component')
  .description('Scaffold a complete COIF headless component with FSM, anatomy, and machine.')
  .requiredOption('-n, --name <name>', 'PascalCase component name')
  .option('-p, --parts <parts>', 'Comma-separated anatomy part names')
  .option('--slots <slots>', 'Comma-separated slot names')
  .option('-s, --states <states>', 'Comma-separated FSM state names')
  .option('-e, --events <events>', 'Comma-separated FSM event names')
  .option('--role <role>', 'ARIA role for accessibility')
  .option('-o, --output <output>', 'Output directory')
  .option('--json', 'Output as JSON')
  .action(async (opts) => {
    const result = await globalThis.kernel.handleRequest({ method: 'generate', ...opts });
    console.log(opts.json ? JSON.stringify(result) : result);
  });

export const coifComponentScaffoldGenCommandTree = {
  group: 'coif-component-scaffold-gen',
  description: 'Generate COIF headless component (widget, anatomy, machine, kit).',
  commands: [{ action: 'register', command: 'register' }, { action: 'generate', command: 'component' }],
};
