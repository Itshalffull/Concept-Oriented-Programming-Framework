// Auto-generated by Clef Clef Bind â€” cli target
// Concept: SuiteScaffoldGen
// Do not edit manually; regenerate with: clef interface generate

import { Command } from 'commander';

export const suiteScaffoldGenCommand = new Command('scaffold')
  .description('Generate suite manifest (suite.yaml) and directory structure.');

suiteScaffoldGenCommand
  .command('kit')
  .description('Scaffold a new Clef kit with suite.yaml, concept stubs, and sync directories.')
  .requiredOption('-n, --name <name>', 'Kit name (kebab-case)')
  .option('-d, --description <description>', 'Kit description')
  .option('-c, --concepts <concepts>', 'Comma-separated PascalCase concept names')
  .option('--json', 'Output as JSON')
  .addHelpText('after', '\nExamples:')
  .addHelpText('after', '  clef scaffold kit --name auth --concepts User,Session,Password  # Scaffold a basic kit')
  .addHelpText('after', '  clef scaffold kit --name web3 --concepts Token,Wallet --domain  # Scaffold a domain suite with infrastructure')
  .addHelpText('after', '  clef scaffold kit --name auth --concepts User --syncs ValidateSession:required,RefreshExpired:recommended  # Scaffold with syncs')
  .action(async (opts) => {
    const result = await globalThis.kernel.handleRequest({ method: 'generate', ...opts });
    console.log(opts.json ? JSON.stringify(result) : result);
  });

suiteScaffoldGenCommand
  .command('preview')
  .description('Dry-run: compute output files without writing. Uses Emitter content-addressing to show what would change.')
  .requiredOption('-n, --name <name>', 'Kit name (kebab-case)')
  .requiredOption('--description <description>', 'Description')
  .option('-c, --concepts <concepts>', 'Comma-separated PascalCase concept names')
  .option('--json', 'Output as JSON')
  .action(async (opts) => {
    const result = await globalThis.kernel.handleRequest({ method: 'preview', ...opts });
    console.log(opts.json ? JSON.stringify(result) : result);
  });

suiteScaffoldGenCommand
  .command('register')
  .description('Return static metadata for PluginRegistry 
 name : SuiteScaffoldGen 
 inputKind : KitConfig 
 outputKind : SuiteManifest 
 capabilities : [ kit-yaml , directory-structure ]')
  .option('--json', 'Output as JSON')
  .action(async (opts) => {
    const result = await globalThis.kernel.handleRequest({ method: 'register', ...opts });
    console.log(opts.json ? JSON.stringify(result) : result);
  });

export const suiteScaffoldGenCommandTree = {
  group: 'scaffold',
  description: 'Generate suite manifest (suite.yaml) and directory structure.',
  commands: [{ action: 'generate', command: 'kit' }, { action: 'preview', command: 'preview' }, { action: 'register', command: 'register' }],
};
