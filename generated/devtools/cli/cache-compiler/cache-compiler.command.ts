// Auto-generated by COPF Interface Kit â€” cli target
// Concept: CacheCompiler
// Do not edit manually; regenerate with: copf interface generate

import { Command } from 'commander';

export const cacheCompilerCommand = new Command('cache-compiler')
  .description('Build pre compiled artifacts from concept specs , syncs , 
 and implementations into the copf cache directory for 
 faster startup and deployment');

cacheCompilerCommand
  .command('compile')
  .description('Parse all specs and syncs , generate manifests , compile 
 sync rules , and write pre compiled artifacts to the 
 cache directory Skips unchanged files using content hashing')
  .requiredOption('--specs <specs>', 'Specs')
  .requiredOption('--syncs <syncs>', 'Syncs')
  .requiredOption('--implementations <implementations>', 'Implementations')
  .option('--json', 'Output as JSON')
  .action(async (opts) => {
    const result = await globalThis.kernel.handleRequest({ method: 'compile', ...opts });
    console.log(opts.json ? JSON.stringify(result) : result);
  });

export const cacheCompilerCommandTree = {
  group: 'cache-compiler',
  description: 'Build pre compiled artifacts from concept specs , syncs , 
 and implementations into the copf cache directory for 
 faster startup and deployment',
  commands: [{ action: 'compile', command: 'compile' }],
};
