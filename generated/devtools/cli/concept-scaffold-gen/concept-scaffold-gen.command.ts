// Auto-generated by COPF Interface Kit — cli target
// Concept: ConceptScaffoldGen
// Do not edit manually; regenerate with: copf interface generate

import { Command } from 'commander';

export const conceptScaffoldGenCommand = new Command('concept-scaffold-gen')
  .description('Generate concept specification (.concept) file.');

conceptScaffoldGenCommand
  .command('register')
  .description('Self-register with PluginRegistry so the scaffolding kit\'s KindSystem can track ConceptConfig → ConceptSpec transformations.')
  .option('--json', 'Output as JSON')
  .action(async (opts) => {
    const result = await globalThis.kernel.handleRequest({ method: 'register', ...opts });
    console.log(opts.json ? JSON.stringify(result) : result);
  });

conceptScaffoldGenCommand
  .command('concept')
  .description('Scaffold a .concept file with state, actions, and register().')
  .requiredOption('-n, --name <name>', 'PascalCase concept name')
  .option('-p, --param <param>', 'Type parameter letter (default: T)')
  .option('--purpose <purpose>', 'Purpose description')
  .option('--category <category>', 'Annotation category (domain, devtools, etc.)')
  .option('-a, --actions <actions>', 'Comma-separated action names')
  .option('-o, --output <output>', 'Output directory (default: ./specs/app)')
  .option('--json', 'Output as JSON')
  .action(async (opts) => {
    const result = await globalThis.kernel.handleRequest({ method: 'generate', ...opts });
    console.log(opts.json ? JSON.stringify(result) : result);
  });

export const conceptScaffoldGenCommandTree = {
  group: 'concept-scaffold-gen',
  description: 'Generate concept specification (.concept) file.',
  commands: [{ action: 'register', command: 'register' }, { action: 'generate', command: 'concept' }],
};
