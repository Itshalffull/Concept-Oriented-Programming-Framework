<!-- Auto-generated by COPF Interface Kit — cli target -->
<!-- Concept: Emitter -->
<!-- Do not edit manually; regenerate with: clef interface generate -->

# clef emitter — Help

Manage generated file output for **<source>** with content-addressed writes, source traceability, and drift detection.


> **When to use:** Use when writing generated files, auditing for drift, tracing source provenance, or cleaning orphaned outputs.


## Design Principles

- **Content-Addressed Writes:** Files are only written when their content hash changes — identical rewrites are skipped.
- **Source Provenance:** Every output file tracks which source files and concept actions produced it.
**write:**
- [ ] Path is within the designated output directory?
- [ ] Content hash computed before write?

**writeBatch:**
- [ ] All source provenance metadata attached?
- [ ] Format hint set for each file?
- [ ] Output directory exists?

**audit:**
- [ ] Generated files match expected hashes?
- [ ] No manual edits detected?

**clean:**
- [ ] Current manifest accurately lists all expected files?
- [ ] Orphaned files identified and removed?

**trace:**
- [ ] Output path resolves to a tracked generated file?
- [ ] Source provenance entries are complete?

**affected:**
- [ ] Source path resolves to a tracked input?
- [ ] All downstream outputs identified?
## References

- [Emitter architecture and traceability](references/emitter-architecture.md)
## Quick Reference

| Action | Command | Purpose |
|--------|---------|---------|
| write | `clef emitter write` | Write a single file |
| writeBatch | `clef emitter write-batch` | Atomic batch write |
| audit | `clef emitter audit <dir>` | Detect drift |
| clean | `clef emitter clean <dir>` | Remove orphans |
| trace | `clef emitter trace <path>` | Show source provenance |
| affected | `clef emitter affected <path>` | Show impact of a source change |
| manifest | `clef emitter manifest <dir>` | List all tracked outputs |
| format | `clef emitter format <path>` | Format a generated file |


## Validation

*Audit generated files:*
```bash
npx tsx cli/src/index.ts generate --audit
```
*Clean orphans:*
```bash
npx tsx cli/src/index.ts generate --clean
```
## Related Skills

- /cache-compiler — Cache compiler uses Emitter for output
- /implementation-builder — Code generation writes through Emitter
