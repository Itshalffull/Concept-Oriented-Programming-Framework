// Binding â€” types.ts
// Generated by NextjsGen. Do not edit manually.
// Uses fp-ts for purely functional, composable concept implementations.

// Storage interface for Binding
export interface BindingStorage {
  readonly get: (relation: string, key: string) => Promise<Record<string, unknown> | null>;
  readonly put: (relation: string, key: string, value: Record<string, unknown>) => Promise<void>;
  readonly delete: (relation: string, key: string) => Promise<boolean>;
  readonly find: (relation: string, filter?: Record<string, unknown>) => Promise<readonly Record<string, unknown>[]>;
}

export interface BindingBindInput {
  readonly binding: string;
  readonly concept: string;
  readonly mode: string;
}

export interface BindingBindOutputOk {
  readonly variant: 'ok';
  readonly binding: string;
}

export interface BindingBindOutputInvalid {
  readonly variant: 'invalid';
  readonly message: string;
}

export type BindingBindOutput = BindingBindOutputOk | BindingBindOutputInvalid;

export interface BindingSyncInput {
  readonly binding: string;
}

export interface BindingSyncOutputOk {
  readonly variant: 'ok';
  readonly binding: string;
}

export interface BindingSyncOutputError {
  readonly variant: 'error';
  readonly message: string;
}

export type BindingSyncOutput = BindingSyncOutputOk | BindingSyncOutputError;

export interface BindingInvokeInput {
  readonly binding: string;
  readonly action: string;
  readonly input: string;
}

export interface BindingInvokeOutputOk {
  readonly variant: 'ok';
  readonly binding: string;
  readonly result: string;
}

export interface BindingInvokeOutputError {
  readonly variant: 'error';
  readonly message: string;
}

export type BindingInvokeOutput = BindingInvokeOutputOk | BindingInvokeOutputError;

export interface BindingUnbindInput {
  readonly binding: string;
}

export interface BindingUnbindOutputOk {
  readonly variant: 'ok';
  readonly binding: string;
}

export interface BindingUnbindOutputNotfound {
  readonly variant: 'notfound';
  readonly message: string;
}

export type BindingUnbindOutput = BindingUnbindOutputOk | BindingUnbindOutputNotfound;

// --- Variant constructors ---

export const bindOk = (binding: string): BindingBindOutput => ({ variant: 'ok', binding } as BindingBindOutput);
export const bindInvalid = (message: string): BindingBindOutput => ({ variant: 'invalid', message } as BindingBindOutput);

export const syncOk = (binding: string): BindingSyncOutput => ({ variant: 'ok', binding } as BindingSyncOutput);
export const syncError = (message: string): BindingSyncOutput => ({ variant: 'error', message } as BindingSyncOutput);

export const invokeOk = (binding: string, result: string): BindingInvokeOutput => ({ variant: 'ok', binding, result } as BindingInvokeOutput);
export const invokeError = (message: string): BindingInvokeOutput => ({ variant: 'error', message } as BindingInvokeOutput);

export const unbindOk = (binding: string): BindingUnbindOutput => ({ variant: 'ok', binding } as BindingUnbindOutput);
export const unbindNotfound = (message: string): BindingUnbindOutput => ({ variant: 'notfound', message } as BindingUnbindOutput);

