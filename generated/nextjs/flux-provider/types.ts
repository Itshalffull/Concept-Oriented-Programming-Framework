// FluxProvider â€” types.ts
// Generated by NextjsGen. Do not edit manually.
// Uses fp-ts for purely functional, composable concept implementations.

// Storage interface for FluxProvider
export interface FluxProviderStorage {
  readonly get: (relation: string, key: string) => Promise<Record<string, unknown> | null>;
  readonly put: (relation: string, key: string, value: Record<string, unknown>) => Promise<void>;
  readonly delete: (relation: string, key: string) => Promise<boolean>;
  readonly find: (relation: string, filter?: Record<string, unknown>) => Promise<readonly Record<string, unknown>[]>;
}

export interface FluxProviderEmitInput {
  readonly plan: string;
  readonly repo: string;
  readonly path: string;
}

export interface FluxProviderEmitOutput {
  readonly variant: 'ok';
  readonly kustomization: string;
  readonly files: readonly string[];
}

export interface FluxProviderReconciliationStatusInput {
  readonly kustomization: string;
}

export interface FluxProviderReconciliationStatusOutputOk {
  readonly variant: 'ok';
  readonly kustomization: string;
  readonly readyStatus: string;
  readonly appliedRevision: string;
  readonly reconciledAt: Date;
}

export interface FluxProviderReconciliationStatusOutputPending {
  readonly variant: 'pending';
  readonly kustomization: string;
  readonly waitingOn: readonly string[];
}

export interface FluxProviderReconciliationStatusOutputFailed {
  readonly variant: 'failed';
  readonly kustomization: string;
  readonly reason: string;
}

export type FluxProviderReconciliationStatusOutput = FluxProviderReconciliationStatusOutputOk | FluxProviderReconciliationStatusOutputPending | FluxProviderReconciliationStatusOutputFailed;

export interface FluxProviderHelmReleaseInput {
  readonly kustomization: string;
  readonly chart: string;
  readonly values: string;
}

export interface FluxProviderHelmReleaseOutputOk {
  readonly variant: 'ok';
  readonly kustomization: string;
  readonly releaseName: string;
}

export interface FluxProviderHelmReleaseOutputChartNotFound {
  readonly variant: 'chartNotFound';
  readonly chart: string;
  readonly sourceRef: string;
}

export type FluxProviderHelmReleaseOutput = FluxProviderHelmReleaseOutputOk | FluxProviderHelmReleaseOutputChartNotFound;

// --- Variant constructors ---

export const emitOk = (kustomization: string, files: readonly string[]): FluxProviderEmitOutput => ({ variant: 'ok', kustomization, files } as FluxProviderEmitOutput);

export const reconciliationStatusOk = (kustomization: string, readyStatus: string, appliedRevision: string, reconciledAt: Date): FluxProviderReconciliationStatusOutput => ({ variant: 'ok', kustomization, readyStatus, appliedRevision, reconciledAt } as FluxProviderReconciliationStatusOutput);
export const reconciliationStatusPending = (kustomization: string, waitingOn: readonly string[]): FluxProviderReconciliationStatusOutput => ({ variant: 'pending', kustomization, waitingOn } as FluxProviderReconciliationStatusOutput);
export const reconciliationStatusFailed = (kustomization: string, reason: string): FluxProviderReconciliationStatusOutput => ({ variant: 'failed', kustomization, reason } as FluxProviderReconciliationStatusOutput);

export const helmReleaseOk = (kustomization: string, releaseName: string): FluxProviderHelmReleaseOutput => ({ variant: 'ok', kustomization, releaseName } as FluxProviderHelmReleaseOutput);
export const helmReleaseChartNotFound = (chart: string, sourceRef: string): FluxProviderHelmReleaseOutput => ({ variant: 'chartNotFound', chart, sourceRef } as FluxProviderHelmReleaseOutput);

