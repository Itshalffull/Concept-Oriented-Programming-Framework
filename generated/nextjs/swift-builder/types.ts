// SwiftBuilder â€” types.ts
// Generated by NextjsGen. Do not edit manually.
// Uses fp-ts for purely functional, composable concept implementations.

import * as O from 'fp-ts/Option';

// Storage interface for SwiftBuilder
export interface SwiftBuilderStorage {
  readonly get: (relation: string, key: string) => Promise<Record<string, unknown> | null>;
  readonly put: (relation: string, key: string, value: Record<string, unknown>) => Promise<void>;
  readonly delete: (relation: string, key: string) => Promise<boolean>;
  readonly find: (relation: string, filter?: Record<string, unknown>) => Promise<readonly Record<string, unknown>[]>;
}

export interface SwiftBuilderBuildInput {
  readonly source: string;
  readonly toolchainPath: string;
  readonly platform: string;
  readonly config: { readonly mode: string; readonly features: O.Option<readonly string[]> };
}

export interface SwiftBuilderBuildOutputOk {
  readonly variant: 'ok';
  readonly build: string;
  readonly artifactPath: string;
  readonly artifactHash: string;
}

export interface SwiftBuilderBuildOutputCompilationError {
  readonly variant: 'compilationError';
  readonly errors: readonly { readonly file: string; readonly line: number; readonly message: string }[];
}

export interface SwiftBuilderBuildOutputLinkerError {
  readonly variant: 'linkerError';
  readonly reason: string;
}

export type SwiftBuilderBuildOutput = SwiftBuilderBuildOutputOk | SwiftBuilderBuildOutputCompilationError | SwiftBuilderBuildOutputLinkerError;

export interface SwiftBuilderTestInput {
  readonly build: string;
  readonly toolchainPath: string;
  readonly invocation: O.Option<{ readonly command: string; readonly args: readonly string[]; readonly outputFormat: string; readonly configFile: O.Option<string>; readonly env: O.Option<string> }>;
  readonly testType: O.Option<string>;
}

export interface SwiftBuilderTestOutputOk {
  readonly variant: 'ok';
  readonly passed: number;
  readonly failed: number;
  readonly skipped: number;
  readonly duration: number;
  readonly testType: string;
}

export interface SwiftBuilderTestOutputTestFailure {
  readonly variant: 'testFailure';
  readonly passed: number;
  readonly failed: number;
  readonly failures: readonly { readonly test: string; readonly message: string }[];
  readonly testType: string;
}

export type SwiftBuilderTestOutput = SwiftBuilderTestOutputOk | SwiftBuilderTestOutputTestFailure;

export interface SwiftBuilderPackageInput {
  readonly build: string;
  readonly format: string;
}

export interface SwiftBuilderPackageOutputOk {
  readonly variant: 'ok';
  readonly artifactPath: string;
  readonly artifactHash: string;
}

export interface SwiftBuilderPackageOutputFormatUnsupported {
  readonly variant: 'formatUnsupported';
  readonly format: string;
}

export type SwiftBuilderPackageOutput = SwiftBuilderPackageOutputOk | SwiftBuilderPackageOutputFormatUnsupported;

export interface SwiftBuilderRegisterInput {
}

export interface SwiftBuilderRegisterOutput {
  readonly variant: 'ok';
  readonly name: string;
  readonly language: string;
  readonly capabilities: readonly string[];
}

// --- Variant constructors ---

export const buildOk = (build: string, artifactPath: string, artifactHash: string): SwiftBuilderBuildOutput => ({ variant: 'ok', build, artifactPath, artifactHash } as SwiftBuilderBuildOutput);
export const buildCompilationError = (errors: readonly { readonly file: string; readonly line: number; readonly message: string }[]): SwiftBuilderBuildOutput => ({ variant: 'compilationError', errors } as SwiftBuilderBuildOutput);
export const buildLinkerError = (reason: string): SwiftBuilderBuildOutput => ({ variant: 'linkerError', reason } as SwiftBuilderBuildOutput);

export const testOk = (passed: number, failed: number, skipped: number, duration: number, testType: string): SwiftBuilderTestOutput => ({ variant: 'ok', passed, failed, skipped, duration, testType } as SwiftBuilderTestOutput);
export const testTestFailure = (passed: number, failed: number, failures: readonly { readonly test: string; readonly message: string }[], testType: string): SwiftBuilderTestOutput => ({ variant: 'testFailure', passed, failed, failures, testType } as SwiftBuilderTestOutput);

export const packageOk = (artifactPath: string, artifactHash: string): SwiftBuilderPackageOutput => ({ variant: 'ok', artifactPath, artifactHash } as SwiftBuilderPackageOutput);
export const packageFormatUnsupported = (format: string): SwiftBuilderPackageOutput => ({ variant: 'formatUnsupported', format } as SwiftBuilderPackageOutput);

export const registerOk = (name: string, language: string, capabilities: readonly string[]): SwiftBuilderRegisterOutput => ({ variant: 'ok', name, language, capabilities } as SwiftBuilderRegisterOutput);

