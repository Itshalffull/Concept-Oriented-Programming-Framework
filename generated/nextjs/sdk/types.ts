// Sdk â€” types.ts
// Generated by NextjsGen. Do not edit manually.
// Uses fp-ts for purely functional, composable concept implementations.

// Storage interface for Sdk
export interface SdkStorage {
  readonly get: (relation: string, key: string) => Promise<Record<string, unknown> | null>;
  readonly put: (relation: string, key: string, value: Record<string, unknown>) => Promise<void>;
  readonly delete: (relation: string, key: string) => Promise<boolean>;
  readonly find: (relation: string, filter?: Record<string, unknown>) => Promise<readonly Record<string, unknown>[]>;
}

export interface SdkGenerateInput {
  readonly projection: string;
  readonly language: string;
  readonly config: string;
}

export interface SdkGenerateOutputOk {
  readonly variant: 'ok';
  readonly package: string;
  readonly files: readonly string[];
  readonly packageJson: string;
}

export interface SdkGenerateOutputUnsupportedType {
  readonly variant: 'unsupportedType';
  readonly typeName: string;
  readonly language: string;
}

export interface SdkGenerateOutputLanguageError {
  readonly variant: 'languageError';
  readonly language: string;
  readonly reason: string;
}

export type SdkGenerateOutput = SdkGenerateOutputOk | SdkGenerateOutputUnsupportedType | SdkGenerateOutputLanguageError;

export interface SdkPublishInput {
  readonly package: string;
  readonly registry: string;
}

export interface SdkPublishOutputOk {
  readonly variant: 'ok';
  readonly package: string;
  readonly publishedVersion: string;
}

export interface SdkPublishOutputVersionExists {
  readonly variant: 'versionExists';
  readonly package: string;
  readonly version: string;
}

export interface SdkPublishOutputRegistryUnavailable {
  readonly variant: 'registryUnavailable';
  readonly registry: string;
}

export type SdkPublishOutput = SdkPublishOutputOk | SdkPublishOutputVersionExists | SdkPublishOutputRegistryUnavailable;

// --- Variant constructors ---

export const generateOk = (package: string, files: readonly string[], packageJson: string): SdkGenerateOutput => ({ variant: 'ok', package, files, packageJson } as SdkGenerateOutput);
export const generateUnsupportedType = (typeName: string, language: string): SdkGenerateOutput => ({ variant: 'unsupportedType', typeName, language } as SdkGenerateOutput);
export const generateLanguageError = (language: string, reason: string): SdkGenerateOutput => ({ variant: 'languageError', language, reason } as SdkGenerateOutput);

export const publishOk = (package: string, publishedVersion: string): SdkPublishOutput => ({ variant: 'ok', package, publishedVersion } as SdkPublishOutput);
export const publishVersionExists = (package: string, version: string): SdkPublishOutput => ({ variant: 'versionExists', package, version } as SdkPublishOutput);
export const publishRegistryUnavailable = (registry: string): SdkPublishOutput => ({ variant: 'registryUnavailable', registry } as SdkPublishOutput);

