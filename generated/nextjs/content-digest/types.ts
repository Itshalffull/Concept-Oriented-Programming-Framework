// ContentDigest â€” types.ts
// Generated by NextjsGen. Do not edit manually.
// Uses fp-ts for purely functional, composable concept implementations.

// Storage interface for ContentDigest
export interface ContentDigestStorage {
  readonly get: (relation: string, key: string) => Promise<Record<string, unknown> | null>;
  readonly put: (relation: string, key: string, value: Record<string, unknown>) => Promise<void>;
  readonly delete: (relation: string, key: string) => Promise<boolean>;
  readonly find: (relation: string, filter?: Record<string, unknown>) => Promise<readonly Record<string, unknown>[]>;
}

export interface ContentDigestComputeInput {
  readonly unit: string;
  readonly algorithm: string;
}

export interface ContentDigestComputeOutputOk {
  readonly variant: 'ok';
  readonly digest: string;
}

export interface ContentDigestComputeOutputUnsupportedAlgorithm {
  readonly variant: 'unsupportedAlgorithm';
  readonly algorithm: string;
}

export type ContentDigestComputeOutput = ContentDigestComputeOutputOk | ContentDigestComputeOutputUnsupportedAlgorithm;

export interface ContentDigestLookupInput {
  readonly hash: string;
}

export interface ContentDigestLookupOutputOk {
  readonly variant: 'ok';
  readonly units: string;
}

export interface ContentDigestLookupOutputNotfound {
  readonly variant: 'notfound';
}

export type ContentDigestLookupOutput = ContentDigestLookupOutputOk | ContentDigestLookupOutputNotfound;

export interface ContentDigestEquivalentInput {
  readonly a: string;
  readonly b: string;
}

export interface ContentDigestEquivalentOutputYes {
  readonly variant: 'yes';
}

export interface ContentDigestEquivalentOutputNo {
  readonly variant: 'no';
  readonly diffSummary: string;
}

export type ContentDigestEquivalentOutput = ContentDigestEquivalentOutputYes | ContentDigestEquivalentOutputNo;

// --- Variant constructors ---

export const computeOk = (digest: string): ContentDigestComputeOutput => ({ variant: 'ok', digest } as ContentDigestComputeOutput);
export const computeUnsupportedAlgorithm = (algorithm: string): ContentDigestComputeOutput => ({ variant: 'unsupportedAlgorithm', algorithm } as ContentDigestComputeOutput);

export const lookupOk = (units: string): ContentDigestLookupOutput => ({ variant: 'ok', units } as ContentDigestLookupOutput);
export const lookupNotfound = (): ContentDigestLookupOutput => ({ variant: 'notfound' } as ContentDigestLookupOutput);

export const equivalentYes = (): ContentDigestEquivalentOutput => ({ variant: 'yes' } as ContentDigestEquivalentOutput);
export const equivalentNo = (diffSummary: string): ContentDigestEquivalentOutput => ({ variant: 'no', diffSummary } as ContentDigestEquivalentOutput);

