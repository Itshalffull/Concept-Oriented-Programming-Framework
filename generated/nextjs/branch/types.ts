// Branch â€” types.ts
// Generated by NextjsGen. Do not edit manually.
// Uses fp-ts for purely functional, composable concept implementations.

// Storage interface for Branch
export interface BranchStorage {
  readonly get: (relation: string, key: string) => Promise<Record<string, unknown> | null>;
  readonly put: (relation: string, key: string, value: Record<string, unknown>) => Promise<void>;
  readonly delete: (relation: string, key: string) => Promise<boolean>;
  readonly find: (relation: string, filter?: Record<string, unknown>) => Promise<readonly Record<string, unknown>[]>;
}

export interface BranchCreateInput {
  readonly name: string;
  readonly fromNode: string;
}

export interface BranchCreateOutputOk {
  readonly variant: 'ok';
  readonly branch: string;
}

export interface BranchCreateOutputExists {
  readonly variant: 'exists';
  readonly message: string;
}

export interface BranchCreateOutputUnknownNode {
  readonly variant: 'unknownNode';
  readonly message: string;
}

export type BranchCreateOutput = BranchCreateOutputOk | BranchCreateOutputExists | BranchCreateOutputUnknownNode;

export interface BranchAdvanceInput {
  readonly branch: string;
  readonly newNode: string;
}

export interface BranchAdvanceOutputOk {
  readonly variant: 'ok';
}

export interface BranchAdvanceOutputNotFound {
  readonly variant: 'notFound';
  readonly message: string;
}

export interface BranchAdvanceOutputProtected {
  readonly variant: 'protected';
  readonly message: string;
}

export interface BranchAdvanceOutputUnknownNode {
  readonly variant: 'unknownNode';
  readonly message: string;
}

export type BranchAdvanceOutput = BranchAdvanceOutputOk | BranchAdvanceOutputNotFound | BranchAdvanceOutputProtected | BranchAdvanceOutputUnknownNode;

export interface BranchDeleteInput {
  readonly branch: string;
}

export interface BranchDeleteOutputOk {
  readonly variant: 'ok';
}

export interface BranchDeleteOutputNotFound {
  readonly variant: 'notFound';
  readonly message: string;
}

export interface BranchDeleteOutputProtected {
  readonly variant: 'protected';
  readonly message: string;
}

export type BranchDeleteOutput = BranchDeleteOutputOk | BranchDeleteOutputNotFound | BranchDeleteOutputProtected;

export interface BranchProtectInput {
  readonly branch: string;
}

export interface BranchProtectOutputOk {
  readonly variant: 'ok';
}

export interface BranchProtectOutputNotFound {
  readonly variant: 'notFound';
  readonly message: string;
}

export type BranchProtectOutput = BranchProtectOutputOk | BranchProtectOutputNotFound;

export interface BranchSetUpstreamInput {
  readonly branch: string;
  readonly upstream: string;
}

export interface BranchSetUpstreamOutputOk {
  readonly variant: 'ok';
}

export interface BranchSetUpstreamOutputNotFound {
  readonly variant: 'notFound';
  readonly message: string;
}

export type BranchSetUpstreamOutput = BranchSetUpstreamOutputOk | BranchSetUpstreamOutputNotFound;

export interface BranchDivergencePointInput {
  readonly b1: string;
  readonly b2: string;
}

export interface BranchDivergencePointOutputOk {
  readonly variant: 'ok';
  readonly nodeId: string;
}

export interface BranchDivergencePointOutputNoDivergence {
  readonly variant: 'noDivergence';
  readonly message: string;
}

export interface BranchDivergencePointOutputNotFound {
  readonly variant: 'notFound';
  readonly message: string;
}

export type BranchDivergencePointOutput = BranchDivergencePointOutputOk | BranchDivergencePointOutputNoDivergence | BranchDivergencePointOutputNotFound;

export interface BranchArchiveInput {
  readonly branch: string;
}

export interface BranchArchiveOutputOk {
  readonly variant: 'ok';
}

export interface BranchArchiveOutputNotFound {
  readonly variant: 'notFound';
  readonly message: string;
}

export type BranchArchiveOutput = BranchArchiveOutputOk | BranchArchiveOutputNotFound;

// --- Variant constructors ---

export const createOk = (branch: string): BranchCreateOutput => ({ variant: 'ok', branch } as BranchCreateOutput);
export const createExists = (message: string): BranchCreateOutput => ({ variant: 'exists', message } as BranchCreateOutput);
export const createUnknownNode = (message: string): BranchCreateOutput => ({ variant: 'unknownNode', message } as BranchCreateOutput);

export const advanceOk = (): BranchAdvanceOutput => ({ variant: 'ok' } as BranchAdvanceOutput);
export const advanceNotFound = (message: string): BranchAdvanceOutput => ({ variant: 'notFound', message } as BranchAdvanceOutput);
export const advanceProtected = (message: string): BranchAdvanceOutput => ({ variant: 'protected', message } as BranchAdvanceOutput);
export const advanceUnknownNode = (message: string): BranchAdvanceOutput => ({ variant: 'unknownNode', message } as BranchAdvanceOutput);

export const deleteOk = (): BranchDeleteOutput => ({ variant: 'ok' } as BranchDeleteOutput);
export const deleteNotFound = (message: string): BranchDeleteOutput => ({ variant: 'notFound', message } as BranchDeleteOutput);
export const deleteProtected = (message: string): BranchDeleteOutput => ({ variant: 'protected', message } as BranchDeleteOutput);

export const protectOk = (): BranchProtectOutput => ({ variant: 'ok' } as BranchProtectOutput);
export const protectNotFound = (message: string): BranchProtectOutput => ({ variant: 'notFound', message } as BranchProtectOutput);

export const setUpstreamOk = (): BranchSetUpstreamOutput => ({ variant: 'ok' } as BranchSetUpstreamOutput);
export const setUpstreamNotFound = (message: string): BranchSetUpstreamOutput => ({ variant: 'notFound', message } as BranchSetUpstreamOutput);

export const divergencePointOk = (nodeId: string): BranchDivergencePointOutput => ({ variant: 'ok', nodeId } as BranchDivergencePointOutput);
export const divergencePointNoDivergence = (message: string): BranchDivergencePointOutput => ({ variant: 'noDivergence', message } as BranchDivergencePointOutput);
export const divergencePointNotFound = (message: string): BranchDivergencePointOutput => ({ variant: 'notFound', message } as BranchDivergencePointOutput);

export const archiveOk = (): BranchArchiveOutput => ({ variant: 'ok' } as BranchArchiveOutput);
export const archiveNotFound = (message: string): BranchArchiveOutput => ({ variant: 'notFound', message } as BranchArchiveOutput);

