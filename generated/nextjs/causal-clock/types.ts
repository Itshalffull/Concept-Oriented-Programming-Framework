// CausalClock â€” types.ts
// Generated by NextjsGen. Do not edit manually.
// Uses fp-ts for purely functional, composable concept implementations.

// Storage interface for CausalClock
export interface CausalClockStorage {
  readonly get: (relation: string, key: string) => Promise<Record<string, unknown> | null>;
  readonly put: (relation: string, key: string, value: Record<string, unknown>) => Promise<void>;
  readonly delete: (relation: string, key: string) => Promise<boolean>;
  readonly find: (relation: string, filter?: Record<string, unknown>) => Promise<readonly Record<string, unknown>[]>;
}

export interface CausalClockTickInput {
  readonly replicaId: string;
}

export interface CausalClockTickOutput {
  readonly variant: 'ok';
  readonly timestamp: string;
  readonly clock: readonly number[];
}

export interface CausalClockMergeInput {
  readonly localClock: readonly number[];
  readonly remoteClock: readonly number[];
}

export interface CausalClockMergeOutputOk {
  readonly variant: 'ok';
  readonly merged: readonly number[];
}

export interface CausalClockMergeOutputIncompatible {
  readonly variant: 'incompatible';
  readonly message: string;
}

export type CausalClockMergeOutput = CausalClockMergeOutputOk | CausalClockMergeOutputIncompatible;

export interface CausalClockCompareInput {
  readonly a: string;
  readonly b: string;
}

export interface CausalClockCompareOutputBefore {
  readonly variant: 'before';
}

export interface CausalClockCompareOutputAfter {
  readonly variant: 'after';
}

export interface CausalClockCompareOutputConcurrent {
  readonly variant: 'concurrent';
}

export type CausalClockCompareOutput = CausalClockCompareOutputBefore | CausalClockCompareOutputAfter | CausalClockCompareOutputConcurrent;

export interface CausalClockDominatesInput {
  readonly a: string;
  readonly b: string;
}

export interface CausalClockDominatesOutput {
  readonly variant: 'ok';
  readonly result: boolean;
}

// --- Variant constructors ---

export const tickOk = (timestamp: string, clock: readonly number[]): CausalClockTickOutput => ({ variant: 'ok', timestamp, clock } as CausalClockTickOutput);

export const mergeOk = (merged: readonly number[]): CausalClockMergeOutput => ({ variant: 'ok', merged } as CausalClockMergeOutput);
export const mergeIncompatible = (message: string): CausalClockMergeOutput => ({ variant: 'incompatible', message } as CausalClockMergeOutput);

export const compareBefore = (): CausalClockCompareOutput => ({ variant: 'before' } as CausalClockCompareOutput);
export const compareAfter = (): CausalClockCompareOutput => ({ variant: 'after' } as CausalClockCompareOutput);
export const compareConcurrent = (): CausalClockCompareOutput => ({ variant: 'concurrent' } as CausalClockCompareOutput);

export const dominatesOk = (result: boolean): CausalClockDominatesOutput => ({ variant: 'ok', result } as CausalClockDominatesOutput);

