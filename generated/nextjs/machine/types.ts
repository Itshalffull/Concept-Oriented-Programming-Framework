// Machine â€” types.ts
// Generated by NextjsGen. Do not edit manually.
// Uses fp-ts for purely functional, composable concept implementations.

// Storage interface for Machine
export interface MachineStorage {
  readonly get: (relation: string, key: string) => Promise<Record<string, unknown> | null>;
  readonly put: (relation: string, key: string, value: Record<string, unknown>) => Promise<void>;
  readonly delete: (relation: string, key: string) => Promise<boolean>;
  readonly find: (relation: string, filter?: Record<string, unknown>) => Promise<readonly Record<string, unknown>[]>;
}

export interface MachineSpawnInput {
  readonly machine: string;
  readonly widget: string;
  readonly context: string;
}

export interface MachineSpawnOutputOk {
  readonly variant: 'ok';
  readonly machine: string;
}

export interface MachineSpawnOutputNotfound {
  readonly variant: 'notfound';
  readonly message: string;
}

export interface MachineSpawnOutputInvalid {
  readonly variant: 'invalid';
  readonly message: string;
}

export type MachineSpawnOutput = MachineSpawnOutputOk | MachineSpawnOutputNotfound | MachineSpawnOutputInvalid;

export interface MachineSendInput {
  readonly machine: string;
  readonly event: string;
}

export interface MachineSendOutputOk {
  readonly variant: 'ok';
  readonly machine: string;
  readonly state: string;
}

export interface MachineSendOutputInvalid {
  readonly variant: 'invalid';
  readonly message: string;
}

export interface MachineSendOutputGuarded {
  readonly variant: 'guarded';
  readonly machine: string;
  readonly guard: string;
}

export type MachineSendOutput = MachineSendOutputOk | MachineSendOutputInvalid | MachineSendOutputGuarded;

export interface MachineConnectInput {
  readonly machine: string;
}

export interface MachineConnectOutputOk {
  readonly variant: 'ok';
  readonly machine: string;
  readonly props: string;
}

export interface MachineConnectOutputNotfound {
  readonly variant: 'notfound';
  readonly message: string;
}

export type MachineConnectOutput = MachineConnectOutputOk | MachineConnectOutputNotfound;

export interface MachineDestroyInput {
  readonly machine: string;
}

export interface MachineDestroyOutputOk {
  readonly variant: 'ok';
  readonly machine: string;
}

export interface MachineDestroyOutputNotfound {
  readonly variant: 'notfound';
  readonly message: string;
}

export type MachineDestroyOutput = MachineDestroyOutputOk | MachineDestroyOutputNotfound;

// --- Variant constructors ---

export const spawnOk = (machine: string): MachineSpawnOutput => ({ variant: 'ok', machine } as MachineSpawnOutput);
export const spawnNotfound = (message: string): MachineSpawnOutput => ({ variant: 'notfound', message } as MachineSpawnOutput);
export const spawnInvalid = (message: string): MachineSpawnOutput => ({ variant: 'invalid', message } as MachineSpawnOutput);

export const sendOk = (machine: string, state: string): MachineSendOutput => ({ variant: 'ok', machine, state } as MachineSendOutput);
export const sendInvalid = (message: string): MachineSendOutput => ({ variant: 'invalid', message } as MachineSendOutput);
export const sendGuarded = (machine: string, guard: string): MachineSendOutput => ({ variant: 'guarded', machine, guard } as MachineSendOutput);

export const connectOk = (machine: string, props: string): MachineConnectOutput => ({ variant: 'ok', machine, props } as MachineConnectOutput);
export const connectNotfound = (message: string): MachineConnectOutput => ({ variant: 'notfound', message } as MachineConnectOutput);

export const destroyOk = (machine: string): MachineDestroyOutput => ({ variant: 'ok', machine } as MachineDestroyOutput);
export const destroyNotfound = (message: string): MachineDestroyOutput => ({ variant: 'notfound', message } as MachineDestroyOutput);

