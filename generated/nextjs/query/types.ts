// Query â€” types.ts
// Generated by NextjsGen. Do not edit manually.
// Uses fp-ts for purely functional, composable concept implementations.

// Storage interface for Query
export interface QueryStorage {
  readonly get: (relation: string, key: string) => Promise<Record<string, unknown> | null>;
  readonly put: (relation: string, key: string, value: Record<string, unknown>) => Promise<void>;
  readonly delete: (relation: string, key: string) => Promise<boolean>;
  readonly find: (relation: string, filter?: Record<string, unknown>) => Promise<readonly Record<string, unknown>[]>;
}

export interface QueryParseInput {
  readonly query: string;
  readonly expression: string;
}

export interface QueryParseOutputOk {
  readonly variant: 'ok';
  readonly query: string;
}

export interface QueryParseOutputError {
  readonly variant: 'error';
  readonly message: string;
}

export type QueryParseOutput = QueryParseOutputOk | QueryParseOutputError;

export interface QueryExecuteInput {
  readonly query: string;
}

export interface QueryExecuteOutputOk {
  readonly variant: 'ok';
  readonly results: string;
}

export interface QueryExecuteOutputNotfound {
  readonly variant: 'notfound';
  readonly query: string;
}

export type QueryExecuteOutput = QueryExecuteOutputOk | QueryExecuteOutputNotfound;

export interface QuerySubscribeInput {
  readonly query: string;
}

export interface QuerySubscribeOutputOk {
  readonly variant: 'ok';
  readonly subscriptionId: string;
}

export interface QuerySubscribeOutputNotfound {
  readonly variant: 'notfound';
  readonly query: string;
}

export type QuerySubscribeOutput = QuerySubscribeOutputOk | QuerySubscribeOutputNotfound;

export interface QueryAddFilterInput {
  readonly query: string;
  readonly filter: string;
}

export interface QueryAddFilterOutputOk {
  readonly variant: 'ok';
  readonly query: string;
}

export interface QueryAddFilterOutputNotfound {
  readonly variant: 'notfound';
  readonly query: string;
}

export type QueryAddFilterOutput = QueryAddFilterOutputOk | QueryAddFilterOutputNotfound;

export interface QueryAddSortInput {
  readonly query: string;
  readonly sort: string;
}

export interface QueryAddSortOutputOk {
  readonly variant: 'ok';
  readonly query: string;
}

export interface QueryAddSortOutputNotfound {
  readonly variant: 'notfound';
  readonly query: string;
}

export type QueryAddSortOutput = QueryAddSortOutputOk | QueryAddSortOutputNotfound;

export interface QuerySetScopeInput {
  readonly query: string;
  readonly scope: string;
}

export interface QuerySetScopeOutputOk {
  readonly variant: 'ok';
  readonly query: string;
}

export interface QuerySetScopeOutputNotfound {
  readonly variant: 'notfound';
  readonly query: string;
}

export type QuerySetScopeOutput = QuerySetScopeOutputOk | QuerySetScopeOutputNotfound;

// --- Variant constructors ---

export const parseOk = (query: string): QueryParseOutput => ({ variant: 'ok', query } as QueryParseOutput);
export const parseError = (message: string): QueryParseOutput => ({ variant: 'error', message } as QueryParseOutput);

export const executeOk = (results: string): QueryExecuteOutput => ({ variant: 'ok', results } as QueryExecuteOutput);
export const executeNotfound = (query: string): QueryExecuteOutput => ({ variant: 'notfound', query } as QueryExecuteOutput);

export const subscribeOk = (subscriptionId: string): QuerySubscribeOutput => ({ variant: 'ok', subscriptionId } as QuerySubscribeOutput);
export const subscribeNotfound = (query: string): QuerySubscribeOutput => ({ variant: 'notfound', query } as QuerySubscribeOutput);

export const addFilterOk = (query: string): QueryAddFilterOutput => ({ variant: 'ok', query } as QueryAddFilterOutput);
export const addFilterNotfound = (query: string): QueryAddFilterOutput => ({ variant: 'notfound', query } as QueryAddFilterOutput);

export const addSortOk = (query: string): QueryAddSortOutput => ({ variant: 'ok', query } as QueryAddSortOutput);
export const addSortNotfound = (query: string): QueryAddSortOutput => ({ variant: 'notfound', query } as QueryAddSortOutput);

export const setScopeOk = (query: string): QuerySetScopeOutput => ({ variant: 'ok', query } as QuerySetScopeOutput);
export const setScopeNotfound = (query: string): QuerySetScopeOutput => ({ variant: 'notfound', query } as QuerySetScopeOutput);

