// Provenance â€” types.ts
// Generated by NextjsGen. Do not edit manually.
// Uses fp-ts for purely functional, composable concept implementations.

// Storage interface for Provenance
export interface ProvenanceStorage {
  readonly get: (relation: string, key: string) => Promise<Record<string, unknown> | null>;
  readonly put: (relation: string, key: string, value: Record<string, unknown>) => Promise<void>;
  readonly delete: (relation: string, key: string) => Promise<boolean>;
  readonly find: (relation: string, filter?: Record<string, unknown>) => Promise<readonly Record<string, unknown>[]>;
}

export interface ProvenanceRecordInput {
  readonly entity: string;
  readonly activity: string;
  readonly agent: string;
  readonly inputs: string;
}

export interface ProvenanceRecordOutput {
  readonly variant: 'ok';
  readonly recordId: string;
}

export interface ProvenanceTraceInput {
  readonly entityId: string;
}

export interface ProvenanceTraceOutputOk {
  readonly variant: 'ok';
  readonly chain: string;
}

export interface ProvenanceTraceOutputNotfound {
  readonly variant: 'notfound';
  readonly message: string;
}

export type ProvenanceTraceOutput = ProvenanceTraceOutputOk | ProvenanceTraceOutputNotfound;

export interface ProvenanceAuditInput {
  readonly batchId: string;
}

export interface ProvenanceAuditOutputOk {
  readonly variant: 'ok';
  readonly graph: string;
}

export interface ProvenanceAuditOutputNotfound {
  readonly variant: 'notfound';
  readonly message: string;
}

export type ProvenanceAuditOutput = ProvenanceAuditOutputOk | ProvenanceAuditOutputNotfound;

export interface ProvenanceRollbackInput {
  readonly batchId: string;
}

export interface ProvenanceRollbackOutputOk {
  readonly variant: 'ok';
  readonly rolled: number;
}

export interface ProvenanceRollbackOutputNotfound {
  readonly variant: 'notfound';
  readonly message: string;
}

export type ProvenanceRollbackOutput = ProvenanceRollbackOutputOk | ProvenanceRollbackOutputNotfound;

export interface ProvenanceDiffInput {
  readonly entityId: string;
  readonly version1: string;
  readonly version2: string;
}

export interface ProvenanceDiffOutputOk {
  readonly variant: 'ok';
  readonly changes: string;
}

export interface ProvenanceDiffOutputNotfound {
  readonly variant: 'notfound';
  readonly message: string;
}

export type ProvenanceDiffOutput = ProvenanceDiffOutputOk | ProvenanceDiffOutputNotfound;

export interface ProvenanceReproduceInput {
  readonly entityId: string;
}

export interface ProvenanceReproduceOutputOk {
  readonly variant: 'ok';
  readonly plan: string;
}

export interface ProvenanceReproduceOutputNotfound {
  readonly variant: 'notfound';
  readonly message: string;
}

export type ProvenanceReproduceOutput = ProvenanceReproduceOutputOk | ProvenanceReproduceOutputNotfound;

// --- Variant constructors ---

export const recordOk = (recordId: string): ProvenanceRecordOutput => ({ variant: 'ok', recordId } as ProvenanceRecordOutput);

export const traceOk = (chain: string): ProvenanceTraceOutput => ({ variant: 'ok', chain } as ProvenanceTraceOutput);
export const traceNotfound = (message: string): ProvenanceTraceOutput => ({ variant: 'notfound', message } as ProvenanceTraceOutput);

export const auditOk = (graph: string): ProvenanceAuditOutput => ({ variant: 'ok', graph } as ProvenanceAuditOutput);
export const auditNotfound = (message: string): ProvenanceAuditOutput => ({ variant: 'notfound', message } as ProvenanceAuditOutput);

export const rollbackOk = (rolled: number): ProvenanceRollbackOutput => ({ variant: 'ok', rolled } as ProvenanceRollbackOutput);
export const rollbackNotfound = (message: string): ProvenanceRollbackOutput => ({ variant: 'notfound', message } as ProvenanceRollbackOutput);

export const diffOk = (changes: string): ProvenanceDiffOutput => ({ variant: 'ok', changes } as ProvenanceDiffOutput);
export const diffNotfound = (message: string): ProvenanceDiffOutput => ({ variant: 'notfound', message } as ProvenanceDiffOutput);

export const reproduceOk = (plan: string): ProvenanceReproduceOutput => ({ variant: 'ok', plan } as ProvenanceReproduceOutput);
export const reproduceNotfound = (message: string): ProvenanceReproduceOutput => ({ variant: 'notfound', message } as ProvenanceReproduceOutput);

