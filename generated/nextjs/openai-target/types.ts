// OpenaiTarget â€” types.ts
// Generated by NextjsGen. Do not edit manually.
// Uses fp-ts for purely functional, composable concept implementations.

// Storage interface for OpenaiTarget
export interface OpenaiTargetStorage {
  readonly get: (relation: string, key: string) => Promise<Record<string, unknown> | null>;
  readonly put: (relation: string, key: string, value: Record<string, unknown>) => Promise<void>;
  readonly delete: (relation: string, key: string) => Promise<boolean>;
  readonly find: (relation: string, filter?: Record<string, unknown>) => Promise<readonly Record<string, unknown>[]>;
}

export interface OpenaiTargetGenerateInput {
  readonly projection: string;
  readonly config: string;
}

export interface OpenaiTargetGenerateOutputOk {
  readonly variant: 'ok';
  readonly functions: readonly string[];
  readonly files: readonly string[];
}

export interface OpenaiTargetGenerateOutputTooManyFunctions {
  readonly variant: 'tooManyFunctions';
  readonly count: number;
  readonly limit: number;
}

export type OpenaiTargetGenerateOutput = OpenaiTargetGenerateOutputOk | OpenaiTargetGenerateOutputTooManyFunctions;

export interface OpenaiTargetValidateInput {
  readonly function: string;
}

export interface OpenaiTargetValidateOutputOk {
  readonly variant: 'ok';
  readonly function: string;
}

export interface OpenaiTargetValidateOutputMissingDescription {
  readonly variant: 'missingDescription';
  readonly function: string;
  readonly functionName: string;
}

export type OpenaiTargetValidateOutput = OpenaiTargetValidateOutputOk | OpenaiTargetValidateOutputMissingDescription;

export interface OpenaiTargetListFunctionsInput {
  readonly concept: string;
}

export interface OpenaiTargetListFunctionsOutput {
  readonly variant: 'ok';
  readonly functions: readonly string[];
}

// --- Variant constructors ---

export const generateOk = (functions: readonly string[], files: readonly string[]): OpenaiTargetGenerateOutput => ({ variant: 'ok', functions, files } as OpenaiTargetGenerateOutput);
export const generateTooManyFunctions = (count: number, limit: number): OpenaiTargetGenerateOutput => ({ variant: 'tooManyFunctions', count, limit } as OpenaiTargetGenerateOutput);

export const validateOk = (function: string): OpenaiTargetValidateOutput => ({ variant: 'ok', function } as OpenaiTargetValidateOutput);
export const validateMissingDescription = (function: string, functionName: string): OpenaiTargetValidateOutput => ({ variant: 'missingDescription', function, functionName } as OpenaiTargetValidateOutput);

export const listFunctionsOk = (functions: readonly string[]): OpenaiTargetListFunctionsOutput => ({ variant: 'ok', functions } as OpenaiTargetListFunctionsOutput);

