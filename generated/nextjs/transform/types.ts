// Transform â€” types.ts
// Generated by NextjsGen. Do not edit manually.
// Uses fp-ts for purely functional, composable concept implementations.

// Storage interface for Transform
export interface TransformStorage {
  readonly get: (relation: string, key: string) => Promise<Record<string, unknown> | null>;
  readonly put: (relation: string, key: string, value: Record<string, unknown>) => Promise<void>;
  readonly delete: (relation: string, key: string) => Promise<boolean>;
  readonly find: (relation: string, filter?: Record<string, unknown>) => Promise<readonly Record<string, unknown>[]>;
}

export interface TransformApplyInput {
  readonly value: string;
  readonly transformId: string;
}

export interface TransformApplyOutputOk {
  readonly variant: 'ok';
  readonly result: string;
}

export interface TransformApplyOutputNotfound {
  readonly variant: 'notfound';
  readonly message: string;
}

export interface TransformApplyOutputError {
  readonly variant: 'error';
  readonly message: string;
}

export type TransformApplyOutput = TransformApplyOutputOk | TransformApplyOutputNotfound | TransformApplyOutputError;

export interface TransformChainInput {
  readonly value: string;
  readonly transformIds: string;
}

export interface TransformChainOutputOk {
  readonly variant: 'ok';
  readonly result: string;
}

export interface TransformChainOutputError {
  readonly variant: 'error';
  readonly message: string;
  readonly failedAt: string;
}

export type TransformChainOutput = TransformChainOutputOk | TransformChainOutputError;

export interface TransformPreviewInput {
  readonly value: string;
  readonly transformId: string;
}

export interface TransformPreviewOutputOk {
  readonly variant: 'ok';
  readonly before: string;
  readonly after: string;
}

export interface TransformPreviewOutputNotfound {
  readonly variant: 'notfound';
  readonly message: string;
}

export type TransformPreviewOutput = TransformPreviewOutputOk | TransformPreviewOutputNotfound;

// --- Variant constructors ---

export const applyOk = (result: string): TransformApplyOutput => ({ variant: 'ok', result } as TransformApplyOutput);
export const applyNotfound = (message: string): TransformApplyOutput => ({ variant: 'notfound', message } as TransformApplyOutput);
export const applyError = (message: string): TransformApplyOutput => ({ variant: 'error', message } as TransformApplyOutput);

export const chainOk = (result: string): TransformChainOutput => ({ variant: 'ok', result } as TransformChainOutput);
export const chainError = (message: string, failedAt: string): TransformChainOutput => ({ variant: 'error', message, failedAt } as TransformChainOutput);

export const previewOk = (before: string, after: string): TransformPreviewOutput => ({ variant: 'ok', before, after } as TransformPreviewOutput);
export const previewNotfound = (message: string): TransformPreviewOutput => ({ variant: 'notfound', message } as TransformPreviewOutput);

