// VariantEntity â€” types.ts
// Generated by NextjsGen. Do not edit manually.
// Uses fp-ts for purely functional, composable concept implementations.

// Storage interface for VariantEntity
export interface VariantEntityStorage {
  readonly get: (relation: string, key: string) => Promise<Record<string, unknown> | null>;
  readonly put: (relation: string, key: string, value: Record<string, unknown>) => Promise<void>;
  readonly delete: (relation: string, key: string) => Promise<boolean>;
  readonly find: (relation: string, filter?: Record<string, unknown>) => Promise<readonly Record<string, unknown>[]>;
}

export interface VariantEntityRegisterInput {
  readonly action: string;
  readonly tag: string;
  readonly fields: string;
}

export interface VariantEntityRegisterOutput {
  readonly variant: 'ok';
  readonly variant: string;
}

export interface VariantEntityMatchingSyncsInput {
  readonly variant: string;
}

export interface VariantEntityMatchingSyncsOutput {
  readonly variant: 'ok';
  readonly syncs: string;
}

export interface VariantEntityIsDeadInput {
  readonly variant: string;
}

export interface VariantEntityIsDeadOutputDead {
  readonly variant: 'dead';
  readonly noMatchingSyncs: string;
  readonly noRuntimeOccurrences: string;
}

export interface VariantEntityIsDeadOutputAlive {
  readonly variant: 'alive';
  readonly syncCount: number;
  readonly runtimeCount: number;
}

export type VariantEntityIsDeadOutput = VariantEntityIsDeadOutputDead | VariantEntityIsDeadOutputAlive;

export interface VariantEntityGetInput {
  readonly variant: string;
}

export interface VariantEntityGetOutputOk {
  readonly variant: 'ok';
  readonly variant: string;
  readonly action: string;
  readonly tag: string;
  readonly fields: string;
}

export interface VariantEntityGetOutputNotfound {
  readonly variant: 'notfound';
}

export type VariantEntityGetOutput = VariantEntityGetOutputOk | VariantEntityGetOutputNotfound;

// --- Variant constructors ---

export const registerOk = (variant: string): VariantEntityRegisterOutput => ({ variant: 'ok', variant } as VariantEntityRegisterOutput);

export const matchingSyncsOk = (syncs: string): VariantEntityMatchingSyncsOutput => ({ variant: 'ok', syncs } as VariantEntityMatchingSyncsOutput);

export const isDeadDead = (noMatchingSyncs: string, noRuntimeOccurrences: string): VariantEntityIsDeadOutput => ({ variant: 'dead', noMatchingSyncs, noRuntimeOccurrences } as VariantEntityIsDeadOutput);
export const isDeadAlive = (syncCount: number, runtimeCount: number): VariantEntityIsDeadOutput => ({ variant: 'alive', syncCount, runtimeCount } as VariantEntityIsDeadOutput);

export const getOk = (variant: string, action: string, tag: string, fields: string): VariantEntityGetOutput => ({ variant: 'ok', variant, action, tag, fields } as VariantEntityGetOutput);
export const getNotfound = (): VariantEntityGetOutput => ({ variant: 'notfound' } as VariantEntityGetOutput);

