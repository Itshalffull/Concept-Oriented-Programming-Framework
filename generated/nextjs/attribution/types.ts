// Attribution â€” types.ts
// Generated by NextjsGen. Do not edit manually.
// Uses fp-ts for purely functional, composable concept implementations.

// Storage interface for Attribution
export interface AttributionStorage {
  readonly get: (relation: string, key: string) => Promise<Record<string, unknown> | null>;
  readonly put: (relation: string, key: string, value: Record<string, unknown>) => Promise<void>;
  readonly delete: (relation: string, key: string) => Promise<boolean>;
  readonly find: (relation: string, filter?: Record<string, unknown>) => Promise<readonly Record<string, unknown>[]>;
}

export interface AttributionAttributeInput {
  readonly contentRef: string;
  readonly region: Buffer;
  readonly agent: string;
  readonly changeRef: string;
}

export interface AttributionAttributeOutput {
  readonly variant: 'ok';
  readonly attributionId: string;
}

export interface AttributionBlameInput {
  readonly contentRef: string;
}

export interface AttributionBlameOutput {
  readonly variant: 'ok';
  readonly map: readonly { readonly region: Buffer; readonly agent: string; readonly changeRef: string }[];
}

export interface AttributionHistoryInput {
  readonly contentRef: string;
  readonly region: Buffer;
}

export interface AttributionHistoryOutputOk {
  readonly variant: 'ok';
  readonly chain: readonly string[];
}

export interface AttributionHistoryOutputNotFound {
  readonly variant: 'notFound';
  readonly message: string;
}

export type AttributionHistoryOutput = AttributionHistoryOutputOk | AttributionHistoryOutputNotFound;

export interface AttributionSetOwnershipInput {
  readonly pattern: string;
  readonly owners: readonly string[];
}

export interface AttributionSetOwnershipOutput {
  readonly variant: 'ok';
}

export interface AttributionQueryOwnersInput {
  readonly path: string;
}

export interface AttributionQueryOwnersOutputOk {
  readonly variant: 'ok';
  readonly owners: readonly string[];
}

export interface AttributionQueryOwnersOutputNoMatch {
  readonly variant: 'noMatch';
  readonly message: string;
}

export type AttributionQueryOwnersOutput = AttributionQueryOwnersOutputOk | AttributionQueryOwnersOutputNoMatch;

// --- Variant constructors ---

export const attributeOk = (attributionId: string): AttributionAttributeOutput => ({ variant: 'ok', attributionId } as AttributionAttributeOutput);

export const blameOk = (map: readonly { readonly region: Buffer; readonly agent: string; readonly changeRef: string }[]): AttributionBlameOutput => ({ variant: 'ok', map } as AttributionBlameOutput);

export const historyOk = (chain: readonly string[]): AttributionHistoryOutput => ({ variant: 'ok', chain } as AttributionHistoryOutput);
export const historyNotFound = (message: string): AttributionHistoryOutput => ({ variant: 'notFound', message } as AttributionHistoryOutput);

export const setOwnershipOk = (): AttributionSetOwnershipOutput => ({ variant: 'ok' } as AttributionSetOwnershipOutput);

export const queryOwnersOk = (owners: readonly string[]): AttributionQueryOwnersOutput => ({ variant: 'ok', owners } as AttributionQueryOwnersOutput);
export const queryOwnersNoMatch = (message: string): AttributionQueryOwnersOutput => ({ variant: 'noMatch', message } as AttributionQueryOwnersOutput);

