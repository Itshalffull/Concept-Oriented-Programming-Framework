// CloudRunRuntime â€” types.ts
// Generated by NextjsGen. Do not edit manually.
// Uses fp-ts for purely functional, composable concept implementations.

// Storage interface for CloudRunRuntime
export interface CloudRunRuntimeStorage {
  readonly get: (relation: string, key: string) => Promise<Record<string, unknown> | null>;
  readonly put: (relation: string, key: string, value: Record<string, unknown>) => Promise<void>;
  readonly delete: (relation: string, key: string) => Promise<boolean>;
  readonly find: (relation: string, filter?: Record<string, unknown>) => Promise<readonly Record<string, unknown>[]>;
}

export interface CloudRunRuntimeProvisionInput {
  readonly concept: string;
  readonly projectId: string;
  readonly region: string;
  readonly cpu: number;
  readonly memory: number;
}

export interface CloudRunRuntimeProvisionOutputOk {
  readonly variant: 'ok';
  readonly service: string;
  readonly serviceUrl: string;
  readonly endpoint: string;
}

export interface CloudRunRuntimeProvisionOutputBillingDisabled {
  readonly variant: 'billingDisabled';
  readonly projectId: string;
}

export interface CloudRunRuntimeProvisionOutputRegionUnavailable {
  readonly variant: 'regionUnavailable';
  readonly region: string;
}

export type CloudRunRuntimeProvisionOutput = CloudRunRuntimeProvisionOutputOk | CloudRunRuntimeProvisionOutputBillingDisabled | CloudRunRuntimeProvisionOutputRegionUnavailable;

export interface CloudRunRuntimeDeployInput {
  readonly service: string;
  readonly imageUri: string;
}

export interface CloudRunRuntimeDeployOutputOk {
  readonly variant: 'ok';
  readonly service: string;
  readonly revision: string;
}

export interface CloudRunRuntimeDeployOutputImageNotFound {
  readonly variant: 'imageNotFound';
  readonly imageUri: string;
}

export type CloudRunRuntimeDeployOutput = CloudRunRuntimeDeployOutputOk | CloudRunRuntimeDeployOutputImageNotFound;

export interface CloudRunRuntimeSetTrafficWeightInput {
  readonly service: string;
  readonly weight: number;
}

export interface CloudRunRuntimeSetTrafficWeightOutput {
  readonly variant: 'ok';
  readonly service: string;
}

export interface CloudRunRuntimeRollbackInput {
  readonly service: string;
  readonly targetRevision: string;
}

export interface CloudRunRuntimeRollbackOutput {
  readonly variant: 'ok';
  readonly service: string;
  readonly restoredRevision: string;
}

export interface CloudRunRuntimeDestroyInput {
  readonly service: string;
}

export interface CloudRunRuntimeDestroyOutput {
  readonly variant: 'ok';
  readonly service: string;
}

// --- Variant constructors ---

export const provisionOk = (service: string, serviceUrl: string, endpoint: string): CloudRunRuntimeProvisionOutput => ({ variant: 'ok', service, serviceUrl, endpoint } as CloudRunRuntimeProvisionOutput);
export const provisionBillingDisabled = (projectId: string): CloudRunRuntimeProvisionOutput => ({ variant: 'billingDisabled', projectId } as CloudRunRuntimeProvisionOutput);
export const provisionRegionUnavailable = (region: string): CloudRunRuntimeProvisionOutput => ({ variant: 'regionUnavailable', region } as CloudRunRuntimeProvisionOutput);

export const deployOk = (service: string, revision: string): CloudRunRuntimeDeployOutput => ({ variant: 'ok', service, revision } as CloudRunRuntimeDeployOutput);
export const deployImageNotFound = (imageUri: string): CloudRunRuntimeDeployOutput => ({ variant: 'imageNotFound', imageUri } as CloudRunRuntimeDeployOutput);

export const setTrafficWeightOk = (service: string): CloudRunRuntimeSetTrafficWeightOutput => ({ variant: 'ok', service } as CloudRunRuntimeSetTrafficWeightOutput);

export const rollbackOk = (service: string, restoredRevision: string): CloudRunRuntimeRollbackOutput => ({ variant: 'ok', service, restoredRevision } as CloudRunRuntimeRollbackOutput);

export const destroyOk = (service: string): CloudRunRuntimeDestroyOutput => ({ variant: 'ok', service } as CloudRunRuntimeDestroyOutput);

