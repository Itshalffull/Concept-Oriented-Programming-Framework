// Queue â€” types.ts
// Generated by NextjsGen. Do not edit manually.
// Uses fp-ts for purely functional, composable concept implementations.

// Storage interface for Queue
export interface QueueStorage {
  readonly get: (relation: string, key: string) => Promise<Record<string, unknown> | null>;
  readonly put: (relation: string, key: string, value: Record<string, unknown>) => Promise<void>;
  readonly delete: (relation: string, key: string) => Promise<boolean>;
  readonly find: (relation: string, filter?: Record<string, unknown>) => Promise<readonly Record<string, unknown>[]>;
}

export interface QueueEnqueueInput {
  readonly queue: string;
  readonly item: string;
  readonly priority: number;
}

export interface QueueEnqueueOutputOk {
  readonly variant: 'ok';
  readonly itemId: string;
}

export interface QueueEnqueueOutputNotfound {
  readonly variant: 'notfound';
  readonly message: string;
}

export type QueueEnqueueOutput = QueueEnqueueOutputOk | QueueEnqueueOutputNotfound;

export interface QueueClaimInput {
  readonly queue: string;
  readonly worker: string;
}

export interface QueueClaimOutputOk {
  readonly variant: 'ok';
  readonly item: string;
}

export interface QueueClaimOutputEmpty {
  readonly variant: 'empty';
  readonly message: string;
}

export type QueueClaimOutput = QueueClaimOutputOk | QueueClaimOutputEmpty;

export interface QueueProcessInput {
  readonly queue: string;
  readonly itemId: string;
  readonly result: string;
}

export interface QueueProcessOutputOk {
  readonly variant: 'ok';
}

export interface QueueProcessOutputNotfound {
  readonly variant: 'notfound';
  readonly message: string;
}

export type QueueProcessOutput = QueueProcessOutputOk | QueueProcessOutputNotfound;

export interface QueueReleaseInput {
  readonly queue: string;
  readonly itemId: string;
}

export interface QueueReleaseOutputOk {
  readonly variant: 'ok';
}

export interface QueueReleaseOutputNotfound {
  readonly variant: 'notfound';
  readonly message: string;
}

export type QueueReleaseOutput = QueueReleaseOutputOk | QueueReleaseOutputNotfound;

export interface QueueDeleteInput {
  readonly queue: string;
  readonly itemId: string;
}

export interface QueueDeleteOutputOk {
  readonly variant: 'ok';
}

export interface QueueDeleteOutputNotfound {
  readonly variant: 'notfound';
  readonly message: string;
}

export type QueueDeleteOutput = QueueDeleteOutputOk | QueueDeleteOutputNotfound;

// --- Variant constructors ---

export const enqueueOk = (itemId: string): QueueEnqueueOutput => ({ variant: 'ok', itemId } as QueueEnqueueOutput);
export const enqueueNotfound = (message: string): QueueEnqueueOutput => ({ variant: 'notfound', message } as QueueEnqueueOutput);

export const claimOk = (item: string): QueueClaimOutput => ({ variant: 'ok', item } as QueueClaimOutput);
export const claimEmpty = (message: string): QueueClaimOutput => ({ variant: 'empty', message } as QueueClaimOutput);

export const processOk = (): QueueProcessOutput => ({ variant: 'ok' } as QueueProcessOutput);
export const processNotfound = (message: string): QueueProcessOutput => ({ variant: 'notfound', message } as QueueProcessOutput);

export const releaseOk = (): QueueReleaseOutput => ({ variant: 'ok' } as QueueReleaseOutput);
export const releaseNotfound = (message: string): QueueReleaseOutput => ({ variant: 'notfound', message } as QueueReleaseOutput);

export const deleteOk = (): QueueDeleteOutput => ({ variant: 'ok' } as QueueDeleteOutput);
export const deleteNotfound = (message: string): QueueDeleteOutput => ({ variant: 'notfound', message } as QueueDeleteOutput);

