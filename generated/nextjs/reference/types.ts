// Reference â€” types.ts
// Generated by NextjsGen. Do not edit manually.
// Uses fp-ts for purely functional, composable concept implementations.

// Storage interface for Reference
export interface ReferenceStorage {
  readonly get: (relation: string, key: string) => Promise<Record<string, unknown> | null>;
  readonly put: (relation: string, key: string, value: Record<string, unknown>) => Promise<void>;
  readonly delete: (relation: string, key: string) => Promise<boolean>;
  readonly find: (relation: string, filter?: Record<string, unknown>) => Promise<readonly Record<string, unknown>[]>;
}

export interface ReferenceAddRefInput {
  readonly source: string;
  readonly target: string;
}

export interface ReferenceAddRefOutputOk {
  readonly variant: 'ok';
  readonly source: string;
  readonly target: string;
}

export interface ReferenceAddRefOutputExists {
  readonly variant: 'exists';
  readonly source: string;
  readonly target: string;
}

export type ReferenceAddRefOutput = ReferenceAddRefOutputOk | ReferenceAddRefOutputExists;

export interface ReferenceRemoveRefInput {
  readonly source: string;
  readonly target: string;
}

export interface ReferenceRemoveRefOutputOk {
  readonly variant: 'ok';
  readonly source: string;
  readonly target: string;
}

export interface ReferenceRemoveRefOutputNotfound {
  readonly variant: 'notfound';
  readonly source: string;
  readonly target: string;
}

export type ReferenceRemoveRefOutput = ReferenceRemoveRefOutputOk | ReferenceRemoveRefOutputNotfound;

export interface ReferenceGetRefsInput {
  readonly source: string;
}

export interface ReferenceGetRefsOutputOk {
  readonly variant: 'ok';
  readonly targets: string;
}

export interface ReferenceGetRefsOutputNotfound {
  readonly variant: 'notfound';
  readonly source: string;
}

export type ReferenceGetRefsOutput = ReferenceGetRefsOutputOk | ReferenceGetRefsOutputNotfound;

export interface ReferenceResolveTargetInput {
  readonly target: string;
}

export interface ReferenceResolveTargetOutput {
  readonly variant: 'ok';
  readonly exists: boolean;
}

// --- Variant constructors ---

export const addRefOk = (source: string, target: string): ReferenceAddRefOutput => ({ variant: 'ok', source, target } as ReferenceAddRefOutput);
export const addRefExists = (source: string, target: string): ReferenceAddRefOutput => ({ variant: 'exists', source, target } as ReferenceAddRefOutput);

export const removeRefOk = (source: string, target: string): ReferenceRemoveRefOutput => ({ variant: 'ok', source, target } as ReferenceRemoveRefOutput);
export const removeRefNotfound = (source: string, target: string): ReferenceRemoveRefOutput => ({ variant: 'notfound', source, target } as ReferenceRemoveRefOutput);

export const getRefsOk = (targets: string): ReferenceGetRefsOutput => ({ variant: 'ok', targets } as ReferenceGetRefsOutput);
export const getRefsNotfound = (source: string): ReferenceGetRefsOutput => ({ variant: 'notfound', source } as ReferenceGetRefsOutput);

export const resolveTargetOk = (exists: boolean): ReferenceResolveTargetOutput => ({ variant: 'ok', exists } as ReferenceResolveTargetOutput);

