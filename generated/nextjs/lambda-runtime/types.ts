// LambdaRuntime â€” types.ts
// Generated by NextjsGen. Do not edit manually.
// Uses fp-ts for purely functional, composable concept implementations.

// Storage interface for LambdaRuntime
export interface LambdaRuntimeStorage {
  readonly get: (relation: string, key: string) => Promise<Record<string, unknown> | null>;
  readonly put: (relation: string, key: string, value: Record<string, unknown>) => Promise<void>;
  readonly delete: (relation: string, key: string) => Promise<boolean>;
  readonly find: (relation: string, filter?: Record<string, unknown>) => Promise<readonly Record<string, unknown>[]>;
}

export interface LambdaRuntimeProvisionInput {
  readonly concept: string;
  readonly memory: number;
  readonly timeout: number;
  readonly region: string;
}

export interface LambdaRuntimeProvisionOutputOk {
  readonly variant: 'ok';
  readonly function: string;
  readonly functionArn: string;
  readonly endpoint: string;
}

export interface LambdaRuntimeProvisionOutputQuotaExceeded {
  readonly variant: 'quotaExceeded';
  readonly region: string;
  readonly limit: string;
}

export interface LambdaRuntimeProvisionOutputIamError {
  readonly variant: 'iamError';
  readonly policy: string;
  readonly reason: string;
}

export type LambdaRuntimeProvisionOutput = LambdaRuntimeProvisionOutputOk | LambdaRuntimeProvisionOutputQuotaExceeded | LambdaRuntimeProvisionOutputIamError;

export interface LambdaRuntimeDeployInput {
  readonly function: string;
  readonly artifactLocation: string;
}

export interface LambdaRuntimeDeployOutputOk {
  readonly variant: 'ok';
  readonly function: string;
  readonly version: string;
}

export interface LambdaRuntimeDeployOutputPackageTooLarge {
  readonly variant: 'packageTooLarge';
  readonly function: string;
  readonly sizeBytes: number;
  readonly limitBytes: number;
}

export interface LambdaRuntimeDeployOutputRuntimeUnsupported {
  readonly variant: 'runtimeUnsupported';
  readonly function: string;
  readonly runtime: string;
}

export type LambdaRuntimeDeployOutput = LambdaRuntimeDeployOutputOk | LambdaRuntimeDeployOutputPackageTooLarge | LambdaRuntimeDeployOutputRuntimeUnsupported;

export interface LambdaRuntimeSetTrafficWeightInput {
  readonly function: string;
  readonly aliasWeight: number;
}

export interface LambdaRuntimeSetTrafficWeightOutput {
  readonly variant: 'ok';
  readonly function: string;
}

export interface LambdaRuntimeRollbackInput {
  readonly function: string;
  readonly targetVersion: string;
}

export interface LambdaRuntimeRollbackOutput {
  readonly variant: 'ok';
  readonly function: string;
  readonly restoredVersion: string;
}

export interface LambdaRuntimeDestroyInput {
  readonly function: string;
}

export interface LambdaRuntimeDestroyOutputOk {
  readonly variant: 'ok';
  readonly function: string;
}

export interface LambdaRuntimeDestroyOutputResourceInUse {
  readonly variant: 'resourceInUse';
  readonly function: string;
  readonly dependents: readonly string[];
}

export type LambdaRuntimeDestroyOutput = LambdaRuntimeDestroyOutputOk | LambdaRuntimeDestroyOutputResourceInUse;

// --- Variant constructors ---

export const provisionOk = (function: string, functionArn: string, endpoint: string): LambdaRuntimeProvisionOutput => ({ variant: 'ok', function, functionArn, endpoint } as LambdaRuntimeProvisionOutput);
export const provisionQuotaExceeded = (region: string, limit: string): LambdaRuntimeProvisionOutput => ({ variant: 'quotaExceeded', region, limit } as LambdaRuntimeProvisionOutput);
export const provisionIamError = (policy: string, reason: string): LambdaRuntimeProvisionOutput => ({ variant: 'iamError', policy, reason } as LambdaRuntimeProvisionOutput);

export const deployOk = (function: string, version: string): LambdaRuntimeDeployOutput => ({ variant: 'ok', function, version } as LambdaRuntimeDeployOutput);
export const deployPackageTooLarge = (function: string, sizeBytes: number, limitBytes: number): LambdaRuntimeDeployOutput => ({ variant: 'packageTooLarge', function, sizeBytes, limitBytes } as LambdaRuntimeDeployOutput);
export const deployRuntimeUnsupported = (function: string, runtime: string): LambdaRuntimeDeployOutput => ({ variant: 'runtimeUnsupported', function, runtime } as LambdaRuntimeDeployOutput);

export const setTrafficWeightOk = (function: string): LambdaRuntimeSetTrafficWeightOutput => ({ variant: 'ok', function } as LambdaRuntimeSetTrafficWeightOutput);

export const rollbackOk = (function: string, restoredVersion: string): LambdaRuntimeRollbackOutput => ({ variant: 'ok', function, restoredVersion } as LambdaRuntimeRollbackOutput);

export const destroyOk = (function: string): LambdaRuntimeDestroyOutput => ({ variant: 'ok', function } as LambdaRuntimeDestroyOutput);
export const destroyResourceInUse = (function: string, dependents: readonly string[]): LambdaRuntimeDestroyOutput => ({ variant: 'resourceInUse', function, dependents } as LambdaRuntimeDestroyOutput);

