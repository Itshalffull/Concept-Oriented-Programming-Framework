// ScopeGraph â€” types.ts
// Generated by NextjsGen. Do not edit manually.
// Uses fp-ts for purely functional, composable concept implementations.

// Storage interface for ScopeGraph
export interface ScopeGraphStorage {
  readonly get: (relation: string, key: string) => Promise<Record<string, unknown> | null>;
  readonly put: (relation: string, key: string, value: Record<string, unknown>) => Promise<void>;
  readonly delete: (relation: string, key: string) => Promise<boolean>;
  readonly find: (relation: string, filter?: Record<string, unknown>) => Promise<readonly Record<string, unknown>[]>;
}

export interface ScopeGraphBuildInput {
  readonly file: string;
  readonly tree: string;
}

export interface ScopeGraphBuildOutputOk {
  readonly variant: 'ok';
  readonly graph: string;
}

export interface ScopeGraphBuildOutputUnsupportedLanguage {
  readonly variant: 'unsupportedLanguage';
  readonly language: string;
}

export type ScopeGraphBuildOutput = ScopeGraphBuildOutputOk | ScopeGraphBuildOutputUnsupportedLanguage;

export interface ScopeGraphResolveReferenceInput {
  readonly graph: string;
  readonly scope: string;
  readonly name: string;
}

export interface ScopeGraphResolveReferenceOutputOk {
  readonly variant: 'ok';
  readonly symbol: string;
}

export interface ScopeGraphResolveReferenceOutputUnresolved {
  readonly variant: 'unresolved';
  readonly candidates: string;
}

export interface ScopeGraphResolveReferenceOutputAmbiguous {
  readonly variant: 'ambiguous';
  readonly symbols: string;
}

export type ScopeGraphResolveReferenceOutput = ScopeGraphResolveReferenceOutputOk | ScopeGraphResolveReferenceOutputUnresolved | ScopeGraphResolveReferenceOutputAmbiguous;

export interface ScopeGraphVisibleSymbolsInput {
  readonly graph: string;
  readonly scope: string;
}

export interface ScopeGraphVisibleSymbolsOutput {
  readonly variant: 'ok';
  readonly symbols: string;
}

export interface ScopeGraphResolveCrossFileInput {
  readonly graph: string;
}

export interface ScopeGraphResolveCrossFileOutputOk {
  readonly variant: 'ok';
  readonly resolvedCount: number;
}

export interface ScopeGraphResolveCrossFileOutputNoUnresolved {
  readonly variant: 'noUnresolved';
}

export type ScopeGraphResolveCrossFileOutput = ScopeGraphResolveCrossFileOutputOk | ScopeGraphResolveCrossFileOutputNoUnresolved;

export interface ScopeGraphGetInput {
  readonly graph: string;
}

export interface ScopeGraphGetOutputOk {
  readonly variant: 'ok';
  readonly graph: string;
  readonly file: string;
  readonly scopeCount: number;
  readonly declarationCount: number;
  readonly unresolvedCount: number;
}

export interface ScopeGraphGetOutputNotfound {
  readonly variant: 'notfound';
}

export type ScopeGraphGetOutput = ScopeGraphGetOutputOk | ScopeGraphGetOutputNotfound;

// --- Variant constructors ---

export const buildOk = (graph: string): ScopeGraphBuildOutput => ({ variant: 'ok', graph } as ScopeGraphBuildOutput);
export const buildUnsupportedLanguage = (language: string): ScopeGraphBuildOutput => ({ variant: 'unsupportedLanguage', language } as ScopeGraphBuildOutput);

export const resolveReferenceOk = (symbol: string): ScopeGraphResolveReferenceOutput => ({ variant: 'ok', symbol } as ScopeGraphResolveReferenceOutput);
export const resolveReferenceUnresolved = (candidates: string): ScopeGraphResolveReferenceOutput => ({ variant: 'unresolved', candidates } as ScopeGraphResolveReferenceOutput);
export const resolveReferenceAmbiguous = (symbols: string): ScopeGraphResolveReferenceOutput => ({ variant: 'ambiguous', symbols } as ScopeGraphResolveReferenceOutput);

export const visibleSymbolsOk = (symbols: string): ScopeGraphVisibleSymbolsOutput => ({ variant: 'ok', symbols } as ScopeGraphVisibleSymbolsOutput);

export const resolveCrossFileOk = (resolvedCount: number): ScopeGraphResolveCrossFileOutput => ({ variant: 'ok', resolvedCount } as ScopeGraphResolveCrossFileOutput);
export const resolveCrossFileNoUnresolved = (): ScopeGraphResolveCrossFileOutput => ({ variant: 'noUnresolved' } as ScopeGraphResolveCrossFileOutput);

export const getOk = (graph: string, file: string, scopeCount: number, declarationCount: number, unresolvedCount: number): ScopeGraphGetOutput => ({ variant: 'ok', graph, file, scopeCount, declarationCount, unresolvedCount } as ScopeGraphGetOutput);
export const getNotfound = (): ScopeGraphGetOutput => ({ variant: 'notfound' } as ScopeGraphGetOutput);

