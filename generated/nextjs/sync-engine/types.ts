// SyncEngine â€” types.ts
// Generated by NextjsGen. Do not edit manually.
// Uses fp-ts for purely functional, composable concept implementations.

// Storage interface for SyncEngine
export interface SyncEngineStorage {
  readonly get: (relation: string, key: string) => Promise<Record<string, unknown> | null>;
  readonly put: (relation: string, key: string, value: Record<string, unknown>) => Promise<void>;
  readonly delete: (relation: string, key: string) => Promise<boolean>;
  readonly find: (relation: string, filter?: Record<string, unknown>) => Promise<readonly Record<string, unknown>[]>;
}

export interface SyncEngineRegisterSyncInput {
  readonly sync: unknown;
}

export interface SyncEngineRegisterSyncOutput {
  readonly variant: 'ok';
}

export interface SyncEngineOnCompletionInput {
  readonly completion: unknown;
}

export interface SyncEngineOnCompletionOutput {
  readonly variant: 'ok';
  readonly invocations: readonly unknown[];
}

export interface SyncEngineEvaluateWhereInput {
  readonly bindings: unknown;
  readonly queries: readonly unknown[];
}

export interface SyncEngineEvaluateWhereOutputOk {
  readonly variant: 'ok';
  readonly results: readonly unknown[];
}

export interface SyncEngineEvaluateWhereOutputError {
  readonly variant: 'error';
  readonly message: string;
}

export type SyncEngineEvaluateWhereOutput = SyncEngineEvaluateWhereOutputOk | SyncEngineEvaluateWhereOutputError;

export interface SyncEngineQueueSyncInput {
  readonly sync: unknown;
  readonly bindings: unknown;
  readonly flow: string;
}

export interface SyncEngineQueueSyncOutput {
  readonly variant: 'ok';
  readonly pendingId: string;
}

export interface SyncEngineOnAvailabilityChangeInput {
  readonly conceptUri: string;
  readonly available: boolean;
}

export interface SyncEngineOnAvailabilityChangeOutput {
  readonly variant: 'ok';
  readonly drained: readonly unknown[];
}

export interface SyncEngineDrainConflictsInput {
}

export interface SyncEngineDrainConflictsOutput {
  readonly variant: 'ok';
  readonly conflicts: readonly unknown[];
}

// --- Variant constructors ---

export const registerSyncOk = (): SyncEngineRegisterSyncOutput => ({ variant: 'ok' } as SyncEngineRegisterSyncOutput);

export const onCompletionOk = (invocations: readonly unknown[]): SyncEngineOnCompletionOutput => ({ variant: 'ok', invocations } as SyncEngineOnCompletionOutput);

export const evaluateWhereOk = (results: readonly unknown[]): SyncEngineEvaluateWhereOutput => ({ variant: 'ok', results } as SyncEngineEvaluateWhereOutput);
export const evaluateWhereError = (message: string): SyncEngineEvaluateWhereOutput => ({ variant: 'error', message } as SyncEngineEvaluateWhereOutput);

export const queueSyncOk = (pendingId: string): SyncEngineQueueSyncOutput => ({ variant: 'ok', pendingId } as SyncEngineQueueSyncOutput);

export const onAvailabilityChangeOk = (drained: readonly unknown[]): SyncEngineOnAvailabilityChangeOutput => ({ variant: 'ok', drained } as SyncEngineOnAvailabilityChangeOutput);

export const drainConflictsOk = (conflicts: readonly unknown[]): SyncEngineDrainConflictsOutput => ({ variant: 'ok', conflicts } as SyncEngineDrainConflictsOutput);

