// GcpSmProvider â€” types.ts
// Generated by NextjsGen. Do not edit manually.
// Uses fp-ts for purely functional, composable concept implementations.

// Storage interface for GcpSmProvider
export interface GcpSmProviderStorage {
  readonly get: (relation: string, key: string) => Promise<Record<string, unknown> | null>;
  readonly put: (relation: string, key: string, value: Record<string, unknown>) => Promise<void>;
  readonly delete: (relation: string, key: string) => Promise<boolean>;
  readonly find: (relation: string, filter?: Record<string, unknown>) => Promise<readonly Record<string, unknown>[]>;
}

export interface GcpSmProviderFetchInput {
  readonly secretId: string;
  readonly version: string;
}

export interface GcpSmProviderFetchOutputOk {
  readonly variant: 'ok';
  readonly value: string;
  readonly versionId: string;
  readonly projectId: string;
}

export interface GcpSmProviderFetchOutputIamBindingMissing {
  readonly variant: 'iamBindingMissing';
  readonly secretId: string;
  readonly principal: string;
}

export interface GcpSmProviderFetchOutputVersionDisabled {
  readonly variant: 'versionDisabled';
  readonly secretId: string;
  readonly version: string;
}

export interface GcpSmProviderFetchOutputSecretNotFound {
  readonly variant: 'secretNotFound';
  readonly secretId: string;
  readonly projectId: string;
}

export type GcpSmProviderFetchOutput = GcpSmProviderFetchOutputOk | GcpSmProviderFetchOutputIamBindingMissing | GcpSmProviderFetchOutputVersionDisabled | GcpSmProviderFetchOutputSecretNotFound;

export interface GcpSmProviderRotateInput {
  readonly secretId: string;
}

export interface GcpSmProviderRotateOutput {
  readonly variant: 'ok';
  readonly secretId: string;
  readonly newVersionId: string;
}

// --- Variant constructors ---

export const fetchOk = (value: string, versionId: string, projectId: string): GcpSmProviderFetchOutput => ({ variant: 'ok', value, versionId, projectId } as GcpSmProviderFetchOutput);
export const fetchIamBindingMissing = (secretId: string, principal: string): GcpSmProviderFetchOutput => ({ variant: 'iamBindingMissing', secretId, principal } as GcpSmProviderFetchOutput);
export const fetchVersionDisabled = (secretId: string, version: string): GcpSmProviderFetchOutput => ({ variant: 'versionDisabled', secretId, version } as GcpSmProviderFetchOutput);
export const fetchSecretNotFound = (secretId: string, projectId: string): GcpSmProviderFetchOutput => ({ variant: 'secretNotFound', secretId, projectId } as GcpSmProviderFetchOutput);

export const rotateOk = (secretId: string, newVersionId: string): GcpSmProviderRotateOutput => ({ variant: 'ok', secretId, newVersionId } as GcpSmProviderRotateOutput);

