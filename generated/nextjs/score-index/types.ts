// ScoreIndex â€” types.ts
// Generated by NextjsGen. Do not edit manually.
// Uses fp-ts for purely functional, composable concept implementations.

// Storage interface for ScoreIndex
export interface ScoreIndexStorage {
  readonly get: (relation: string, key: string) => Promise<Record<string, unknown> | null>;
  readonly put: (relation: string, key: string, value: Record<string, unknown>) => Promise<void>;
  readonly delete: (relation: string, key: string) => Promise<boolean>;
  readonly find: (relation: string, filter?: Record<string, unknown>) => Promise<readonly Record<string, unknown>[]>;
}

export interface ScoreIndexUpsertConceptInput {
  readonly name: string;
  readonly purpose: string;
  readonly actions: readonly string[];
  readonly stateFields: readonly string[];
  readonly file: string;
}

export interface ScoreIndexUpsertConceptOutputOk {
  readonly variant: 'ok';
  readonly index: string;
}

export interface ScoreIndexUpsertConceptOutputError {
  readonly variant: 'error';
  readonly message: string;
}

export type ScoreIndexUpsertConceptOutput = ScoreIndexUpsertConceptOutputOk | ScoreIndexUpsertConceptOutputError;

export interface ScoreIndexUpsertSyncInput {
  readonly name: string;
  readonly annotation: string;
  readonly triggers: readonly string[];
  readonly effects: readonly string[];
  readonly file: string;
}

export interface ScoreIndexUpsertSyncOutputOk {
  readonly variant: 'ok';
  readonly index: string;
}

export interface ScoreIndexUpsertSyncOutputError {
  readonly variant: 'error';
  readonly message: string;
}

export type ScoreIndexUpsertSyncOutput = ScoreIndexUpsertSyncOutputOk | ScoreIndexUpsertSyncOutputError;

export interface ScoreIndexUpsertSymbolInput {
  readonly name: string;
  readonly kind: string;
  readonly file: string;
  readonly line: number;
  readonly scope: string;
}

export interface ScoreIndexUpsertSymbolOutputOk {
  readonly variant: 'ok';
  readonly index: string;
}

export interface ScoreIndexUpsertSymbolOutputError {
  readonly variant: 'error';
  readonly message: string;
}

export type ScoreIndexUpsertSymbolOutput = ScoreIndexUpsertSymbolOutputOk | ScoreIndexUpsertSymbolOutputError;

export interface ScoreIndexUpsertFileInput {
  readonly path: string;
  readonly language: string;
  readonly role: string;
  readonly definitions: readonly string[];
}

export interface ScoreIndexUpsertFileOutputOk {
  readonly variant: 'ok';
  readonly index: string;
}

export interface ScoreIndexUpsertFileOutputError {
  readonly variant: 'error';
  readonly message: string;
}

export type ScoreIndexUpsertFileOutput = ScoreIndexUpsertFileOutputOk | ScoreIndexUpsertFileOutputError;

export interface ScoreIndexRemoveByFileInput {
  readonly path: string;
}

export interface ScoreIndexRemoveByFileOutput {
  readonly variant: 'ok';
  readonly removed: number;
}

export interface ScoreIndexClearInput {
}

export interface ScoreIndexClearOutput {
  readonly variant: 'ok';
  readonly cleared: number;
}

export interface ScoreIndexStatsInput {
}

export interface ScoreIndexStatsOutput {
  readonly variant: 'ok';
  readonly conceptCount: number;
  readonly syncCount: number;
  readonly symbolCount: number;
  readonly fileCount: number;
  readonly lastUpdated: Date;
}

// --- Variant constructors ---

export const upsertConceptOk = (index: string): ScoreIndexUpsertConceptOutput => ({ variant: 'ok', index } as ScoreIndexUpsertConceptOutput);
export const upsertConceptError = (message: string): ScoreIndexUpsertConceptOutput => ({ variant: 'error', message } as ScoreIndexUpsertConceptOutput);

export const upsertSyncOk = (index: string): ScoreIndexUpsertSyncOutput => ({ variant: 'ok', index } as ScoreIndexUpsertSyncOutput);
export const upsertSyncError = (message: string): ScoreIndexUpsertSyncOutput => ({ variant: 'error', message } as ScoreIndexUpsertSyncOutput);

export const upsertSymbolOk = (index: string): ScoreIndexUpsertSymbolOutput => ({ variant: 'ok', index } as ScoreIndexUpsertSymbolOutput);
export const upsertSymbolError = (message: string): ScoreIndexUpsertSymbolOutput => ({ variant: 'error', message } as ScoreIndexUpsertSymbolOutput);

export const upsertFileOk = (index: string): ScoreIndexUpsertFileOutput => ({ variant: 'ok', index } as ScoreIndexUpsertFileOutput);
export const upsertFileError = (message: string): ScoreIndexUpsertFileOutput => ({ variant: 'error', message } as ScoreIndexUpsertFileOutput);

export const removeByFileOk = (removed: number): ScoreIndexRemoveByFileOutput => ({ variant: 'ok', removed } as ScoreIndexRemoveByFileOutput);

export const clearOk = (cleared: number): ScoreIndexClearOutput => ({ variant: 'ok', cleared } as ScoreIndexClearOutput);

export const statsOk = (conceptCount: number, syncCount: number, symbolCount: number, fileCount: number, lastUpdated: Date): ScoreIndexStatsOutput => ({ variant: 'ok', conceptCount, syncCount, symbolCount, fileCount, lastUpdated } as ScoreIndexStatsOutput);

