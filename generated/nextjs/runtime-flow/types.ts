// RuntimeFlow â€” types.ts
// Generated by NextjsGen. Do not edit manually.
// Uses fp-ts for purely functional, composable concept implementations.

// Storage interface for RuntimeFlow
export interface RuntimeFlowStorage {
  readonly get: (relation: string, key: string) => Promise<Record<string, unknown> | null>;
  readonly put: (relation: string, key: string, value: Record<string, unknown>) => Promise<void>;
  readonly delete: (relation: string, key: string) => Promise<boolean>;
  readonly find: (relation: string, filter?: Record<string, unknown>) => Promise<readonly Record<string, unknown>[]>;
}

export interface RuntimeFlowCorrelateInput {
  readonly flowId: string;
}

export interface RuntimeFlowCorrelateOutputOk {
  readonly variant: 'ok';
  readonly flow: string;
}

export interface RuntimeFlowCorrelateOutputPartial {
  readonly variant: 'partial';
  readonly flow: string;
  readonly unresolved: string;
}

export interface RuntimeFlowCorrelateOutputNotfound {
  readonly variant: 'notfound';
}

export type RuntimeFlowCorrelateOutput = RuntimeFlowCorrelateOutputOk | RuntimeFlowCorrelateOutputPartial | RuntimeFlowCorrelateOutputNotfound;

export interface RuntimeFlowFindByActionInput {
  readonly action: string;
  readonly since: string;
}

export interface RuntimeFlowFindByActionOutput {
  readonly variant: 'ok';
  readonly flows: string;
}

export interface RuntimeFlowFindBySyncInput {
  readonly sync: string;
  readonly since: string;
}

export interface RuntimeFlowFindBySyncOutput {
  readonly variant: 'ok';
  readonly flows: string;
}

export interface RuntimeFlowFindByVariantInput {
  readonly variant: string;
  readonly since: string;
}

export interface RuntimeFlowFindByVariantOutput {
  readonly variant: 'ok';
  readonly flows: string;
}

export interface RuntimeFlowFindFailuresInput {
  readonly since: string;
}

export interface RuntimeFlowFindFailuresOutput {
  readonly variant: 'ok';
  readonly flows: string;
}

export interface RuntimeFlowCompareToStaticInput {
  readonly flow: string;
}

export interface RuntimeFlowCompareToStaticOutputMatches {
  readonly variant: 'matches';
  readonly pathLength: number;
}

export interface RuntimeFlowCompareToStaticOutputDeviates {
  readonly variant: 'deviates';
  readonly deviations: string;
}

export interface RuntimeFlowCompareToStaticOutputNoStaticPath {
  readonly variant: 'noStaticPath';
}

export type RuntimeFlowCompareToStaticOutput = RuntimeFlowCompareToStaticOutputMatches | RuntimeFlowCompareToStaticOutputDeviates | RuntimeFlowCompareToStaticOutputNoStaticPath;

export interface RuntimeFlowSourceLocationsInput {
  readonly flow: string;
}

export interface RuntimeFlowSourceLocationsOutput {
  readonly variant: 'ok';
  readonly locations: string;
}

export interface RuntimeFlowGetInput {
  readonly flow: string;
}

export interface RuntimeFlowGetOutputOk {
  readonly variant: 'ok';
  readonly flow: string;
  readonly flowId: string;
  readonly status: string;
  readonly stepCount: number;
  readonly deviationCount: number;
}

export interface RuntimeFlowGetOutputNotfound {
  readonly variant: 'notfound';
}

export type RuntimeFlowGetOutput = RuntimeFlowGetOutputOk | RuntimeFlowGetOutputNotfound;

// --- Variant constructors ---

export const correlateOk = (flow: string): RuntimeFlowCorrelateOutput => ({ variant: 'ok', flow } as RuntimeFlowCorrelateOutput);
export const correlatePartial = (flow: string, unresolved: string): RuntimeFlowCorrelateOutput => ({ variant: 'partial', flow, unresolved } as RuntimeFlowCorrelateOutput);
export const correlateNotfound = (): RuntimeFlowCorrelateOutput => ({ variant: 'notfound' } as RuntimeFlowCorrelateOutput);

export const findByActionOk = (flows: string): RuntimeFlowFindByActionOutput => ({ variant: 'ok', flows } as RuntimeFlowFindByActionOutput);

export const findBySyncOk = (flows: string): RuntimeFlowFindBySyncOutput => ({ variant: 'ok', flows } as RuntimeFlowFindBySyncOutput);

export const findByVariantOk = (flows: string): RuntimeFlowFindByVariantOutput => ({ variant: 'ok', flows } as RuntimeFlowFindByVariantOutput);

export const findFailuresOk = (flows: string): RuntimeFlowFindFailuresOutput => ({ variant: 'ok', flows } as RuntimeFlowFindFailuresOutput);

export const compareToStaticMatches = (pathLength: number): RuntimeFlowCompareToStaticOutput => ({ variant: 'matches', pathLength } as RuntimeFlowCompareToStaticOutput);
export const compareToStaticDeviates = (deviations: string): RuntimeFlowCompareToStaticOutput => ({ variant: 'deviates', deviations } as RuntimeFlowCompareToStaticOutput);
export const compareToStaticNoStaticPath = (): RuntimeFlowCompareToStaticOutput => ({ variant: 'noStaticPath' } as RuntimeFlowCompareToStaticOutput);

export const sourceLocationsOk = (locations: string): RuntimeFlowSourceLocationsOutput => ({ variant: 'ok', locations } as RuntimeFlowSourceLocationsOutput);

export const getOk = (flow: string, flowId: string, status: string, stepCount: number, deviationCount: number): RuntimeFlowGetOutput => ({ variant: 'ok', flow, flowId, status, stepCount, deviationCount } as RuntimeFlowGetOutput);
export const getNotfound = (): RuntimeFlowGetOutput => ({ variant: 'notfound' } as RuntimeFlowGetOutput);

