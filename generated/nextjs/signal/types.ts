// Signal â€” types.ts
// Generated by NextjsGen. Do not edit manually.
// Uses fp-ts for purely functional, composable concept implementations.

// Storage interface for Signal
export interface SignalStorage {
  readonly get: (relation: string, key: string) => Promise<Record<string, unknown> | null>;
  readonly put: (relation: string, key: string, value: Record<string, unknown>) => Promise<void>;
  readonly delete: (relation: string, key: string) => Promise<boolean>;
  readonly find: (relation: string, filter?: Record<string, unknown>) => Promise<readonly Record<string, unknown>[]>;
}

export interface SignalCreateInput {
  readonly signal: string;
  readonly kind: string;
  readonly initialValue: string;
}

export interface SignalCreateOutputOk {
  readonly variant: 'ok';
  readonly signal: string;
}

export interface SignalCreateOutputInvalid {
  readonly variant: 'invalid';
  readonly message: string;
}

export type SignalCreateOutput = SignalCreateOutputOk | SignalCreateOutputInvalid;

export interface SignalReadInput {
  readonly signal: string;
}

export interface SignalReadOutputOk {
  readonly variant: 'ok';
  readonly signal: string;
  readonly value: string;
  readonly version: number;
}

export interface SignalReadOutputNotfound {
  readonly variant: 'notfound';
  readonly message: string;
}

export type SignalReadOutput = SignalReadOutputOk | SignalReadOutputNotfound;

export interface SignalWriteInput {
  readonly signal: string;
  readonly value: string;
}

export interface SignalWriteOutputOk {
  readonly variant: 'ok';
  readonly signal: string;
  readonly version: number;
}

export interface SignalWriteOutputReadonly {
  readonly variant: 'readonly';
  readonly message: string;
}

export interface SignalWriteOutputNotfound {
  readonly variant: 'notfound';
  readonly message: string;
}

export type SignalWriteOutput = SignalWriteOutputOk | SignalWriteOutputReadonly | SignalWriteOutputNotfound;

export interface SignalBatchInput {
  readonly signals: string;
}

export interface SignalBatchOutputOk {
  readonly variant: 'ok';
  readonly count: number;
}

export interface SignalBatchOutputPartial {
  readonly variant: 'partial';
  readonly message: string;
  readonly succeeded: number;
  readonly failed: number;
}

export type SignalBatchOutput = SignalBatchOutputOk | SignalBatchOutputPartial;

export interface SignalDisposeInput {
  readonly signal: string;
}

export interface SignalDisposeOutputOk {
  readonly variant: 'ok';
  readonly signal: string;
}

export interface SignalDisposeOutputNotfound {
  readonly variant: 'notfound';
  readonly message: string;
}

export type SignalDisposeOutput = SignalDisposeOutputOk | SignalDisposeOutputNotfound;

// --- Variant constructors ---

export const createOk = (signal: string): SignalCreateOutput => ({ variant: 'ok', signal } as SignalCreateOutput);
export const createInvalid = (message: string): SignalCreateOutput => ({ variant: 'invalid', message } as SignalCreateOutput);

export const readOk = (signal: string, value: string, version: number): SignalReadOutput => ({ variant: 'ok', signal, value, version } as SignalReadOutput);
export const readNotfound = (message: string): SignalReadOutput => ({ variant: 'notfound', message } as SignalReadOutput);

export const writeOk = (signal: string, version: number): SignalWriteOutput => ({ variant: 'ok', signal, version } as SignalWriteOutput);
export const writeReadonly = (message: string): SignalWriteOutput => ({ variant: 'readonly', message } as SignalWriteOutput);
export const writeNotfound = (message: string): SignalWriteOutput => ({ variant: 'notfound', message } as SignalWriteOutput);

export const batchOk = (count: number): SignalBatchOutput => ({ variant: 'ok', count } as SignalBatchOutput);
export const batchPartial = (message: string, succeeded: number, failed: number): SignalBatchOutput => ({ variant: 'partial', message, succeeded, failed } as SignalBatchOutput);

export const disposeOk = (signal: string): SignalDisposeOutput => ({ variant: 'ok', signal } as SignalDisposeOutput);
export const disposeNotfound = (message: string): SignalDisposeOutput => ({ variant: 'notfound', message } as SignalDisposeOutput);

