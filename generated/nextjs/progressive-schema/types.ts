// ProgressiveSchema â€” types.ts
// Generated by NextjsGen. Do not edit manually.
// Uses fp-ts for purely functional, composable concept implementations.

// Storage interface for ProgressiveSchema
export interface ProgressiveSchemaStorage {
  readonly get: (relation: string, key: string) => Promise<Record<string, unknown> | null>;
  readonly put: (relation: string, key: string, value: Record<string, unknown>) => Promise<void>;
  readonly delete: (relation: string, key: string) => Promise<boolean>;
  readonly find: (relation: string, filter?: Record<string, unknown>) => Promise<readonly Record<string, unknown>[]>;
}

export interface ProgressiveSchemaCaptureFreeformInput {
  readonly content: string;
}

export interface ProgressiveSchemaCaptureFreeformOutput {
  readonly variant: 'ok';
  readonly itemId: string;
}

export interface ProgressiveSchemaDetectStructureInput {
  readonly itemId: string;
}

export interface ProgressiveSchemaDetectStructureOutputOk {
  readonly variant: 'ok';
  readonly suggestions: string;
}

export interface ProgressiveSchemaDetectStructureOutputNotfound {
  readonly variant: 'notfound';
  readonly message: string;
}

export type ProgressiveSchemaDetectStructureOutput = ProgressiveSchemaDetectStructureOutputOk | ProgressiveSchemaDetectStructureOutputNotfound;

export interface ProgressiveSchemaAcceptSuggestionInput {
  readonly itemId: string;
  readonly suggestionId: string;
}

export interface ProgressiveSchemaAcceptSuggestionOutputOk {
  readonly variant: 'ok';
}

export interface ProgressiveSchemaAcceptSuggestionOutputNotfound {
  readonly variant: 'notfound';
  readonly message: string;
}

export type ProgressiveSchemaAcceptSuggestionOutput = ProgressiveSchemaAcceptSuggestionOutputOk | ProgressiveSchemaAcceptSuggestionOutputNotfound;

export interface ProgressiveSchemaRejectSuggestionInput {
  readonly itemId: string;
  readonly suggestionId: string;
}

export interface ProgressiveSchemaRejectSuggestionOutputOk {
  readonly variant: 'ok';
}

export interface ProgressiveSchemaRejectSuggestionOutputNotfound {
  readonly variant: 'notfound';
  readonly message: string;
}

export type ProgressiveSchemaRejectSuggestionOutput = ProgressiveSchemaRejectSuggestionOutputOk | ProgressiveSchemaRejectSuggestionOutputNotfound;

export interface ProgressiveSchemaPromoteInput {
  readonly itemId: string;
  readonly targetSchema: string;
}

export interface ProgressiveSchemaPromoteOutputOk {
  readonly variant: 'ok';
  readonly result: string;
}

export interface ProgressiveSchemaPromoteOutputNotfound {
  readonly variant: 'notfound';
  readonly message: string;
}

export interface ProgressiveSchemaPromoteOutputIncomplete {
  readonly variant: 'incomplete';
  readonly gaps: string;
}

export type ProgressiveSchemaPromoteOutput = ProgressiveSchemaPromoteOutputOk | ProgressiveSchemaPromoteOutputNotfound | ProgressiveSchemaPromoteOutputIncomplete;

export interface ProgressiveSchemaInferSchemaInput {
  readonly items: string;
}

export interface ProgressiveSchemaInferSchemaOutputOk {
  readonly variant: 'ok';
  readonly proposedSchema: string;
}

export interface ProgressiveSchemaInferSchemaOutputError {
  readonly variant: 'error';
  readonly message: string;
}

export type ProgressiveSchemaInferSchemaOutput = ProgressiveSchemaInferSchemaOutputOk | ProgressiveSchemaInferSchemaOutputError;

// --- Variant constructors ---

export const captureFreeformOk = (itemId: string): ProgressiveSchemaCaptureFreeformOutput => ({ variant: 'ok', itemId } as ProgressiveSchemaCaptureFreeformOutput);

export const detectStructureOk = (suggestions: string): ProgressiveSchemaDetectStructureOutput => ({ variant: 'ok', suggestions } as ProgressiveSchemaDetectStructureOutput);
export const detectStructureNotfound = (message: string): ProgressiveSchemaDetectStructureOutput => ({ variant: 'notfound', message } as ProgressiveSchemaDetectStructureOutput);

export const acceptSuggestionOk = (): ProgressiveSchemaAcceptSuggestionOutput => ({ variant: 'ok' } as ProgressiveSchemaAcceptSuggestionOutput);
export const acceptSuggestionNotfound = (message: string): ProgressiveSchemaAcceptSuggestionOutput => ({ variant: 'notfound', message } as ProgressiveSchemaAcceptSuggestionOutput);

export const rejectSuggestionOk = (): ProgressiveSchemaRejectSuggestionOutput => ({ variant: 'ok' } as ProgressiveSchemaRejectSuggestionOutput);
export const rejectSuggestionNotfound = (message: string): ProgressiveSchemaRejectSuggestionOutput => ({ variant: 'notfound', message } as ProgressiveSchemaRejectSuggestionOutput);

export const promoteOk = (result: string): ProgressiveSchemaPromoteOutput => ({ variant: 'ok', result } as ProgressiveSchemaPromoteOutput);
export const promoteNotfound = (message: string): ProgressiveSchemaPromoteOutput => ({ variant: 'notfound', message } as ProgressiveSchemaPromoteOutput);
export const promoteIncomplete = (gaps: string): ProgressiveSchemaPromoteOutput => ({ variant: 'incomplete', gaps } as ProgressiveSchemaPromoteOutput);

export const inferSchemaOk = (proposedSchema: string): ProgressiveSchemaInferSchemaOutput => ({ variant: 'ok', proposedSchema } as ProgressiveSchemaInferSchemaOutput);
export const inferSchemaError = (message: string): ProgressiveSchemaInferSchemaOutput => ({ variant: 'error', message } as ProgressiveSchemaInferSchemaOutput);

