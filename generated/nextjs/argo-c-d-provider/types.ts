// ArgoCDProvider â€” types.ts
// Generated by NextjsGen. Do not edit manually.
// Uses fp-ts for purely functional, composable concept implementations.

// Storage interface for ArgoCDProvider
export interface ArgoCDProviderStorage {
  readonly get: (relation: string, key: string) => Promise<Record<string, unknown> | null>;
  readonly put: (relation: string, key: string, value: Record<string, unknown>) => Promise<void>;
  readonly delete: (relation: string, key: string) => Promise<boolean>;
  readonly find: (relation: string, filter?: Record<string, unknown>) => Promise<readonly Record<string, unknown>[]>;
}

export interface ArgoCDProviderEmitInput {
  readonly plan: string;
  readonly repo: string;
  readonly path: string;
}

export interface ArgoCDProviderEmitOutput {
  readonly variant: 'ok';
  readonly application: string;
  readonly files: readonly string[];
}

export interface ArgoCDProviderReconciliationStatusInput {
  readonly application: string;
}

export interface ArgoCDProviderReconciliationStatusOutputOk {
  readonly variant: 'ok';
  readonly application: string;
  readonly syncStatus: string;
  readonly healthStatus: string;
  readonly reconciledAt: Date;
}

export interface ArgoCDProviderReconciliationStatusOutputPending {
  readonly variant: 'pending';
  readonly application: string;
  readonly waitingOn: readonly string[];
}

export interface ArgoCDProviderReconciliationStatusOutputDegraded {
  readonly variant: 'degraded';
  readonly application: string;
  readonly unhealthyResources: readonly string[];
}

export interface ArgoCDProviderReconciliationStatusOutputFailed {
  readonly variant: 'failed';
  readonly application: string;
  readonly reason: string;
}

export type ArgoCDProviderReconciliationStatusOutput = ArgoCDProviderReconciliationStatusOutputOk | ArgoCDProviderReconciliationStatusOutputPending | ArgoCDProviderReconciliationStatusOutputDegraded | ArgoCDProviderReconciliationStatusOutputFailed;

export interface ArgoCDProviderSyncWaveInput {
  readonly application: string;
  readonly wave: number;
}

export interface ArgoCDProviderSyncWaveOutput {
  readonly variant: 'ok';
  readonly application: string;
}

// --- Variant constructors ---

export const emitOk = (application: string, files: readonly string[]): ArgoCDProviderEmitOutput => ({ variant: 'ok', application, files } as ArgoCDProviderEmitOutput);

export const reconciliationStatusOk = (application: string, syncStatus: string, healthStatus: string, reconciledAt: Date): ArgoCDProviderReconciliationStatusOutput => ({ variant: 'ok', application, syncStatus, healthStatus, reconciledAt } as ArgoCDProviderReconciliationStatusOutput);
export const reconciliationStatusPending = (application: string, waitingOn: readonly string[]): ArgoCDProviderReconciliationStatusOutput => ({ variant: 'pending', application, waitingOn } as ArgoCDProviderReconciliationStatusOutput);
export const reconciliationStatusDegraded = (application: string, unhealthyResources: readonly string[]): ArgoCDProviderReconciliationStatusOutput => ({ variant: 'degraded', application, unhealthyResources } as ArgoCDProviderReconciliationStatusOutput);
export const reconciliationStatusFailed = (application: string, reason: string): ArgoCDProviderReconciliationStatusOutput => ({ variant: 'failed', application, reason } as ArgoCDProviderReconciliationStatusOutput);

export const syncWaveOk = (application: string): ArgoCDProviderSyncWaveOutput => ({ variant: 'ok', application } as ArgoCDProviderSyncWaveOutput);

