// Session â€” types.ts
// Generated by NextjsGen. Do not edit manually.
// Uses fp-ts for purely functional, composable concept implementations.

// Storage interface for Session
export interface SessionStorage {
  readonly get: (relation: string, key: string) => Promise<Record<string, unknown> | null>;
  readonly put: (relation: string, key: string, value: Record<string, unknown>) => Promise<void>;
  readonly delete: (relation: string, key: string) => Promise<boolean>;
  readonly find: (relation: string, filter?: Record<string, unknown>) => Promise<readonly Record<string, unknown>[]>;
}

export interface SessionCreateInput {
  readonly session: string;
  readonly userId: string;
  readonly device: string;
}

export interface SessionCreateOutputOk {
  readonly variant: 'ok';
  readonly token: string;
}

export interface SessionCreateOutputError {
  readonly variant: 'error';
  readonly message: string;
}

export type SessionCreateOutput = SessionCreateOutputOk | SessionCreateOutputError;

export interface SessionValidateInput {
  readonly session: string;
}

export interface SessionValidateOutputOk {
  readonly variant: 'ok';
  readonly valid: boolean;
}

export interface SessionValidateOutputNotfound {
  readonly variant: 'notfound';
  readonly message: string;
}

export type SessionValidateOutput = SessionValidateOutputOk | SessionValidateOutputNotfound;

export interface SessionRefreshInput {
  readonly session: string;
}

export interface SessionRefreshOutputOk {
  readonly variant: 'ok';
  readonly token: string;
}

export interface SessionRefreshOutputNotfound {
  readonly variant: 'notfound';
  readonly message: string;
}

export interface SessionRefreshOutputExpired {
  readonly variant: 'expired';
  readonly message: string;
}

export type SessionRefreshOutput = SessionRefreshOutputOk | SessionRefreshOutputNotfound | SessionRefreshOutputExpired;

export interface SessionDestroyInput {
  readonly session: string;
}

export interface SessionDestroyOutputOk {
  readonly variant: 'ok';
  readonly session: string;
}

export interface SessionDestroyOutputNotfound {
  readonly variant: 'notfound';
  readonly message: string;
}

export type SessionDestroyOutput = SessionDestroyOutputOk | SessionDestroyOutputNotfound;

export interface SessionDestroyAllInput {
  readonly userId: string;
}

export interface SessionDestroyAllOutput {
  readonly variant: 'ok';
  readonly userId: string;
}

export interface SessionGetContextInput {
  readonly session: string;
}

export interface SessionGetContextOutputOk {
  readonly variant: 'ok';
  readonly userId: string;
  readonly device: string;
}

export interface SessionGetContextOutputNotfound {
  readonly variant: 'notfound';
  readonly message: string;
}

export type SessionGetContextOutput = SessionGetContextOutputOk | SessionGetContextOutputNotfound;

// --- Variant constructors ---

export const createOk = (token: string): SessionCreateOutput => ({ variant: 'ok', token } as SessionCreateOutput);
export const createError = (message: string): SessionCreateOutput => ({ variant: 'error', message } as SessionCreateOutput);

export const validateOk = (valid: boolean): SessionValidateOutput => ({ variant: 'ok', valid } as SessionValidateOutput);
export const validateNotfound = (message: string): SessionValidateOutput => ({ variant: 'notfound', message } as SessionValidateOutput);

export const refreshOk = (token: string): SessionRefreshOutput => ({ variant: 'ok', token } as SessionRefreshOutput);
export const refreshNotfound = (message: string): SessionRefreshOutput => ({ variant: 'notfound', message } as SessionRefreshOutput);
export const refreshExpired = (message: string): SessionRefreshOutput => ({ variant: 'expired', message } as SessionRefreshOutput);

export const destroyOk = (session: string): SessionDestroyOutput => ({ variant: 'ok', session } as SessionDestroyOutput);
export const destroyNotfound = (message: string): SessionDestroyOutput => ({ variant: 'notfound', message } as SessionDestroyOutput);

export const destroyAllOk = (userId: string): SessionDestroyAllOutput => ({ variant: 'ok', userId } as SessionDestroyAllOutput);

export const getContextOk = (userId: string, device: string): SessionGetContextOutput => ({ variant: 'ok', userId, device } as SessionGetContextOutput);
export const getContextNotfound = (message: string): SessionGetContextOutput => ({ variant: 'notfound', message } as SessionGetContextOutput);

