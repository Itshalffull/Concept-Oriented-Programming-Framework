// Flag â€” types.ts
// Generated by NextjsGen. Do not edit manually.
// Uses fp-ts for purely functional, composable concept implementations.

// Storage interface for Flag
export interface FlagStorage {
  readonly get: (relation: string, key: string) => Promise<Record<string, unknown> | null>;
  readonly put: (relation: string, key: string, value: Record<string, unknown>) => Promise<void>;
  readonly delete: (relation: string, key: string) => Promise<boolean>;
  readonly find: (relation: string, filter?: Record<string, unknown>) => Promise<readonly Record<string, unknown>[]>;
}

export interface FlagFlagInput {
  readonly flagging: string;
  readonly flagType: string;
  readonly entity: string;
  readonly user: string;
}

export interface FlagFlagOutputOk {
  readonly variant: 'ok';
}

export interface FlagFlagOutputExists {
  readonly variant: 'exists';
  readonly message: string;
}

export type FlagFlagOutput = FlagFlagOutputOk | FlagFlagOutputExists;

export interface FlagUnflagInput {
  readonly flagging: string;
}

export interface FlagUnflagOutputOk {
  readonly variant: 'ok';
}

export interface FlagUnflagOutputNotfound {
  readonly variant: 'notfound';
  readonly message: string;
}

export type FlagUnflagOutput = FlagUnflagOutputOk | FlagUnflagOutputNotfound;

export interface FlagIsFlaggedInput {
  readonly flagType: string;
  readonly entity: string;
  readonly user: string;
}

export interface FlagIsFlaggedOutput {
  readonly variant: 'ok';
  readonly flagged: boolean;
}

export interface FlagGetCountInput {
  readonly flagType: string;
  readonly entity: string;
}

export interface FlagGetCountOutput {
  readonly variant: 'ok';
  readonly count: number;
}

// --- Variant constructors ---

export const flagOk = (): FlagFlagOutput => ({ variant: 'ok' } as FlagFlagOutput);
export const flagExists = (message: string): FlagFlagOutput => ({ variant: 'exists', message } as FlagFlagOutput);

export const unflagOk = (): FlagUnflagOutput => ({ variant: 'ok' } as FlagUnflagOutput);
export const unflagNotfound = (message: string): FlagUnflagOutput => ({ variant: 'notfound', message } as FlagUnflagOutput);

export const isFlaggedOk = (flagged: boolean): FlagIsFlaggedOutput => ({ variant: 'ok', flagged } as FlagIsFlaggedOutput);

export const getCountOk = (count: number): FlagGetCountOutput => ({ variant: 'ok', count } as FlagGetCountOutput);

