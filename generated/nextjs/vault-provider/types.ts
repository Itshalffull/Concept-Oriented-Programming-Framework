// VaultProvider â€” types.ts
// Generated by NextjsGen. Do not edit manually.
// Uses fp-ts for purely functional, composable concept implementations.

// Storage interface for VaultProvider
export interface VaultProviderStorage {
  readonly get: (relation: string, key: string) => Promise<Record<string, unknown> | null>;
  readonly put: (relation: string, key: string, value: Record<string, unknown>) => Promise<void>;
  readonly delete: (relation: string, key: string) => Promise<boolean>;
  readonly find: (relation: string, filter?: Record<string, unknown>) => Promise<readonly Record<string, unknown>[]>;
}

export interface VaultProviderFetchInput {
  readonly path: string;
}

export interface VaultProviderFetchOutputOk {
  readonly variant: 'ok';
  readonly value: string;
  readonly leaseId: string;
  readonly leaseDuration: number;
}

export interface VaultProviderFetchOutputSealed {
  readonly variant: 'sealed';
  readonly address: string;
}

export interface VaultProviderFetchOutputTokenExpired {
  readonly variant: 'tokenExpired';
  readonly address: string;
}

export interface VaultProviderFetchOutputPathNotFound {
  readonly variant: 'pathNotFound';
  readonly path: string;
}

export type VaultProviderFetchOutput = VaultProviderFetchOutputOk | VaultProviderFetchOutputSealed | VaultProviderFetchOutputTokenExpired | VaultProviderFetchOutputPathNotFound;

export interface VaultProviderRenewLeaseInput {
  readonly leaseId: string;
}

export interface VaultProviderRenewLeaseOutputOk {
  readonly variant: 'ok';
  readonly leaseId: string;
  readonly newDuration: number;
}

export interface VaultProviderRenewLeaseOutputLeaseExpired {
  readonly variant: 'leaseExpired';
  readonly leaseId: string;
}

export type VaultProviderRenewLeaseOutput = VaultProviderRenewLeaseOutputOk | VaultProviderRenewLeaseOutputLeaseExpired;

export interface VaultProviderRotateInput {
  readonly path: string;
}

export interface VaultProviderRotateOutput {
  readonly variant: 'ok';
  readonly newVersion: number;
}

// --- Variant constructors ---

export const fetchOk = (value: string, leaseId: string, leaseDuration: number): VaultProviderFetchOutput => ({ variant: 'ok', value, leaseId, leaseDuration } as VaultProviderFetchOutput);
export const fetchSealed = (address: string): VaultProviderFetchOutput => ({ variant: 'sealed', address } as VaultProviderFetchOutput);
export const fetchTokenExpired = (address: string): VaultProviderFetchOutput => ({ variant: 'tokenExpired', address } as VaultProviderFetchOutput);
export const fetchPathNotFound = (path: string): VaultProviderFetchOutput => ({ variant: 'pathNotFound', path } as VaultProviderFetchOutput);

export const renewLeaseOk = (leaseId: string, newDuration: number): VaultProviderRenewLeaseOutput => ({ variant: 'ok', leaseId, newDuration } as VaultProviderRenewLeaseOutput);
export const renewLeaseLeaseExpired = (leaseId: string): VaultProviderRenewLeaseOutput => ({ variant: 'leaseExpired', leaseId } as VaultProviderRenewLeaseOutput);

export const rotateOk = (newVersion: number): VaultProviderRotateOutput => ({ variant: 'ok', newVersion } as VaultProviderRotateOutput);

