// Health â€” types.ts
// Generated by NextjsGen. Do not edit manually.
// Uses fp-ts for purely functional, composable concept implementations.

// Storage interface for Health
export interface HealthStorage {
  readonly get: (relation: string, key: string) => Promise<Record<string, unknown> | null>;
  readonly put: (relation: string, key: string, value: Record<string, unknown>) => Promise<void>;
  readonly delete: (relation: string, key: string) => Promise<boolean>;
  readonly find: (relation: string, filter?: Record<string, unknown>) => Promise<readonly Record<string, unknown>[]>;
}

export interface HealthCheckConceptInput {
  readonly concept: string;
  readonly runtime: string;
}

export interface HealthCheckConceptOutputOk {
  readonly variant: 'ok';
  readonly check: string;
  readonly latencyMs: number;
}

export interface HealthCheckConceptOutputUnreachable {
  readonly variant: 'unreachable';
  readonly concept: string;
  readonly transport: string;
}

export interface HealthCheckConceptOutputStorageFailed {
  readonly variant: 'storageFailed';
  readonly concept: string;
  readonly storage: string;
  readonly reason: string;
}

export interface HealthCheckConceptOutputDegraded {
  readonly variant: 'degraded';
  readonly concept: string;
  readonly latencyMs: number;
  readonly threshold: number;
}

export type HealthCheckConceptOutput = HealthCheckConceptOutputOk | HealthCheckConceptOutputUnreachable | HealthCheckConceptOutputStorageFailed | HealthCheckConceptOutputDegraded;

export interface HealthCheckSyncInput {
  readonly sync: string;
  readonly concepts: readonly string[];
}

export interface HealthCheckSyncOutputOk {
  readonly variant: 'ok';
  readonly check: string;
  readonly roundTripMs: number;
}

export interface HealthCheckSyncOutputPartialFailure {
  readonly variant: 'partialFailure';
  readonly sync: string;
  readonly failed: readonly string[];
}

export interface HealthCheckSyncOutputTimeout {
  readonly variant: 'timeout';
  readonly sync: string;
  readonly timeoutMs: number;
}

export type HealthCheckSyncOutput = HealthCheckSyncOutputOk | HealthCheckSyncOutputPartialFailure | HealthCheckSyncOutputTimeout;

export interface HealthCheckKitInput {
  readonly kit: string;
  readonly environment: string;
}

export interface HealthCheckKitOutputOk {
  readonly variant: 'ok';
  readonly check: string;
  readonly conceptResults: readonly string[];
  readonly syncResults: readonly string[];
}

export interface HealthCheckKitOutputDegraded {
  readonly variant: 'degraded';
  readonly check: string;
  readonly healthy: readonly string[];
  readonly degraded: readonly string[];
}

export interface HealthCheckKitOutputFailed {
  readonly variant: 'failed';
  readonly check: string;
  readonly healthy: readonly string[];
  readonly failed: readonly string[];
}

export type HealthCheckKitOutput = HealthCheckKitOutputOk | HealthCheckKitOutputDegraded | HealthCheckKitOutputFailed;

export interface HealthCheckInvariantInput {
  readonly concept: string;
  readonly invariant: string;
}

export interface HealthCheckInvariantOutputOk {
  readonly variant: 'ok';
  readonly check: string;
}

export interface HealthCheckInvariantOutputViolated {
  readonly variant: 'violated';
  readonly concept: string;
  readonly invariant: string;
  readonly expected: string;
  readonly actual: string;
}

export type HealthCheckInvariantOutput = HealthCheckInvariantOutputOk | HealthCheckInvariantOutputViolated;

// --- Variant constructors ---

export const checkConceptOk = (check: string, latencyMs: number): HealthCheckConceptOutput => ({ variant: 'ok', check, latencyMs } as HealthCheckConceptOutput);
export const checkConceptUnreachable = (concept: string, transport: string): HealthCheckConceptOutput => ({ variant: 'unreachable', concept, transport } as HealthCheckConceptOutput);
export const checkConceptStorageFailed = (concept: string, storage: string, reason: string): HealthCheckConceptOutput => ({ variant: 'storageFailed', concept, storage, reason } as HealthCheckConceptOutput);
export const checkConceptDegraded = (concept: string, latencyMs: number, threshold: number): HealthCheckConceptOutput => ({ variant: 'degraded', concept, latencyMs, threshold } as HealthCheckConceptOutput);

export const checkSyncOk = (check: string, roundTripMs: number): HealthCheckSyncOutput => ({ variant: 'ok', check, roundTripMs } as HealthCheckSyncOutput);
export const checkSyncPartialFailure = (sync: string, failed: readonly string[]): HealthCheckSyncOutput => ({ variant: 'partialFailure', sync, failed } as HealthCheckSyncOutput);
export const checkSyncTimeout = (sync: string, timeoutMs: number): HealthCheckSyncOutput => ({ variant: 'timeout', sync, timeoutMs } as HealthCheckSyncOutput);

export const checkKitOk = (check: string, conceptResults: readonly string[], syncResults: readonly string[]): HealthCheckKitOutput => ({ variant: 'ok', check, conceptResults, syncResults } as HealthCheckKitOutput);
export const checkKitDegraded = (check: string, healthy: readonly string[], degraded: readonly string[]): HealthCheckKitOutput => ({ variant: 'degraded', check, healthy, degraded } as HealthCheckKitOutput);
export const checkKitFailed = (check: string, healthy: readonly string[], failed: readonly string[]): HealthCheckKitOutput => ({ variant: 'failed', check, healthy, failed } as HealthCheckKitOutput);

export const checkInvariantOk = (check: string): HealthCheckInvariantOutput => ({ variant: 'ok', check } as HealthCheckInvariantOutput);
export const checkInvariantViolated = (concept: string, invariant: string, expected: string, actual: string): HealthCheckInvariantOutput => ({ variant: 'violated', concept, invariant, expected, actual } as HealthCheckInvariantOutput);

