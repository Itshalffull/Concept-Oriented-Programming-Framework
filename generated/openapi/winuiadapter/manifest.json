{
  "uri": "urn:clef/WinUIAdapter",
  "name": "WinUIAdapter",
  "typeParams": [
    {
      "name": "A",
      "wireType": "string"
    }
  ],
  "relations": [
    {
      "name": "entries",
      "source": "merged",
      "keyField": {
        "name": "a",
        "paramRef": "A"
      },
      "fields": [
        {
          "name": "outputs",
          "type": {
            "kind": "primitive",
            "primitive": "String"
          },
          "optional": false
        }
      ]
    }
  ],
  "actions": [
    {
      "name": "normalize",
      "params": [
        {
          "name": "adapter",
          "type": {
            "kind": "param",
            "paramRef": "A"
          }
        },
        {
          "name": "props",
          "type": {
            "kind": "primitive",
            "primitive": "String"
          }
        }
      ],
      "variants": [
        {
          "tag": "ok",
          "fields": [
            {
              "name": "adapter",
              "type": {
                "kind": "param",
                "paramRef": "A"
              }
            },
            {
              "name": "normalized",
              "type": {
                "kind": "primitive",
                "primitive": "String"
              }
            }
          ],
          "prose": "Map framework neutral props to WinUI bindings \n Convert onclick to Tapped Click events Convert class to \n Style resources Map layout to StackPanel Grid \n Resolve design tokens to WinUI theme resources"
        },
        {
          "tag": "error",
          "fields": [
            {
              "name": "message",
              "type": {
                "kind": "primitive",
                "primitive": "String"
              }
            }
          ],
          "prose": "Props contain patterns not mappable to WinUI"
        }
      ]
    }
  ],
  "invariants": [
    {
      "description": "invariant 1: after normalize, normalize behaves correctly",
      "setup": [
        {
          "action": "normalize",
          "inputs": [
            {
              "name": "adapter",
              "value": {
                "kind": "variable",
                "name": "a"
              }
            },
            {
              "name": "props",
              "value": {
                "kind": "literal",
                "value": "{ \"onclick\": \"handler_1\", \"class\": \"btn\" }"
              }
            }
          ],
          "expectedVariant": "ok",
          "expectedOutputs": [
            {
              "name": "adapter",
              "value": {
                "kind": "variable",
                "name": "a"
              }
            },
            {
              "name": "normalized",
              "value": {
                "kind": "variable",
                "name": "_"
              }
            }
          ]
        }
      ],
      "assertions": [
        {
          "action": "normalize",
          "inputs": [
            {
              "name": "adapter",
              "value": {
                "kind": "variable",
                "name": "a"
              }
            },
            {
              "name": "props",
              "value": {
                "kind": "literal",
                "value": ""
              }
            }
          ],
          "expectedVariant": "error",
          "expectedOutputs": [
            {
              "name": "message",
              "value": {
                "kind": "variable",
                "name": "_"
              }
            }
          ]
        }
      ],
      "freeVariables": [
        {
          "name": "a",
          "testValue": "u-test-invariant-001"
        }
      ]
    }
  ],
  "graphqlSchema": "type WinUIAdapterState {\n  \"\"\"All as in this concept\"\"\"\n  as: [ID!]!\n}\n\ntype WinUIAdapterEntry {\n  a: ID!\n  outputs: String!\n}\n\nextend type Query {\n  winuiadapter_entry(a: ID!): WinUIAdapterEntry\n  winuiadapter_entries: [WinUIAdapterEntry!]!\n}",
  "jsonSchemas": {
    "invocations": {
      "normalize": {
        "$id": "urn:clef/WinUIAdapter/normalize/invocation",
        "type": "object",
        "properties": {
          "concept": {
            "const": "urn:clef/WinUIAdapter"
          },
          "action": {
            "const": "normalize"
          },
          "input": {
            "type": "object",
            "properties": {
              "adapter": {
                "type": "string"
              },
              "props": {
                "type": "string"
              }
            },
            "required": [
              "adapter",
              "props"
            ]
          }
        }
      }
    },
    "completions": {
      "normalize": {
        "ok": {
          "$id": "urn:clef/WinUIAdapter/normalize/completion/ok",
          "type": "object",
          "properties": {
            "concept": {
              "const": "urn:clef/WinUIAdapter"
            },
            "action": {
              "const": "normalize"
            },
            "variant": {
              "const": "ok"
            },
            "output": {
              "type": "object",
              "properties": {
                "adapter": {
                  "type": "string"
                },
                "normalized": {
                  "type": "string"
                }
              },
              "required": [
                "adapter",
                "normalized"
              ]
            }
          }
        },
        "error": {
          "$id": "urn:clef/WinUIAdapter/normalize/completion/error",
          "type": "object",
          "properties": {
            "concept": {
              "const": "urn:clef/WinUIAdapter"
            },
            "action": {
              "const": "normalize"
            },
            "variant": {
              "const": "error"
            },
            "output": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string"
                }
              },
              "required": [
                "message"
              ]
            }
          }
        }
      }
    }
  },
  "capabilities": [],
  "purpose": "Normalize framework neutral props into WinUI 3 specific bindings \n Transforms Clef Surface s generic event model into WinUI conventions : \n XAML control properties , x : Bind data binding , PointerPressed \n Tapped events , StackPanel Grid layout Supports Windows 11 \n design language ( Mica , Acrylic , rounded corners ) \n Implementation in C or Rust , runs natively on Windows"
}
