// Auto-generated by COPF Interface Kit — rest target
// Concept: Article
// Do not edit manually; regenerate with: copf interface generate

import { Hono } from 'hono';
import type { Context } from 'hono';

const app = new Hono();

// POST /articles — create
app.post('/articles', async (c: Context) => {
  const body = await c.req.json();
  const result = await c.var.kernel.handleRequest({
    method: 'create',
    ...body,
  });
  if (result.error) return c.json({ errors: { body: [result.error] } }, 422);
  return c.json(result.body, 201);
});

// PUT /articles/{article} — update
app.put('/articles/:article', async (c: Context) => {
  const body = await c.req.json();
  const result = await c.var.kernel.handleRequest({
    method: 'update',
    ...body,
  });
  if (result.variant === 'notFound') return c.json({ errors: { body: ['not found'] } }, 404);
  if (result.error) return c.json({ errors: { body: [result.error] } }, 422);
  return c.json(result.body, 200);
});

// DELETE /articles/{article} — delete
app.delete('/articles/:article', async (c: Context) => {
  const query = c.req.query();
  const result = await c.var.kernel.handleRequest({
    method: 'delete',
    ...query,
  });
  if (result.variant === 'notFound') return c.json({ errors: { body: ['not found'] } }, 404);
  if (result.error) return c.json({ errors: { body: [result.error] } }, 422);
  return c.json(result.body, 200);
});

// GET /articles/{article} — get
app.get('/articles/:article', async (c: Context) => {
  const query = c.req.query();
  const result = await c.var.kernel.handleRequest({
    method: 'get',
    ...query,
  });
  if (result.variant === 'notFound') return c.json({ errors: { body: ['not found'] } }, 404);
  if (result.error) return c.json({ errors: { body: [result.error] } }, 422);
  return c.json(result.body, 200);
});

// GET /articles — list
app.get('/articles', async (c: Context) => {
  const query = c.req.query();
  const result = await c.var.kernel.handleRequest({
    method: 'list',
    ...query,
  });
  if (result.error) return c.json({ errors: { body: [result.error] } }, 422);
  return c.json(result.body, 200);
});

export { app as articleRouter };
