# Auto-generated by COPF Interface Kit — python-sdk target
# Concept: Article
# Do not edit manually; regenerate with: copf interface generate

from __future__ import annotations

import httpx


class ArticleClient:
    """Async HTTP client for the Article concept."""

    def __init__(self, base_url: str, headers: dict[str, str] | None = None) -> None:
        self.base_url = base_url.rstrip("/")
        self.headers = headers or {}

    async def create(self, article: str, title: str, description: str, body: str, author: str) -> dict:
        """create — POST /api/articles"""
        async with httpx.AsyncClient() as client:
            resp = await client.post(
                f"{self.base_url}/api/articles",
                json={"article": article, "title": title, "description": description, "body": body, "author": author},
                headers={**self.headers, "Content-Type": "application/json"},
            )
            resp.raise_for_status()
            return resp.json()

    async def update(self, article: str, title: str, description: str, body: str) -> dict:
        """update — PUT /api/articles/{id}"""
        async with httpx.AsyncClient() as client:
            resp = await client.put(
                f"{self.base_url}/api/articles/{article}",
                json={"article": article, "title": title, "description": description, "body": body},
                headers={**self.headers, "Content-Type": "application/json"},
            )
            resp.raise_for_status()
            return resp.json()

    async def delete(self, article: str) -> dict:
        """delete — DELETE /api/articles/{id}"""
        async with httpx.AsyncClient() as client:
            resp = await client.delete(
                f"{self.base_url}/api/articles/{article}",
                headers=self.headers,
            )
            resp.raise_for_status()
            return resp.json()

    async def get(self, article: str) -> dict:
        """get — GET /api/articles/{id}"""
        async with httpx.AsyncClient() as client:
            resp = await client.get(
                f"{self.base_url}/api/articles/{article}",
                headers=self.headers,
            )
            resp.raise_for_status()
            return resp.json()

    async def list(self) -> dict:
        """list — GET /api/articles"""
        async with httpx.AsyncClient() as client:
            resp = await client.get(
                f"{self.base_url}/api/articles",
                headers=self.headers,
            )
            resp.raise_for_status()
            return resp.json()
