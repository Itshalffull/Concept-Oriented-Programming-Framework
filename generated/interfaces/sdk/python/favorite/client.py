# Auto-generated by Clef Interface Kit — python-sdk target
# Concept: Favorite
# Do not edit manually; regenerate with: clef interface generate

from __future__ import annotations

import httpx


class FavoriteClient:
    """Async HTTP client for the Favorite concept."""

    def __init__(self, base_url: str, headers: dict[str, str] | None = None) -> None:
        self.base_url = base_url.rstrip("/")
        self.headers = headers or {}

    async def favorite(self, user: str, article: str) -> dict:
        """favorite — POST /api/favorites/{id}/favorite"""
        async with httpx.AsyncClient() as client:
            resp = await client.post(
                f"{self.base_url}/api/favorites/{user}/favorite",
                json={"user": user, "article": article},
                headers={**self.headers, "Content-Type": "application/json"},
            )
            resp.raise_for_status()
            return resp.json()

    async def unfavorite(self, user: str, article: str) -> dict:
        """unfavorite — POST /api/favorites/{id}/unfavorite"""
        async with httpx.AsyncClient() as client:
            resp = await client.post(
                f"{self.base_url}/api/favorites/{user}/unfavorite",
                json={"user": user, "article": article},
                headers={**self.headers, "Content-Type": "application/json"},
            )
            resp.raise_for_status()
            return resp.json()

    async def is_favorited(self, user: str, article: str) -> dict:
        """isFavorited — POST /api/favorites/{id}/is-favorited"""
        async with httpx.AsyncClient() as client:
            resp = await client.post(
                f"{self.base_url}/api/favorites/{user}/is-favorited",
                json={"user": user, "article": article},
                headers={**self.headers, "Content-Type": "application/json"},
            )
            resp.raise_for_status()
            return resp.json()

    async def count(self, article: str) -> dict:
        """count — POST /api/favorites/{id}/count"""
        async with httpx.AsyncClient() as client:
            resp = await client.post(
                f"{self.base_url}/api/favorites/{article}/count",
                json={"article": article},
                headers={**self.headers, "Content-Type": "application/json"},
            )
            resp.raise_for_status()
            return resp.json()
