# ============================================================
# ValidationResultToForm â€” surface-integration recommended sync
#
# Route validation results from the library Validator back to
# the form machine so it can transition to valid/invalid state
# and display errors.
# ============================================================

sync ValidationResultToForm [eager]
when {
  Validator/validate: []
    => ok(result: ?result)
}
then {
  Machine/send: [ machine: ?form;
    event: "{ \"type\": \"VALIDATION_RESULT\", \"result\": ?result }" ]
}
