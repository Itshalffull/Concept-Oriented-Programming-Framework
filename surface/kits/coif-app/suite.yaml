suite:
  name: surface-app
  version: 0.4.0
  description: >
    Application orchestration: navigation, view lifecycle, data
    transport, root composition, and platform adaptation. All
    specs corrected per Clef independence rule â€” action bodies
    describe own state only, sync chains declare all coordination.

concepts:
  Navigator:
    spec: ./navigator.concept
    params:
      N: { as: nav-ref, description: "Reference to a navigation destination" }

  Host:
    spec: ./host.concept
    params:
      W: { as: host-ref, description: "Reference to a mounted view instance" }

  Transport:
    spec: ./transport.concept
    params:
      P: { as: transport-ref, description: "Reference to a transport connection" }

  Shell:
    spec: ./shell.concept
    params:
      S: { as: shell-ref, description: "Reference to the root composition frame" }

  PlatformAdapter:
    spec: ./platform-adapter.concept
    params:
      D: { as: platform-adapter-ref, description: "Reference to a platform adapter" }

  # Platform-specific adapters (keep existing ones)
  BrowserAdapter:
    spec: ./browser-adapter.concept
    params:
      D: { as: browser-adapter-ref, description: "Browser platform adapter" }
    optional: true

  MobileAdapter:
    spec: ./mobile-adapter.concept
    params:
      D: { as: mobile-adapter-ref, description: "Mobile platform adapter" }
    optional: true

  DesktopAdapter:
    spec: ./desktop-adapter.concept
    params:
      D: { as: desktop-adapter-ref, description: "Desktop platform adapter" }
    optional: true

  WatchAdapter:
    spec: ./watch-adapter.concept
    params:
      D: { as: watch-adapter-ref, description: "Watch platform adapter" }
    optional: true

  TerminalAdapter:
    spec: ./terminal-adapter.concept
    params:
      D: { as: terminal-adapter-ref, description: "Terminal platform adapter" }
    optional: true

syncs:
  required:
    - path: ./syncs/required/navigator-go-mounts-host.sync
      name: NavigatorGoMountsHost
      description: >
        When Navigator/go succeeds, mount a Host for the
        target concept and view.

    - path: ./syncs/required/navigator-go-unmounts-previous.sync
      name: NavigatorGoUnmountsPrevious
      description: >
        When Navigator/go has a previous destination, unmount it.

    - path: ./syncs/required/host-mount-creates-binding.sync
      name: HostMountCreatesBinding
      description: >
        When a Host is mounted, create a Binding to the concept.

    - path: ./syncs/required/host-unmount-destroys-machines.sync
      name: HostUnmountDestroysMachines
      description: >
        When a Host is unmounted, destroy machines and unbind.

  recommended:
    - path: ./syncs/recommended/binding-created-tracked-by-host.sync
      name: BindingCreatedTrackedByHost
      description: >
        Track created bindings as host resources.

    - path: ./syncs/recommended/machine-spawned-tracked-by-host.sync
      name: MachineSpawnedTrackedByHost
      description: >
        Track spawned machines as host resources.

    - path: ./syncs/recommended/cascade-complete-host-ready.sync
      name: CascadeCompleteHostReady
      description: >
        When rendering completes, transition host to interactive.

    - path: ./syncs/recommended/host-refresh-syncs-binding.sync
      name: HostRefreshSyncsBinding
      description: >
        When a host refreshes, sync its binding.

    - path: ./syncs/recommended/binding-sync-via-transport.sync
      name: BindingSyncViaTransport
      description: >
        Route non-coupled binding syncs through Transport.

    - path: ./syncs/recommended/transport-response-to-signals.sync
      name: TransportResponseToSignals
      description: >
        Batch-update signals from transport response data.

    - path: ./syncs/recommended/navigator-to-platform.sync
      name: NavigatorToPlatform
      description: >
        Translate navigation to platform-specific actions.

    - path: ./syncs/recommended/platform-event-to-navigator.sync
      name: PlatformEventToNavigator
      description: >
        Translate platform back events to Navigator/back.

    - path: ./syncs/recommended/shell-init-creates-root-surface.sync
      name: ShellInitCreatesRootSurface
      description: >
        Create root Surface and Layout on shell initialization.

dependencies:
  - surface-core: ">=0.4.0"
  - surface-component: ">=0.4.0"
  - surface-render: ">=0.4.0"
