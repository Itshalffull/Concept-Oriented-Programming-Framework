suite:
  name: surface-component
  version: 0.4.0
  description: >
    Headless component behaviors, semantic interaction classification,
    and context-aware widget resolution. Widgets are parsed ASTs from
    .widget specs. Interactors classify WHAT the user does, Affordances
    declare WHEN a widget is suitable, WidgetResolver decides WHICH
    widget for a given context.

concepts:
  Widget:
    spec: ./widget.concept
    params:
      P: { as: widget-ref, description: "Reference to a registered widget AST" }

  Machine:
    spec: ./machine.concept
    params:
      M: { as: machine-ref, description: "Reference to a running machine instance" }

  Slot:
    spec: ./slot.concept
    params:
      L: { as: slot-ref, description: "Reference to a named insertion point" }

  Interactor:
    spec: ./interactor.concept
    params:
      I: { as: interactor-ref, description: "Reference to an abstract interaction type" }

  Affordance:
    spec: ./affordance.concept
    params:
      F: { as: affordance-ref, description: "Reference to a widget capability declaration" }

  WidgetResolver:
    spec: ./widget-resolver.concept
    params:
      R: { as: resolver-ref, description: "Reference to a widget resolution context" }

syncs:
  required:
    - path: ./syncs/destroy-machine-on-unbind.sync
      name: DestroyMachineOnUnbind
      description: >
        When a binding is removed, destroy all associated machine
        instances to clean up timers and state.

  recommended:
    - path: ./syncs/elements-classified.sync
      name: ElementsClassified
      description: >
        Classify each element's abstract interaction type after
        UISchema generates the element tree.

    - path: ./syncs/classified-elements-resolved.sync
      name: ClassifiedElementsResolved
      description: >
        Resolve classified elements to concrete widgets using
        affordance matching and runtime context.

    - path: ./syncs/resolved-widget-spawned.sync
      name: ResolvedWidgetSpawned
      description: >
        Retrieve widget AST for a resolved widget name.

    - path: ./syncs/spawn-machine-for-element.sync
      name: SpawnMachineForElement
      description: >
        Spawn a machine instance for a retrieved widget AST.

    - path: ./syncs/ambiguous-resolution-uses-default.sync
      name: AmbiguousResolutionUsesDefault
      description: >
        When widget resolution is ambiguous, use the first candidate.

    - path: ./syncs/unresolved-element-signals-error.sync
      name: UnresolvedElementSignalsError
      description: >
        When no widget matches an element, signal error to the host.

    - path: ./syncs/machine-to-adapter.sync
      name: MachineToFrameworkAdapter
      description: >
        When a machine produces props via connect(), send to the
        active framework adapter for rendering.

dependencies:
  - surface-core: ">=0.4.0"
