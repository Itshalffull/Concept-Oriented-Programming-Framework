// Auto-generated by COPF Interface Kit â€” cli target
// Concept: InterfaceScaffoldGen
// Do not edit manually; regenerate with: copf interface generate

import { Command } from 'commander';

export const interfaceScaffoldGenCommand = new Command('scaffold')
  .description('Generate interface manifest (interface.yaml).');

interfaceScaffoldGenCommand
  .command('interface')
  .description('Scaffold an interface.yaml with targets, SDKs, and concept overrides.')
  .requiredOption('-n, --name <name>', 'Interface name')
  .option('-t, --targets <targets>', 'Comma-separated targets (rest, graphql, grpc, cli, mcp, claude-skills)', 'rest')
  .option('-s, --sdks <sdks>', 'Comma-separated SDK languages (typescript, python, go, rust, java, swift)', 'typescript')
  .option('--json', 'Output as JSON')
  .addHelpText('after', '\nExamples:')
  .addHelpText('after', '  copf scaffold interface --name my-api --targets rest,graphql --sdks typescript,python  # Scaffold a REST + GraphQL interface')
  .addHelpText('after', '  copf scaffold interface --name my-api --targets rest,graphql,grpc,cli,mcp,claude-skills  # Scaffold a full-stack interface')
  .action(async (opts) => {
    const result = await globalThis.kernel.handleRequest({ method: 'generate', ...opts });
    console.log(opts.json ? JSON.stringify(result) : result);
  });

interfaceScaffoldGenCommand
  .command('preview')
  .description('Dry-run: compute output files without writing. Uses Emitter content-addressing to show what would change.')
  .requiredOption('-n, --name <name>', 'Interface name')
  .option('-t, --targets <targets>', 'Comma-separated targets')
  .requiredOption('--sdks <sdks>', 'Sdks')
  .option('--json', 'Output as JSON')
  .action(async (opts) => {
    const result = await globalThis.kernel.handleRequest({ method: 'preview', ...opts });
    console.log(opts.json ? JSON.stringify(result) : result);
  });

interfaceScaffoldGenCommand
  .command('register')
  .description('Return static metadata for PluginRegistry 
 name : InterfaceScaffoldGen 
 inputKind : InterfaceConfig 
 outputKind : InterfaceManifest 
 capabilities : [ interface-yaml , target-config , sdk-config ]')
  .option('--json', 'Output as JSON')
  .action(async (opts) => {
    const result = await globalThis.kernel.handleRequest({ method: 'register', ...opts });
    console.log(opts.json ? JSON.stringify(result) : result);
  });

export const interfaceScaffoldGenCommandTree = {
  group: 'scaffold',
  description: 'Generate interface manifest (interface.yaml).',
  commands: [{ action: 'generate', command: 'interface' }, { action: 'preview', command: 'preview' }, { action: 'register', command: 'register' }],
};
