# Route IaC/emit to PulumiProvider on cache miss â€” Section 3.8

sync PulumiOnCacheMiss [eager]
when {
  IaC/emit: [ plan: ?plan; provider: "pulumi" ]
    => [ output: ?output; fileCount: ?count ]
  BuildCache/check: [ stepKey: ?stepKey ]
    => [ previousHash: ?prev ]
}
where {
  filter(?stepKey == ?plan)
}
then {
  PulumiProvider/generate: [ plan: ?plan ]
}
