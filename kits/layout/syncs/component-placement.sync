# Evaluate component visibility when placed into a layout region.
# Ensures conditional placement rules are checked immediately.

# Re-evaluate visibility against the target region after placement
sync EvaluateOnPlace [eager]
when {
  Component/place: [ component: ?comp; region: ?region ]
    => [ component: ?comp ]
}
then {
  Component/evaluateVisibility: [ component: ?comp; context: ?region ]
}
