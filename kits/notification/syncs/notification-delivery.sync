# Auto-mark notifications as read when the user views their inbox.
# Ensures unread counts stay accurate after retrieval.

# Mark notifications read when the user fetches their unread list
sync AutoReadOnView [eager]
when {
  Notification/getUnread: [ user: ?user ]
    => [ notifications: ?notifs ]
}
then {
  Notification/markRead: [ notification: ?user ]
}
