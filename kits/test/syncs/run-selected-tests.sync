# Run only selected tests instead of full suite â€” Architecture doc Section 3.8
# Builder's test action receives selected test IDs from
# TestSelection instead of running all tests.

sync RunSelectedTests [eager]
  purpose { Run only selected tests instead of full suite. }
when {
  Builder/build: [ concept: ?concept; language: ?lang ]
    => ok(build: ?b; artifactHash: ?hash)
  TestSelection/select: []
    => ok(selected: ?tests; estimatedDuration: ?dur)
}
then {
  Builder/test: [
    concept: ?concept;
    language: ?lang;
    testFilter: pluck(?tests, "testId");
    testType: firstOf(pluck(?tests, "testType"))
  ]
}
