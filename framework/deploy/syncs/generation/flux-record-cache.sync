# Record FluxProvider success in BuildCache â€” Section 3.8

sync RecordCacheFlux [eager]
when {
  FluxProvider/emit: [ plan: ?plan; repo: ?repo; path: ?path ]
    => [ files: ?files ]
  Emitter/writeBatch: []
    => [ results: ?results ]
}
then {
  BuildCache/record: [
    stepKey: ?plan;
    inputHash: ?plan;
    outputHash: ?plan;
    sourceLocator: ?plan;
    deterministic: false
  ]
}
