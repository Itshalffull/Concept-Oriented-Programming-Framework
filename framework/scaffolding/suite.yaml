# kits/scaffolding/kit.yaml
kit:
  name: scaffolding
  version: 0.1.0
  description: >
    Scaffold generators for all COPF artifact types. Generates
    boilerplate for kit manifests, deploy manifests, interface
    manifests, concept specs, sync rules, handler implementations,
    storage adapters, transport adapters, COIF components, and
    COIF themes. Each generator self-registers with PluginRegistry
    so the generation kit's KindSystem can track scaffold outputs.

concepts:
  KitScaffoldGen:
    spec: ../../specs/framework/kit-scaffold-gen.concept
    params:
      K: { as: kit-config-ref, description: "Reference to a kit configuration" }

  DeployScaffoldGen:
    spec: ../../specs/framework/deploy-scaffold-gen.concept
    params:
      D: { as: deploy-config-ref, description: "Reference to a deploy configuration" }

  InterfaceScaffoldGen:
    spec: ../../specs/framework/interface-scaffold-gen.concept
    params:
      I: { as: interface-config-ref, description: "Reference to an interface configuration" }

  ConceptScaffoldGen:
    spec: ../../specs/framework/concept-scaffold-gen.concept
    params:
      C: { as: concept-config-ref, description: "Reference to a concept configuration" }

  SyncScaffoldGen:
    spec: ../../specs/framework/sync-scaffold-gen.concept
    params:
      S: { as: sync-config-ref, description: "Reference to a sync configuration" }

  HandlerScaffoldGen:
    spec: ../../specs/framework/handler-scaffold-gen.concept
    params:
      H: { as: handler-config-ref, description: "Reference to a handler configuration" }

  StorageAdapterScaffoldGen:
    spec: ../../specs/framework/storage-adapter-scaffold-gen.concept
    params:
      A: { as: storage-config-ref, description: "Reference to a storage adapter configuration" }

  TransportAdapterScaffoldGen:
    spec: ../../specs/framework/transport-adapter-scaffold-gen.concept
    params:
      T: { as: transport-config-ref, description: "Reference to a transport adapter configuration" }

  CoifComponentScaffoldGen:
    spec: ../../specs/framework/coif-component-scaffold-gen.concept
    params:
      W: { as: component-config-ref, description: "Reference to a COIF component configuration" }

  CoifThemeScaffoldGen:
    spec: ../../specs/framework/coif-theme-scaffold-gen.concept
    params:
      X: { as: theme-config-ref, description: "Reference to a COIF theme configuration" }

syncs:
  required:
    # Registration syncs — each generator self-registers with PluginRegistry
    - path: ./syncs/registration/register-kit-scaffold-gen.sync
      description: "KitScaffoldGen/register → PluginRegistry/register"

    - path: ./syncs/registration/register-deploy-scaffold-gen.sync
      description: "DeployScaffoldGen/register → PluginRegistry/register"

    - path: ./syncs/registration/register-interface-scaffold-gen.sync
      description: "InterfaceScaffoldGen/register → PluginRegistry/register"

    - path: ./syncs/registration/register-concept-scaffold-gen.sync
      description: "ConceptScaffoldGen/register → PluginRegistry/register"

    - path: ./syncs/registration/register-sync-scaffold-gen.sync
      description: "SyncScaffoldGen/register → PluginRegistry/register"

    - path: ./syncs/registration/register-handler-scaffold-gen.sync
      description: "HandlerScaffoldGen/register → PluginRegistry/register"

    - path: ./syncs/registration/register-storage-adapter-scaffold-gen.sync
      description: "StorageAdapterScaffoldGen/register → PluginRegistry/register"

    - path: ./syncs/registration/register-transport-adapter-scaffold-gen.sync
      description: "TransportAdapterScaffoldGen/register → PluginRegistry/register"

    - path: ./syncs/registration/register-coif-component-scaffold-gen.sync
      description: "CoifComponentScaffoldGen/register → PluginRegistry/register"

    - path: ./syncs/registration/register-coif-theme-scaffold-gen.sync
      description: "CoifThemeScaffoldGen/register → PluginRegistry/register"

    # KindSystem syncs — auto-define scaffold output kinds and edges
    - path: ./syncs/ensure-scaffold-kinds-defined.sync
      description: "PluginRegistry scaffold registration → KindSystem/define"

    - path: ./syncs/register-scaffold-generator-kinds.sync
      description: "PluginRegistry scaffold registration → KindSystem/connect"

  recommended: []

uses:
  - kit: generation
    concepts:
      - name: KindSystem
        params:
          K: { as: kind-ref, description: "Reference to an IR/artifact kind" }
      - name: Emitter
        params:
          F: { as: emitter-file-ref, description: "Reference to a generated file" }

  - kit: infrastructure
    concepts:
      - name: PluginRegistry
