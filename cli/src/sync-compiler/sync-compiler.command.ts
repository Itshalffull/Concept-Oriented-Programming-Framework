// Auto-generated by Clef Clef Bind â€” cli target
// Concept: SyncCompiler
// Do not edit manually; regenerate with: clef interface generate

import { Command } from 'commander';

export const syncCompilerCommand = new Command('sync-compiler')
  .description('Compile parsed synchronizations into executable registrations');

syncCompilerCommand
  .command('compile')
  .description('Transform the parsed sync AST into a CompiledSync 
 object that the engine can register and evaluate 
 Resolve where clause queries into query plans')
  .requiredOption('--sync <sync>', 'Sync')
  .requiredOption('--ast <ast>', 'Ast')
  .option('--json', 'Output as JSON')
  .action(async (opts) => {
    const result = await globalThis.kernel.handleRequest({ method: 'compile', ...opts });
    console.log(opts.json ? JSON.stringify(result) : result);
  });

export const syncCompilerCommandTree = {
  group: 'sync-compiler',
  description: 'Compile parsed synchronizations into executable registrations',
  commands: [{ action: 'compile', command: 'compile' }],
};
