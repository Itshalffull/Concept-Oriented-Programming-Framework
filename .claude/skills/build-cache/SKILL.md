---
name: build-cache
description: Track input output hashes for generation steps 
 Enable incremental rebuilds : skip generation when 
 inputs haven t changed since the last successful run 
 Support cascading invalidation when upstream kinds change
argument-hint: $ARGUMENTS
allowed-tools: Read, Grep, Glob, Bash
---

<!-- Auto-generated by COPF Interface Kit — claude-skills target -->
<!-- Concept: BuildCache -->
<!-- Do not edit manually; regenerate with: copf interface generate -->

# BuildCache

Manage incremental build cache for **$ARGUMENTS** with hash-based invalidation and per-step granularity.


> **When to use:** Use when checking cache validity, recording generation results, or invalidating stale entries for incremental rebuilds.


## Design Principles

- **Content-Addressed Cache:** Cached artifacts are keyed by content hash — identical input produces identical output, and unchanged files are never rewritten.
- **Complete Compilation:** Cache includes everything needed for deployment — parsed ASTs, generated manifests, compiled syncs, and type information.

## Step-by-Step Process

### Step 1: Build Cache

Parse specs and syncs, generate manifests, compile sync rules, and write pre-compiled artifacts to the cache directory.

**Checklist:**
- [ ] All concept specs parse without errors?
- [ ] All sync files compile?
- [ ] Cache directory is writable?
- [ ] Previous cache is cleaned or invalidated?

## References

- [Cache compilation and invalidation](references/caching.md)
## Quick Reference

| Action | Command | Purpose |
|--------|---------|---------|
| compile | `copf compile --cache` | Build pre-compiled cache |


## Validation

*Build the cache:*
```bash
npx tsx cli/src/index.ts compile --cache
```
*Verify cache contents:*
```bash
ls -la .copf-cache/
```
## Related Skills

| Skill | When to Use |
| --- | --- |
| `/concept-validator` | Validate specs before caching |
| `/deployment-config` | Deploy using cached artifacts |
| `/dev-workflow` | Dev server uses cache for fast startup |
