<!-- Auto-generated by COPF Interface Kit — claude-skills target -->
<!-- Concept: HandlerScaffoldGen -->
<!-- Do not edit manually; regenerate with: copf interface generate -->
# Walkthrough: Scaffolding a Handler

This walkthrough creates a handler for the `Bookmark` concept.

## Step 1: Generate the Handler Scaffold

```bash
copf scaffold handler --concept Bookmark \
  --actions add:url:String,remove:bookmark:String,list:owner:String
```

Output:
```
Created handlers/ts/framework/bookmark.handler.ts
Created tests/bookmark.conformance.test.ts
```

## Step 2: Implement Action Logic

Edit `bookmark.handler.ts` — replace TODO comments:

```typescript
async add(input, storage) {
  const url = input.url as string;
  if (!url) return { variant: 'error', message: 'url required' };

  const existing = await storage.find('bookmarks', { url });
  if (existing.length > 0) return { variant: 'duplicate', url };

  const id = crypto.randomUUID();
  await storage.put('bookmarks', id, { id, url, created: new Date().toISOString() });
  return { variant: 'ok', bookmark: id };
},
```

## Step 3: Run Conformance Test

```bash
npx vitest run tests/bookmark.conformance.test.ts
```
