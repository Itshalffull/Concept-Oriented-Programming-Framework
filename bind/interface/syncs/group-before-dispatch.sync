# Generator triggers concept grouping before dispatching to targets.
# Grouping organizes concepts into named groups using the configured
# strategy (per-concept, per-kit, single, custom, or behavioral modes).
# Architecture doc: Clef Bind

sync GroupBeforeDispatch [eager]
when {
  Generator/generate: [ plan: ?plan ]
    => [ plan: ?plan ]
}
then {
  Grouping/group: [ items: ?items; config: ?config ]
}
