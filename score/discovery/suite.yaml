suite:
  name: discovery
  version: 0.1.0
  description: >
    Search, embedding, and indexing across all project entities.
    Provides vector similarity search, trigram text search,
    and symbol-aware indexing for natural language code queries.

concepts:
  SemanticEmbedding:
    spec: ./semantic-embedding.concept
    params:
      B: { as: embedding-id, description: "Embedding identifier" }

  # Embedding model providers
  CodeBERTEmbeddingProvider:
    spec: ./providers/embedding/codebert.concept
    optional: true
  OpenAIEmbeddingProvider:
    spec: ./providers/embedding/openai.concept
    optional: true
  VoyageCodeEmbeddingProvider:
    spec: ./providers/embedding/voyage.concept
    optional: true

  # Search index providers (register with SearchIndex)
  TrigramIndexProvider:
    spec: ./providers/search/trigram.concept
    optional: true
  SuffixArrayIndexProvider:
    spec: ./providers/search/suffix-array.concept
    optional: true
  SymbolIndexProvider:
    spec: ./providers/search/symbol-index.concept
    optional: true

syncs:
  required: []

  recommended:
    - path: ./syncs/embedding.sync
      name: EmbeddingSync
      description: >
        Compute embeddings for extracted definition units
        when content digests change.

  integration: []

uses:
  - suite: parse
    concepts:
      - name: DefinitionUnit
      - name: ContentDigest
  - suite: symbol
    concepts:
      - name: Symbol
  - suite: query-retrieval
    concepts:
      - name: SearchIndex
      - name: Query
  - suite: infrastructure
    concepts:
      - name: PluginRegistry

dependencies: []
