suite:
  name: analysis
  version: 0.1.0
  description: >
    Program analysis overlays â€” dependence graphs, data flow
    tracing, program slicing, and declarative analysis rules.
    Computed from parse and symbol layers to enable impact
    analysis, taint tracking, and architectural validation.

concepts:
  DependenceGraph:
    spec: ./dependence-graph.concept
    params:
      N: { as: dep-graph-id, description: "Dependence graph identifier" }

  DataFlowPath:
    spec: ./data-flow-path.concept
    params:
      W: { as: flow-path-id, description: "Flow path identifier" }

  ProgramSlice:
    spec: ./program-slice.concept
    params:
      Z: { as: slice-id, description: "Slice identifier" }

  AnalysisRule:
    spec: ./analysis-rule.concept
    params:
      U: { as: rule-id, description: "Rule identifier" }

  # Dependence providers
  TypeScriptDependenceProvider:
    spec: ./providers/dependence/typescript.concept
    optional: true
  ConceptDependenceProvider:
    spec: ./providers/dependence/concept.concept
    optional: true
  SyncDependenceProvider:
    spec: ./providers/dependence/sync.concept
    optional: true
  DatalogDependenceProvider:
    spec: ./providers/dependence/datalog.concept
    optional: true
  UniversalTreeSitterDependenceProvider:
    spec: ./providers/dependence/universal.concept
    optional: true

  # Clef Surface dependence providers
  WidgetDependenceProvider:
    spec: ./providers/dependence/widget.concept
    optional: true
  ThemeDependenceProvider:
    spec: ./providers/dependence/theme.concept
    optional: true
  SelectionPipelineDependenceProvider:
    spec: ./providers/dependence/selection-pipeline.concept
    optional: true
  BindingDependenceProvider:
    spec: ./providers/dependence/binding.concept
    optional: true

  # Analysis engine providers
  DatalogAnalysisProvider:
    spec: ./providers/analysis-engines/datalog.concept
    optional: true
  GraphTraversalAnalysisProvider:
    spec: ./providers/analysis-engines/graph-traversal.concept
    optional: true
  PatternMatchAnalysisProvider:
    spec: ./providers/analysis-engines/pattern-match.concept
    optional: true

syncs:
  required: []

  recommended:
    - path: ./syncs/dependence-compute.sync
      name: DependenceComputeSync
      description: >
        Compute dependence graphs after scope graphs are built.

    - path: ./syncs/search-index.sync
      name: SearchIndexSync
      description: >
        Update search indexes when syntax trees are parsed.

  integration: []

uses:
  - suite: parse
    concepts:
      - name: SyntaxTree
      - name: FileArtifact
      - name: StructuralPattern
  - suite: symbol
    concepts:
      - name: Symbol
      - name: SymbolOccurrence
      - name: ScopeGraph
  - suite: semantic
    concepts:
      - name: ConceptEntity
      - name: ActionEntity
      - name: SyncEntity
      - name: StateField
      - name: WidgetEntity
      - name: ThemeEntity
      - name: InteractorEntity
  - suite: data-organization
    concepts:
      - name: Graph
  - suite: infrastructure
    concepts:
      - name: PluginRegistry

dependencies: []
