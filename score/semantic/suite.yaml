suite:
  name: semantic
  version: 0.3.0
  description: >
    Semantic entities for COPF and COIF â€” concepts, actions, variants,
    syncs, state fields, widgets, anatomy parts, widget states, widget
    props, themes, interactors, runtime flows, runtime coverage,
    performance profiles, and error correlations as first-class
    queryable nodes. The semantic glue connecting spec declarations
    to generated artifacts, runtime behavior, and cross-system data flow.

concepts:
  # COPF semantic entities
  ConceptEntity:
    spec: ./concept-entity.concept
    params:
      E: { as: concept-entity-id, description: "Concept entity identifier" }

  ActionEntity:
    spec: ./action-entity.concept
    params:
      A: { as: action-entity-id, description: "Action entity identifier" }

  VariantEntity:
    spec: ./variant-entity.concept
    params:
      V: { as: variant-entity-id, description: "Variant entity identifier" }

  StateField:
    spec: ./state-field.concept
    params:
      L: { as: state-field-id, description: "State field identifier" }

  SyncEntity:
    spec: ./sync-entity.concept
    params:
      Y: { as: sync-entity-id, description: "Sync entity identifier" }

  # COIF semantic entities
  WidgetEntity:
    spec: ./widget-entity.concept
    params:
      W: { as: widget-entity-id, description: "Widget entity identifier" }

  AnatomyPartEntity:
    spec: ./anatomy-part-entity.concept
    params:
      A: { as: anatomy-part-id, description: "Anatomy part identifier" }

  WidgetStateEntity:
    spec: ./widget-state-entity.concept
    params:
      S: { as: widget-state-id, description: "Widget state identifier" }

  WidgetPropEntity:
    spec: ./widget-prop-entity.concept
    params:
      P: { as: widget-prop-id, description: "Widget prop identifier" }

  ThemeEntity:
    spec: ./theme-entity.concept
    params:
      T: { as: theme-entity-id, description: "Theme entity identifier" }

  InteractorEntity:
    spec: ./interactor-entity.concept
    params:
      I: { as: interactor-entity-id, description: "Interactor entity identifier" }

  # Runtime semantic entities
  RuntimeFlow:
    spec: ./runtime-flow.concept
    params:
      F: { as: runtime-flow-id, description: "Runtime flow identifier" }

  RuntimeCoverage:
    spec: ./runtime-coverage.concept
    params:
      C: { as: runtime-coverage-id, description: "Runtime coverage identifier" }

  PerformanceProfile:
    spec: ./performance-profile.concept
    params:
      P: { as: performance-profile-id, description: "Performance profile identifier" }

  ErrorCorrelation:
    spec: ./error-correlation.concept
    params:
      R: { as: error-correlation-id, description: "Error correlation identifier" }

syncs:
  required:
    # COPF syncs
    - path: ./syncs/spec-semantic.sync
      name: SpecSemanticSync
      description: >
        Extract ConceptEntity, ActionEntity, VariantEntity, and
        StateField from parsed .concept files.

    - path: ./syncs/sync-semantic.sync
      name: SyncSemanticSync
      description: >
        Extract SyncEntity with resolved concept/action references
        from parsed .sync files.

    - path: ./syncs/generation-provenance.sync
      name: GenerationProvenanceSync
      description: >
        Record provenance when code generators produce output,
        linking specs to generated artifacts.

    # COIF syncs
    - path: ./syncs/widget-semantic.sync
      name: WidgetSemanticSync
      description: >
        Extract WidgetEntity, AnatomyPartEntity, WidgetStateEntity,
        and WidgetPropEntity from parsed .widget files.

    - path: ./syncs/theme-semantic.sync
      name: ThemeSemanticSync
      description: >
        Extract ThemeEntity from parsed .theme files.

    - path: ./syncs/widget-gen-provenance.sync
      name: WidgetGenProvenanceSync
      description: >
        Record provenance when WidgetGen produces framework components,
        linking widget specs to generated code.

    - path: ./syncs/theme-gen-provenance.sync
      name: ThemeGenProvenanceSync
      description: >
        Record provenance when ThemeGen produces platform outputs,
        linking theme specs to generated CSS/tokens.

  recommended:
    # COPF syncs
    - path: ./syncs/flow-graph.sync
      name: FlowGraphSync
      description: >
        Rebuild the static flow graph when syncs change,
        adding trigger edges to the flow-graph Graph overlay.

    - path: ./syncs/type-binding-resolution.sync
      name: TypeBindingResolutionSync
      description: >
        Resolve type parameter mappings from kit.yaml via FieldMapping.

    - path: ./syncs/invariant-validation.sync
      name: InvariantValidationSync
      description: >
        Check flow traces against declared invariants via DataQuality.

    - path: ./syncs/dead-variant-detection.sync
      name: DeadVariantDetectionSync
      description: >
        Find variants no sync pattern-matches on.

    # COIF cross-system syncs
    - path: ./syncs/field-to-interactor.sync
      name: FieldToInteractorSync
      description: >
        Track classification of concept state fields to interactor
        types via classifies-as SymbolRelationship.

    - path: ./syncs/interactor-to-widget.sync
      name: InteractorToWidgetSync
      description: >
        Track resolution of interactor types to widgets via
        resolves-to SymbolRelationship.

    - path: ./syncs/connect-mapping-analysis.sync
      name: ConnectMappingAnalysisSync
      description: >
        Analyze connect section bindings to establish presents
        and triggers relationships between anatomy parts and
        concept state fields or actions.

  integration:
    # COPF runtime correlation syncs
    - path: ./syncs/action-log-correlation.sync
      name: ActionLogCorrelationSync
      description: >
        Correlate ActionLog entries to static ConceptEntity and
        ActionEntity via symbol resolution.

    - path: ./syncs/variant-coverage.sync
      name: VariantCoverageSync
      description: >
        Record which VariantEntity branches are exercised at runtime.

    - path: ./syncs/sync-firing-correlation.sync
      name: SyncFiringCorrelationSync
      description: >
        Correlate SyncEngine firings to static SyncEntity definitions.

    - path: ./syncs/flow-correlation.sync
      name: FlowCorrelationSync
      description: >
        Build enriched RuntimeFlow from FlowTrace spans, resolving
        each hop to its static entity.

    - path: ./syncs/flow-deviation-check.sync
      name: FlowDeviationCheckSync
      description: >
        Compare actual RuntimeFlow paths against declared flow-graph
        edges to detect undeclared data flows.

    - path: ./syncs/error-correlation.sync
      name: ErrorCorrelationSync
      description: >
        Correlate runtime errors to the static concept, action, or
        sync where they originated.

    - path: ./syncs/sync-mismatch-error.sync
      name: SyncMismatchErrorSync
      description: >
        Detect sync failures where expected patterns don't match
        actual action completions.

    # COIF runtime correlation syncs
    - path: ./syncs/machine-state-correlation.sync
      name: MachineStateCorrelationSync
      description: >
        Correlate Machine state transitions to static WidgetStateEntity.

    - path: ./syncs/machine-invalid-event.sync
      name: MachineInvalidEventSync
      description: >
        Record Machine events rejected in the current state as
        error correlations.

    - path: ./syncs/selection-pipeline-profiling.sync
      name: SelectionPipelineProfilingSync
      description: >
        Profile WidgetResolver selection pipeline timing with
        per-candidate breakdowns.

    - path: ./syncs/widget-mount-correlation.sync
      name: WidgetMountCorrelationSync
      description: >
        Track widget mounts correlated to static WidgetEntity.

    - path: ./syncs/widget-unmount-correlation.sync
      name: WidgetUnmountCorrelationSync
      description: >
        Track widget unmounts correlated to static WidgetEntity.

    - path: ./syncs/widget-render-correlation.sync
      name: WidgetRenderCorrelationSync
      description: >
        Track widget renders correlated to static WidgetEntity.

    - path: ./syncs/widget-prop-change-correlation.sync
      name: WidgetPropChangeCorrelationSync
      description: >
        Track prop changes on widgets with source attribution.

    - path: ./syncs/signal-to-widget-render-trace.sync
      name: SignalToWidgetRenderTraceSync
      description: >
        Trace causality from Signal writes through Bindings and
        Hosts to widget re-renders.

    - path: ./syncs/slot-activity-correlation.sync
      name: SlotActivityCorrelationSync
      description: >
        Track slot fill activity correlated to the host widget.

    - path: ./syncs/slot-clear-correlation.sync
      name: SlotClearCorrelationSync
      description: >
        Track slot clear activity correlated to the host widget.

    - path: ./syncs/unnecessary-render-detection.sync
      name: UnnecessaryRenderDetectionSync
      description: >
        Detect renders where Machine/connect output didn't change,
        indicating wasted render cycles.

    - path: ./syncs/performance-aggregation.sync
      name: PerformanceAggregationSync
      description: >
        Aggregate performance data periodically when Telemetry
        flushes, computing timing statistics and breakdowns.

uses:
  - kit: parse
    concepts:
      - name: SyntaxTree
      - name: FileArtifact
  - kit: symbol
    concepts:
      - name: Symbol
      - name: SymbolOccurrence
      - name: SymbolRelationship
  - kit: data-integration
    concepts:
      - name: Transform
      - name: Enricher
      - name: FieldMapping
      - name: DataQuality
      - name: Provenance
  - kit: data-organization
    concepts:
      - name: Graph
  - kit: generation
    concepts:
      - name: GenerationPlan
      - name: Emitter
  - kit: coif-app
    concepts:
      - name: Widget
      - name: Machine
      - name: Interactor
      - name: Affordance
      - name: Theme
      - name: Binding
      - name: WidgetResolver
      - name: WidgetGen
      - name: ThemeGen
      - name: Signal
      - name: Host
      - name: Slot
  - kit: runtime
    concepts:
      - name: ActionLog
      - name: FlowTrace
      - name: SyncEngine
      - name: Telemetry
      - name: FrameworkAdapter

dependencies: []
