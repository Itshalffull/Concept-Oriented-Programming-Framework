{"abi":[{"type":"function","name":"cacheResult","inputs":[{"name":"formulaId","type":"bytes32","internalType":"bytes32"},{"name":"result","type":"string","internalType":"string"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"formulaExists","inputs":[{"name":"formulaId","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"getFormula","inputs":[{"name":"formulaId","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"","type":"tuple","internalType":"struct Formula.FormulaData","components":[{"name":"expression","type":"string","internalType":"string"},{"name":"dependencies","type":"string","internalType":"string"},{"name":"cachedResult","type":"string","internalType":"string"},{"name":"lastEvaluated","type":"uint256","internalType":"uint256"},{"name":"exists","type":"bool","internalType":"bool"}]}],"stateMutability":"view"},{"type":"function","name":"invalidate","inputs":[{"name":"formulaId","type":"bytes32","internalType":"bytes32"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setExpression","inputs":[{"name":"formulaId","type":"bytes32","internalType":"bytes32"},{"name":"expression","type":"string","internalType":"string"},{"name":"dependencies","type":"string","internalType":"string"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"event","name":"FormulaEvaluated","inputs":[{"name":"formulaId","type":"bytes32","indexed":true,"internalType":"bytes32"}],"anonymous":false},{"type":"event","name":"FormulaInvalidated","inputs":[{"name":"formulaId","type":"bytes32","indexed":true,"internalType":"bytes32"}],"anonymous":false},{"type":"event","name":"FormulaSet","inputs":[{"name":"formulaId","type":"bytes32","indexed":true,"internalType":"bytes32"}],"anonymous":false}],"bytecode":{"object":"0x608060405234801561000f575f80fd5b50610fd48061001d5f395ff3fe608060405234801561000f575f80fd5b5060043610610055575f3560e01c80633372edcb146100595780633f9109711461008957806369ecc3cf146100b957806372d2231a146100d5578063fc003843146100f1575b5f80fd5b610073600480360381019061006e919061078a565b61010d565b60405161008091906107cf565b60405180910390f35b6100a3600480360381019061009e919061078a565b610135565b6040516100b0919061091a565b60405180910390f35b6100d360048036038101906100ce919061078a565b610391565b005b6100ef60048036038101906100ea919061099b565b610467565b005b61010b600480360381019061010691906109f8565b610529565b005b5f805f8381526020019081526020015f206004015f9054906101000a900460ff169050919050565b61013d610720565b5f808381526020019081526020015f206004015f9054906101000a900460ff1661019c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161019390610ae3565b60405180910390fd5b5f808381526020019081526020015f206040518060a00160405290815f820180546101c690610b2e565b80601f01602080910402602001604051908101604052809291908181526020018280546101f290610b2e565b801561023d5780601f106102145761010080835404028352916020019161023d565b820191905f5260205f20905b81548152906001019060200180831161022057829003601f168201915b5050505050815260200160018201805461025690610b2e565b80601f016020809104026020016040519081016040528092919081815260200182805461028290610b2e565b80156102cd5780601f106102a4576101008083540402835291602001916102cd565b820191905f5260205f20905b8154815290600101906020018083116102b057829003601f168201915b505050505081526020016002820180546102e690610b2e565b80601f016020809104026020016040519081016040528092919081815260200182805461031290610b2e565b801561035d5780601f106103345761010080835404028352916020019161035d565b820191905f5260205f20905b81548152906001019060200180831161034057829003601f168201915b5050505050815260200160038201548152602001600482015f9054906101000a900460ff1615151515815250509050919050565b5f808281526020019081526020015f206004015f9054906101000a900460ff166103f0576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016103e790610ae3565b60405180910390fd5b60405180602001604052805f8152505f808381526020019081526020015f20600201908161041e9190610d28565b505f805f8381526020019081526020015f2060030181905550807fe9c8ee5be49f52b2a106c52dc2d6dcb5c93da662b1cfc1e13e12d2c53c6ddab960405160405180910390a250565b5f808481526020019081526020015f206004015f9054906101000a900460ff166104c6576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016104bd90610ae3565b60405180910390fd5b5f805f8581526020019081526020015f20905082828260020191826104ec929190610e01565b50428160030181905550837fdaf820fa2de398dfb451bc4a62aae2e39eee219304dc0e94599b86b7daf24a7960405160405180910390a250505050565b5f801b850361056d576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161056490610f18565b60405180910390fd5b5f84849050116105b2576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016105a990610f80565b60405180910390fd5b6040518060a0016040528085858080601f0160208091040260200160405190810160405280939291908181526020018383808284375f81840152601f19601f82011690508083019250505050505050815260200183838080601f0160208091040260200160405190810160405280939291908181526020018383808284375f81840152601f19601f82011690508083019250505050505050815260200160405180602001604052805f81525081526020015f8152602001600115158152505f808781526020019081526020015f205f820151815f0190816106939190610d28565b5060208201518160010190816106a99190610d28565b5060408201518160020190816106bf9190610d28565b50606082015181600301556080820151816004015f6101000a81548160ff021916908315150217905550905050847f6befcbca9f3ac7b18718ba2ba24fb811d0a6125b47c5be42e4e45594fa805f2560405160405180910390a25050505050565b6040518060a001604052806060815260200160608152602001606081526020015f81526020015f151581525090565b5f80fd5b5f80fd5b5f819050919050565b61076981610757565b8114610773575f80fd5b50565b5f8135905061078481610760565b92915050565b5f6020828403121561079f5761079e61074f565b5b5f6107ac84828501610776565b91505092915050565b5f8115159050919050565b6107c9816107b5565b82525050565b5f6020820190506107e25f8301846107c0565b92915050565b5f81519050919050565b5f82825260208201905092915050565b5f5b8381101561081f578082015181840152602081019050610804565b5f8484015250505050565b5f601f19601f8301169050919050565b5f610844826107e8565b61084e81856107f2565b935061085e818560208601610802565b6108678161082a565b840191505092915050565b5f819050919050565b61088481610872565b82525050565b610893816107b5565b82525050565b5f60a083015f8301518482035f8601526108b3828261083a565b915050602083015184820360208601526108cd828261083a565b915050604083015184820360408601526108e7828261083a565b91505060608301516108fc606086018261087b565b50608083015161090f608086018261088a565b508091505092915050565b5f6020820190508181035f8301526109328184610899565b905092915050565b5f80fd5b5f80fd5b5f80fd5b5f8083601f84011261095b5761095a61093a565b5b8235905067ffffffffffffffff8111156109785761097761093e565b5b60208301915083600182028301111561099457610993610942565b5b9250929050565b5f805f604084860312156109b2576109b161074f565b5b5f6109bf86828701610776565b935050602084013567ffffffffffffffff8111156109e0576109df610753565b5b6109ec86828701610946565b92509250509250925092565b5f805f805f60608688031215610a1157610a1061074f565b5b5f610a1e88828901610776565b955050602086013567ffffffffffffffff811115610a3f57610a3e610753565b5b610a4b88828901610946565b9450945050604086013567ffffffffffffffff811115610a6e57610a6d610753565b5b610a7a88828901610946565b92509250509295509295909350565b5f82825260208201905092915050565b7f466f726d756c61206e6f7420666f756e640000000000000000000000000000005f82015250565b5f610acd601183610a89565b9150610ad882610a99565b602082019050919050565b5f6020820190508181035f830152610afa81610ac1565b9050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602260045260245ffd5b5f6002820490506001821680610b4557607f821691505b602082108103610b5857610b57610b01565b5b50919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b5f819050815f5260205f209050919050565b5f6020601f8301049050919050565b5f82821b905092915050565b5f60088302610be77fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82610bac565b610bf18683610bac565b95508019841693508086168417925050509392505050565b5f819050919050565b5f610c2c610c27610c2284610872565b610c09565b610872565b9050919050565b5f819050919050565b610c4583610c12565b610c59610c5182610c33565b848454610bb8565b825550505050565b5f90565b610c6d610c61565b610c78818484610c3c565b505050565b5b81811015610c9b57610c905f82610c65565b600181019050610c7e565b5050565b601f821115610ce057610cb181610b8b565b610cba84610b9d565b81016020851015610cc9578190505b610cdd610cd585610b9d565b830182610c7d565b50505b505050565b5f82821c905092915050565b5f610d005f1984600802610ce5565b1980831691505092915050565b5f610d188383610cf1565b9150826002028217905092915050565b610d31826107e8565b67ffffffffffffffff811115610d4a57610d49610b5e565b5b610d548254610b2e565b610d5f828285610c9f565b5f60209050601f831160018114610d90575f8415610d7e578287015190505b610d888582610d0d565b865550610def565b601f198416610d9e86610b8b565b5f5b82811015610dc557848901518255600182019150602085019450602081019050610da0565b86831015610de25784890151610dde601f891682610cf1565b8355505b6001600288020188555050505b505050505050565b5f82905092915050565b610e0b8383610df7565b67ffffffffffffffff811115610e2457610e23610b5e565b5b610e2e8254610b2e565b610e39828285610c9f565b5f601f831160018114610e66575f8415610e54578287013590505b610e5e8582610d0d565b865550610ec5565b601f198416610e7486610b8b565b5f5b82811015610e9b57848901358255600182019150602085019450602081019050610e76565b86831015610eb85784890135610eb4601f891682610cf1565b8355505b6001600288020188555050505b50505050505050565b7f466f726d756c612049442063616e6e6f74206265207a65726f000000000000005f82015250565b5f610f02601983610a89565b9150610f0d82610ece565b602082019050919050565b5f6020820190508181035f830152610f2f81610ef6565b9050919050565b7f45787072657373696f6e2063616e6e6f7420626520656d7074790000000000005f82015250565b5f610f6a601a83610a89565b9150610f7582610f36565b602082019050919050565b5f6020820190508181035f830152610f9781610f5e565b905091905056fea264697066735822122093f75ed6a3fc7ad691bb1a6d86852226f056515304823ee4539db775d391998864736f6c63430008140033","sourceMap":"324:2815:127:-:0;;;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x608060405234801561000f575f80fd5b5060043610610055575f3560e01c80633372edcb146100595780633f9109711461008957806369ecc3cf146100b957806372d2231a146100d5578063fc003843146100f1575b5f80fd5b610073600480360381019061006e919061078a565b61010d565b60405161008091906107cf565b60405180910390f35b6100a3600480360381019061009e919061078a565b610135565b6040516100b0919061091a565b60405180910390f35b6100d360048036038101906100ce919061078a565b610391565b005b6100ef60048036038101906100ea919061099b565b610467565b005b61010b600480360381019061010691906109f8565b610529565b005b5f805f8381526020019081526020015f206004015f9054906101000a900460ff169050919050565b61013d610720565b5f808381526020019081526020015f206004015f9054906101000a900460ff1661019c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161019390610ae3565b60405180910390fd5b5f808381526020019081526020015f206040518060a00160405290815f820180546101c690610b2e565b80601f01602080910402602001604051908101604052809291908181526020018280546101f290610b2e565b801561023d5780601f106102145761010080835404028352916020019161023d565b820191905f5260205f20905b81548152906001019060200180831161022057829003601f168201915b5050505050815260200160018201805461025690610b2e565b80601f016020809104026020016040519081016040528092919081815260200182805461028290610b2e565b80156102cd5780601f106102a4576101008083540402835291602001916102cd565b820191905f5260205f20905b8154815290600101906020018083116102b057829003601f168201915b505050505081526020016002820180546102e690610b2e565b80601f016020809104026020016040519081016040528092919081815260200182805461031290610b2e565b801561035d5780601f106103345761010080835404028352916020019161035d565b820191905f5260205f20905b81548152906001019060200180831161034057829003601f168201915b5050505050815260200160038201548152602001600482015f9054906101000a900460ff1615151515815250509050919050565b5f808281526020019081526020015f206004015f9054906101000a900460ff166103f0576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016103e790610ae3565b60405180910390fd5b60405180602001604052805f8152505f808381526020019081526020015f20600201908161041e9190610d28565b505f805f8381526020019081526020015f2060030181905550807fe9c8ee5be49f52b2a106c52dc2d6dcb5c93da662b1cfc1e13e12d2c53c6ddab960405160405180910390a250565b5f808481526020019081526020015f206004015f9054906101000a900460ff166104c6576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016104bd90610ae3565b60405180910390fd5b5f805f8581526020019081526020015f20905082828260020191826104ec929190610e01565b50428160030181905550837fdaf820fa2de398dfb451bc4a62aae2e39eee219304dc0e94599b86b7daf24a7960405160405180910390a250505050565b5f801b850361056d576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161056490610f18565b60405180910390fd5b5f84849050116105b2576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016105a990610f80565b60405180910390fd5b6040518060a0016040528085858080601f0160208091040260200160405190810160405280939291908181526020018383808284375f81840152601f19601f82011690508083019250505050505050815260200183838080601f0160208091040260200160405190810160405280939291908181526020018383808284375f81840152601f19601f82011690508083019250505050505050815260200160405180602001604052805f81525081526020015f8152602001600115158152505f808781526020019081526020015f205f820151815f0190816106939190610d28565b5060208201518160010190816106a99190610d28565b5060408201518160020190816106bf9190610d28565b50606082015181600301556080820151816004015f6101000a81548160ff021916908315150217905550905050847f6befcbca9f3ac7b18718ba2ba24fb811d0a6125b47c5be42e4e45594fa805f2560405160405180910390a25050505050565b6040518060a001604052806060815260200160608152602001606081526020015f81526020015f151581525090565b5f80fd5b5f80fd5b5f819050919050565b61076981610757565b8114610773575f80fd5b50565b5f8135905061078481610760565b92915050565b5f6020828403121561079f5761079e61074f565b5b5f6107ac84828501610776565b91505092915050565b5f8115159050919050565b6107c9816107b5565b82525050565b5f6020820190506107e25f8301846107c0565b92915050565b5f81519050919050565b5f82825260208201905092915050565b5f5b8381101561081f578082015181840152602081019050610804565b5f8484015250505050565b5f601f19601f8301169050919050565b5f610844826107e8565b61084e81856107f2565b935061085e818560208601610802565b6108678161082a565b840191505092915050565b5f819050919050565b61088481610872565b82525050565b610893816107b5565b82525050565b5f60a083015f8301518482035f8601526108b3828261083a565b915050602083015184820360208601526108cd828261083a565b915050604083015184820360408601526108e7828261083a565b91505060608301516108fc606086018261087b565b50608083015161090f608086018261088a565b508091505092915050565b5f6020820190508181035f8301526109328184610899565b905092915050565b5f80fd5b5f80fd5b5f80fd5b5f8083601f84011261095b5761095a61093a565b5b8235905067ffffffffffffffff8111156109785761097761093e565b5b60208301915083600182028301111561099457610993610942565b5b9250929050565b5f805f604084860312156109b2576109b161074f565b5b5f6109bf86828701610776565b935050602084013567ffffffffffffffff8111156109e0576109df610753565b5b6109ec86828701610946565b92509250509250925092565b5f805f805f60608688031215610a1157610a1061074f565b5b5f610a1e88828901610776565b955050602086013567ffffffffffffffff811115610a3f57610a3e610753565b5b610a4b88828901610946565b9450945050604086013567ffffffffffffffff811115610a6e57610a6d610753565b5b610a7a88828901610946565b92509250509295509295909350565b5f82825260208201905092915050565b7f466f726d756c61206e6f7420666f756e640000000000000000000000000000005f82015250565b5f610acd601183610a89565b9150610ad882610a99565b602082019050919050565b5f6020820190508181035f830152610afa81610ac1565b9050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602260045260245ffd5b5f6002820490506001821680610b4557607f821691505b602082108103610b5857610b57610b01565b5b50919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b5f819050815f5260205f209050919050565b5f6020601f8301049050919050565b5f82821b905092915050565b5f60088302610be77fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82610bac565b610bf18683610bac565b95508019841693508086168417925050509392505050565b5f819050919050565b5f610c2c610c27610c2284610872565b610c09565b610872565b9050919050565b5f819050919050565b610c4583610c12565b610c59610c5182610c33565b848454610bb8565b825550505050565b5f90565b610c6d610c61565b610c78818484610c3c565b505050565b5b81811015610c9b57610c905f82610c65565b600181019050610c7e565b5050565b601f821115610ce057610cb181610b8b565b610cba84610b9d565b81016020851015610cc9578190505b610cdd610cd585610b9d565b830182610c7d565b50505b505050565b5f82821c905092915050565b5f610d005f1984600802610ce5565b1980831691505092915050565b5f610d188383610cf1565b9150826002028217905092915050565b610d31826107e8565b67ffffffffffffffff811115610d4a57610d49610b5e565b5b610d548254610b2e565b610d5f828285610c9f565b5f60209050601f831160018114610d90575f8415610d7e578287015190505b610d888582610d0d565b865550610def565b601f198416610d9e86610b8b565b5f5b82811015610dc557848901518255600182019150602085019450602081019050610da0565b86831015610de25784890151610dde601f891682610cf1565b8355505b6001600288020188555050505b505050505050565b5f82905092915050565b610e0b8383610df7565b67ffffffffffffffff811115610e2457610e23610b5e565b5b610e2e8254610b2e565b610e39828285610c9f565b5f601f831160018114610e66575f8415610e54578287013590505b610e5e8582610d0d565b865550610ec5565b601f198416610e7486610b8b565b5f5b82811015610e9b57848901358255600182019150602085019450602081019050610e76565b86831015610eb85784890135610eb4601f891682610cf1565b8355505b6001600288020188555050505b50505050505050565b7f466f726d756c612049442063616e6e6f74206265207a65726f000000000000005f82015250565b5f610f02601983610a89565b9150610f0d82610ece565b602082019050919050565b5f6020820190508181035f830152610f2f81610ef6565b9050919050565b7f45787072657373696f6e2063616e6e6f7420626520656d7074790000000000005f82015250565b5f610f6a601a83610a89565b9150610f7582610f36565b602082019050919050565b5f6020820190508181035f830152610f9781610f5e565b905091905056fea264697066735822122093f75ed6a3fc7ad691bb1a6d86852226f056515304823ee4539db775d391998864736f6c63430008140033","sourceMap":"324:2815:127:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;3015:122;;;;;;;;;;;;;:::i;:::-;;:::i;:::-;;;;;;;:::i;:::-;;;;;;;;2691:193;;;;;;;;;;;;;:::i;:::-;;:::i;:::-;;;;;;;:::i;:::-;;;;;;;;2267:264;;;;;;;;;;;;;:::i;:::-;;:::i;:::-;;1833:321;;;;;;;;;;;;;:::i;:::-;;:::i;:::-;;1140:520;;;;;;;;;;;;;:::i;:::-;;:::i;:::-;;3015:122;3080:4;3103:9;:20;3113:9;3103:20;;;;;;;;;;;:27;;;;;;;;;;;;3096:34;;3015:122;;;:::o;2691:193::-;2753:18;;:::i;:::-;2791:9;:20;2801:9;2791:20;;;;;;;;;;;:27;;;;;;;;;;;;2783:57;;;;;;;;;;;;:::i;:::-;;;;;;;;;2857:9;:20;2867:9;2857:20;;;;;;;;;;;2850:27;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2691:193;;;:::o;2267:264::-;2333:9;:20;2343:9;2333:20;;;;;;;;;;;:27;;;;;;;;;;;;2325:57;;;;;;;;;;;;:::i;:::-;;;;;;;;;2393:38;;;;;;;;;;;;:9;:20;2403:9;2393:20;;;;;;;;;;;:33;;:38;;;;;;:::i;:::-;;2478:1;2441:9;:20;2451:9;2441:20;;;;;;;;;;;:34;;:38;;;;2514:9;2495:29;;;;;;;;;;2267:264;:::o;1833:321::-;1924:9;:20;1934:9;1924:20;;;;;;;;;;;:27;;;;;;;;;;;;1916:57;;;;;;;;;;;;:::i;:::-;;;;;;;;;1984:21;2008:9;:20;2018:9;2008:20;;;;;;;;;;;1984:44;;2055:6;;2038:1;:14;;:23;;;;;;;:::i;:::-;;2089:15;2071:1;:15;;:33;;;;2137:9;2120:27;;;;;;;;;;1906:248;1833:321;;;:::o;1140:520::-;1288:1;1280:10;;1267:9;:23;1259:61;;;;;;;;;;;;:::i;:::-;;;;;;;;;1365:1;1344:10;;1338:24;;:28;1330:67;;;;;;;;;;;;:::i;:::-;;;;;;;;;1431:185;;;;;;;;1469:10;;1431:185;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1507:12;;1431:185;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1578:1;1431:185;;;;1601:4;1431:185;;;;;1408:9;:20;1418:9;1408:20;;;;;;;;;;;:208;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1643:9;1632:21;;;;;;;;;;1140:520;;;;;:::o;-1:-1:-1:-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;88:117:624:-;197:1;194;187:12;211:117;320:1;317;310:12;334:77;371:7;400:5;389:16;;334:77;;;:::o;417:122::-;490:24;508:5;490:24;:::i;:::-;483:5;480:35;470:63;;529:1;526;519:12;470:63;417:122;:::o;545:139::-;591:5;629:6;616:20;607:29;;645:33;672:5;645:33;:::i;:::-;545:139;;;;:::o;690:329::-;749:6;798:2;786:9;777:7;773:23;769:32;766:119;;;804:79;;:::i;:::-;766:119;924:1;949:53;994:7;985:6;974:9;970:22;949:53;:::i;:::-;939:63;;895:117;690:329;;;;:::o;1025:90::-;1059:7;1102:5;1095:13;1088:21;1077:32;;1025:90;;;:::o;1121:109::-;1202:21;1217:5;1202:21;:::i;:::-;1197:3;1190:34;1121:109;;:::o;1236:210::-;1323:4;1361:2;1350:9;1346:18;1338:26;;1374:65;1436:1;1425:9;1421:17;1412:6;1374:65;:::i;:::-;1236:210;;;;:::o;1452:99::-;1504:6;1538:5;1532:12;1522:22;;1452:99;;;:::o;1557:159::-;1631:11;1665:6;1660:3;1653:19;1705:4;1700:3;1696:14;1681:29;;1557:159;;;;:::o;1722:246::-;1803:1;1813:113;1827:6;1824:1;1821:13;1813:113;;;1912:1;1907:3;1903:11;1897:18;1893:1;1888:3;1884:11;1877:39;1849:2;1846:1;1842:10;1837:15;;1813:113;;;1960:1;1951:6;1946:3;1942:16;1935:27;1784:184;1722:246;;;:::o;1974:102::-;2015:6;2066:2;2062:7;2057:2;2050:5;2046:14;2042:28;2032:38;;1974:102;;;:::o;2082:357::-;2160:3;2188:39;2221:5;2188:39;:::i;:::-;2243:61;2297:6;2292:3;2243:61;:::i;:::-;2236:68;;2313:65;2371:6;2366:3;2359:4;2352:5;2348:16;2313:65;:::i;:::-;2403:29;2425:6;2403:29;:::i;:::-;2398:3;2394:39;2387:46;;2164:275;2082:357;;;;:::o;2445:77::-;2482:7;2511:5;2500:16;;2445:77;;;:::o;2528:108::-;2605:24;2623:5;2605:24;:::i;:::-;2600:3;2593:37;2528:108;;:::o;2642:99::-;2713:21;2728:5;2713:21;:::i;:::-;2708:3;2701:34;2642:99;;:::o;2811:1307::-;2940:3;2976:4;2971:3;2967:14;3069:4;3062:5;3058:16;3052:23;3122:3;3116:4;3112:14;3105:4;3100:3;3096:14;3089:38;3148:73;3216:4;3202:12;3148:73;:::i;:::-;3140:81;;2991:241;3322:4;3315:5;3311:16;3305:23;3375:3;3369:4;3365:14;3358:4;3353:3;3349:14;3342:38;3401:73;3469:4;3455:12;3401:73;:::i;:::-;3393:81;;3242:243;3575:4;3568:5;3564:16;3558:23;3628:3;3622:4;3618:14;3611:4;3606:3;3602:14;3595:38;3654:73;3722:4;3708:12;3654:73;:::i;:::-;3646:81;;3495:243;3829:4;3822:5;3818:16;3812:23;3848:63;3905:4;3900:3;3896:14;3882:12;3848:63;:::i;:::-;3748:173;4005:4;3998:5;3994:16;3988:23;4024:57;4075:4;4070:3;4066:14;4052:12;4024:57;:::i;:::-;3931:160;4108:4;4101:11;;2945:1173;2811:1307;;;;:::o;4124:393::-;4277:4;4315:2;4304:9;4300:18;4292:26;;4364:9;4358:4;4354:20;4350:1;4339:9;4335:17;4328:47;4392:118;4505:4;4496:6;4392:118;:::i;:::-;4384:126;;4124:393;;;;:::o;4523:117::-;4632:1;4629;4622:12;4646:117;4755:1;4752;4745:12;4769:117;4878:1;4875;4868:12;4906:553;4964:8;4974:6;5024:3;5017:4;5009:6;5005:17;5001:27;4991:122;;5032:79;;:::i;:::-;4991:122;5145:6;5132:20;5122:30;;5175:18;5167:6;5164:30;5161:117;;;5197:79;;:::i;:::-;5161:117;5311:4;5303:6;5299:17;5287:29;;5365:3;5357:4;5349:6;5345:17;5335:8;5331:32;5328:41;5325:128;;;5372:79;;:::i;:::-;5325:128;4906:553;;;;;:::o;5465:674::-;5545:6;5553;5561;5610:2;5598:9;5589:7;5585:23;5581:32;5578:119;;;5616:79;;:::i;:::-;5578:119;5736:1;5761:53;5806:7;5797:6;5786:9;5782:22;5761:53;:::i;:::-;5751:63;;5707:117;5891:2;5880:9;5876:18;5863:32;5922:18;5914:6;5911:30;5908:117;;;5944:79;;:::i;:::-;5908:117;6057:65;6114:7;6105:6;6094:9;6090:22;6057:65;:::i;:::-;6039:83;;;;5834:298;5465:674;;;;;:::o;6145:1019::-;6246:6;6254;6262;6270;6278;6327:2;6315:9;6306:7;6302:23;6298:32;6295:119;;;6333:79;;:::i;:::-;6295:119;6453:1;6478:53;6523:7;6514:6;6503:9;6499:22;6478:53;:::i;:::-;6468:63;;6424:117;6608:2;6597:9;6593:18;6580:32;6639:18;6631:6;6628:30;6625:117;;;6661:79;;:::i;:::-;6625:117;6774:65;6831:7;6822:6;6811:9;6807:22;6774:65;:::i;:::-;6756:83;;;;6551:298;6916:2;6905:9;6901:18;6888:32;6947:18;6939:6;6936:30;6933:117;;;6969:79;;:::i;:::-;6933:117;7082:65;7139:7;7130:6;7119:9;7115:22;7082:65;:::i;:::-;7064:83;;;;6859:298;6145:1019;;;;;;;;:::o;7170:169::-;7254:11;7288:6;7283:3;7276:19;7328:4;7323:3;7319:14;7304:29;;7170:169;;;;:::o;7345:167::-;7485:19;7481:1;7473:6;7469:14;7462:43;7345:167;:::o;7518:366::-;7660:3;7681:67;7745:2;7740:3;7681:67;:::i;:::-;7674:74;;7757:93;7846:3;7757:93;:::i;:::-;7875:2;7870:3;7866:12;7859:19;;7518:366;;;:::o;7890:419::-;8056:4;8094:2;8083:9;8079:18;8071:26;;8143:9;8137:4;8133:20;8129:1;8118:9;8114:17;8107:47;8171:131;8297:4;8171:131;:::i;:::-;8163:139;;7890:419;;;:::o;8315:180::-;8363:77;8360:1;8353:88;8460:4;8457:1;8450:15;8484:4;8481:1;8474:15;8501:320;8545:6;8582:1;8576:4;8572:12;8562:22;;8629:1;8623:4;8619:12;8650:18;8640:81;;8706:4;8698:6;8694:17;8684:27;;8640:81;8768:2;8760:6;8757:14;8737:18;8734:38;8731:84;;8787:18;;:::i;:::-;8731:84;8552:269;8501:320;;;:::o;8827:180::-;8875:77;8872:1;8865:88;8972:4;8969:1;8962:15;8996:4;8993:1;8986:15;9013:141;9062:4;9085:3;9077:11;;9108:3;9105:1;9098:14;9142:4;9139:1;9129:18;9121:26;;9013:141;;;:::o;9160:93::-;9197:6;9244:2;9239;9232:5;9228:14;9224:23;9214:33;;9160:93;;;:::o;9259:107::-;9303:8;9353:5;9347:4;9343:16;9322:37;;9259:107;;;;:::o;9372:393::-;9441:6;9491:1;9479:10;9475:18;9514:97;9544:66;9533:9;9514:97;:::i;:::-;9632:39;9662:8;9651:9;9632:39;:::i;:::-;9620:51;;9704:4;9700:9;9693:5;9689:21;9680:30;;9753:4;9743:8;9739:19;9732:5;9729:30;9719:40;;9448:317;;9372:393;;;;;:::o;9771:60::-;9799:3;9820:5;9813:12;;9771:60;;;:::o;9837:142::-;9887:9;9920:53;9938:34;9947:24;9965:5;9947:24;:::i;:::-;9938:34;:::i;:::-;9920:53;:::i;:::-;9907:66;;9837:142;;;:::o;9985:75::-;10028:3;10049:5;10042:12;;9985:75;;;:::o;10066:269::-;10176:39;10207:7;10176:39;:::i;:::-;10237:91;10286:41;10310:16;10286:41;:::i;:::-;10278:6;10271:4;10265:11;10237:91;:::i;:::-;10231:4;10224:105;10142:193;10066:269;;;:::o;10341:73::-;10386:3;10341:73;:::o;10420:189::-;10497:32;;:::i;:::-;10538:65;10596:6;10588;10582:4;10538:65;:::i;:::-;10473:136;10420:189;;:::o;10615:186::-;10675:120;10692:3;10685:5;10682:14;10675:120;;;10746:39;10783:1;10776:5;10746:39;:::i;:::-;10719:1;10712:5;10708:13;10699:22;;10675:120;;;10615:186;;:::o;10807:543::-;10908:2;10903:3;10900:11;10897:446;;;10942:38;10974:5;10942:38;:::i;:::-;11026:29;11044:10;11026:29;:::i;:::-;11016:8;11012:44;11209:2;11197:10;11194:18;11191:49;;;11230:8;11215:23;;11191:49;11253:80;11309:22;11327:3;11309:22;:::i;:::-;11299:8;11295:37;11282:11;11253:80;:::i;:::-;10912:431;;10897:446;10807:543;;;:::o;11356:117::-;11410:8;11460:5;11454:4;11450:16;11429:37;;11356:117;;;;:::o;11479:169::-;11523:6;11556:51;11604:1;11600:6;11592:5;11589:1;11585:13;11556:51;:::i;:::-;11552:56;11637:4;11631;11627:15;11617:25;;11530:118;11479:169;;;;:::o;11653:295::-;11729:4;11875:29;11900:3;11894:4;11875:29;:::i;:::-;11867:37;;11937:3;11934:1;11930:11;11924:4;11921:21;11913:29;;11653:295;;;;:::o;11953:1395::-;12070:37;12103:3;12070:37;:::i;:::-;12172:18;12164:6;12161:30;12158:56;;;12194:18;;:::i;:::-;12158:56;12238:38;12270:4;12264:11;12238:38;:::i;:::-;12323:67;12383:6;12375;12369:4;12323:67;:::i;:::-;12417:1;12441:4;12428:17;;12473:2;12465:6;12462:14;12490:1;12485:618;;;;13147:1;13164:6;13161:77;;;13213:9;13208:3;13204:19;13198:26;13189:35;;13161:77;13264:67;13324:6;13317:5;13264:67;:::i;:::-;13258:4;13251:81;13120:222;12455:887;;12485:618;12537:4;12533:9;12525:6;12521:22;12571:37;12603:4;12571:37;:::i;:::-;12630:1;12644:208;12658:7;12655:1;12652:14;12644:208;;;12737:9;12732:3;12728:19;12722:26;12714:6;12707:42;12788:1;12780:6;12776:14;12766:24;;12835:2;12824:9;12820:18;12807:31;;12681:4;12678:1;12674:12;12669:17;;12644:208;;;12880:6;12871:7;12868:19;12865:179;;;12938:9;12933:3;12929:19;12923:26;12981:48;13023:4;13015:6;13011:17;13000:9;12981:48;:::i;:::-;12973:6;12966:64;12888:156;12865:179;13090:1;13086;13078:6;13074:14;13070:22;13064:4;13057:36;12492:611;;;12455:887;;12045:1303;;;11953:1395;;:::o;13354:97::-;13413:6;13441:3;13431:13;;13354:97;;;;:::o;13457:1403::-;13581:44;13621:3;13616;13581:44;:::i;:::-;13690:18;13682:6;13679:30;13676:56;;;13712:18;;:::i;:::-;13676:56;13756:38;13788:4;13782:11;13756:38;:::i;:::-;13841:67;13901:6;13893;13887:4;13841:67;:::i;:::-;13935:1;13964:2;13956:6;13953:14;13981:1;13976:632;;;;14652:1;14669:6;14666:84;;;14725:9;14720:3;14716:19;14703:33;14694:42;;14666:84;14776:67;14836:6;14829:5;14776:67;:::i;:::-;14770:4;14763:81;14625:229;13946:908;;13976:632;14028:4;14024:9;14016:6;14012:22;14062:37;14094:4;14062:37;:::i;:::-;14121:1;14135:215;14149:7;14146:1;14143:14;14135:215;;;14235:9;14230:3;14226:19;14213:33;14205:6;14198:49;14286:1;14278:6;14274:14;14264:24;;14333:2;14322:9;14318:18;14305:31;;14172:4;14169:1;14165:12;14160:17;;14135:215;;;14378:6;14369:7;14366:19;14363:186;;;14443:9;14438:3;14434:19;14421:33;14486:48;14528:4;14520:6;14516:17;14505:9;14486:48;:::i;:::-;14478:6;14471:64;14386:163;14363:186;14595:1;14591;14583:6;14579:14;14575:22;14569:4;14562:36;13983:625;;;13946:908;;13556:1304;;;13457:1403;;;:::o;14866:175::-;15006:27;15002:1;14994:6;14990:14;14983:51;14866:175;:::o;15047:366::-;15189:3;15210:67;15274:2;15269:3;15210:67;:::i;:::-;15203:74;;15286:93;15375:3;15286:93;:::i;:::-;15404:2;15399:3;15395:12;15388:19;;15047:366;;;:::o;15419:419::-;15585:4;15623:2;15612:9;15608:18;15600:26;;15672:9;15666:4;15662:20;15658:1;15647:9;15643:17;15636:47;15700:131;15826:4;15700:131;:::i;:::-;15692:139;;15419:419;;;:::o;15844:176::-;15984:28;15980:1;15972:6;15968:14;15961:52;15844:176;:::o;16026:366::-;16168:3;16189:67;16253:2;16248:3;16189:67;:::i;:::-;16182:74;;16265:93;16354:3;16265:93;:::i;:::-;16383:2;16378:3;16374:12;16367:19;;16026:366;;;:::o;16398:419::-;16564:4;16602:2;16591:9;16587:18;16579:26;;16651:9;16645:4;16641:20;16637:1;16626:9;16622:17;16615:47;16679:131;16805:4;16679:131;:::i;:::-;16671:139;;16398:419;;;:::o","linkReferences":{}},"methodIdentifiers":{"cacheResult(bytes32,string)":"72d2231a","formulaExists(bytes32)":"3372edcb","getFormula(bytes32)":"3f910971","invalidate(bytes32)":"69ecc3cf","setExpression(bytes32,string,string)":"fc003843"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.20+commit.a1b79de6\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"formulaId\",\"type\":\"bytes32\"}],\"name\":\"FormulaEvaluated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"formulaId\",\"type\":\"bytes32\"}],\"name\":\"FormulaInvalidated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"formulaId\",\"type\":\"bytes32\"}],\"name\":\"FormulaSet\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"formulaId\",\"type\":\"bytes32\"},{\"internalType\":\"string\",\"name\":\"result\",\"type\":\"string\"}],\"name\":\"cacheResult\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"formulaId\",\"type\":\"bytes32\"}],\"name\":\"formulaExists\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"formulaId\",\"type\":\"bytes32\"}],\"name\":\"getFormula\",\"outputs\":[{\"components\":[{\"internalType\":\"string\",\"name\":\"expression\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"dependencies\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"cachedResult\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"lastEvaluated\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"exists\",\"type\":\"bool\"}],\"internalType\":\"struct Formula.FormulaData\",\"name\":\"\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"formulaId\",\"type\":\"bytes32\"}],\"name\":\"invalidate\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"formulaId\",\"type\":\"bytes32\"},{\"internalType\":\"string\",\"name\":\"expression\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"dependencies\",\"type\":\"string\"}],\"name\":\"setExpression\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"details\":\"Implements the Formula concept from Clef specification.      Supports setting expressions with dependencies, caching results, and invalidation.\",\"kind\":\"dev\",\"methods\":{\"cacheResult(bytes32,string)\":{\"params\":{\"formulaId\":\"The formula ID to cache a result for\",\"result\":\"The computed result to cache\"}},\"formulaExists(bytes32)\":{\"params\":{\"formulaId\":\"The formula ID\"},\"returns\":{\"_0\":\"Whether the formula exists\"}},\"getFormula(bytes32)\":{\"params\":{\"formulaId\":\"The formula ID\"},\"returns\":{\"_0\":\"The full formula data struct\"}},\"invalidate(bytes32)\":{\"params\":{\"formulaId\":\"The formula ID to invalidate\"}},\"setExpression(bytes32,string,string)\":{\"params\":{\"dependencies\":\"Comma-separated list of dependency identifiers\",\"expression\":\"The formula expression string\",\"formulaId\":\"The unique identifier for this formula\"}}},\"stateVariables\":{\"_formulas\":{\"details\":\"Maps formula ID to its full data\"}},\"title\":\"Formula\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"cacheResult(bytes32,string)\":{\"notice\":\"Cache a computed result for a formula\"},\"formulaExists(bytes32)\":{\"notice\":\"Check if a formula exists\"},\"getFormula(bytes32)\":{\"notice\":\"Retrieve a formula's full data\"},\"invalidate(bytes32)\":{\"notice\":\"Invalidate a formula's cached result\"},\"setExpression(bytes32,string,string)\":{\"notice\":\"Set or update a formula expression and its dependencies\"}},\"notice\":\"Concept-oriented formula management with expression caching and invalidation\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/Formula.sol\":\"Formula\"},\"evmVersion\":\"shanghai\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":false,\"runs\":200},\"remappings\":[\":forge-std/=lib/forge-std/src/\"]},\"sources\":{\"src/Formula.sol\":{\"keccak256\":\"0xd534ffafb7ab96ba54412d4d1c29e9240146a8e0d63ec6ca324f9319ef060e42\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://de5287899b165cfa62bdfdf547792ff9ad50b80fa79d6f1cb129317ae964da27\",\"dweb:/ipfs/QmTpqVX3BqgKjPQx9RJ4oKTXXp2BTm89FDZQemmtzrhKTA\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.20+commit.a1b79de6"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"bytes32","name":"formulaId","type":"bytes32","indexed":true}],"type":"event","name":"FormulaEvaluated","anonymous":false},{"inputs":[{"internalType":"bytes32","name":"formulaId","type":"bytes32","indexed":true}],"type":"event","name":"FormulaInvalidated","anonymous":false},{"inputs":[{"internalType":"bytes32","name":"formulaId","type":"bytes32","indexed":true}],"type":"event","name":"FormulaSet","anonymous":false},{"inputs":[{"internalType":"bytes32","name":"formulaId","type":"bytes32"},{"internalType":"string","name":"result","type":"string"}],"stateMutability":"nonpayable","type":"function","name":"cacheResult"},{"inputs":[{"internalType":"bytes32","name":"formulaId","type":"bytes32"}],"stateMutability":"view","type":"function","name":"formulaExists","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[{"internalType":"bytes32","name":"formulaId","type":"bytes32"}],"stateMutability":"view","type":"function","name":"getFormula","outputs":[{"internalType":"struct Formula.FormulaData","name":"","type":"tuple","components":[{"internalType":"string","name":"expression","type":"string"},{"internalType":"string","name":"dependencies","type":"string"},{"internalType":"string","name":"cachedResult","type":"string"},{"internalType":"uint256","name":"lastEvaluated","type":"uint256"},{"internalType":"bool","name":"exists","type":"bool"}]}]},{"inputs":[{"internalType":"bytes32","name":"formulaId","type":"bytes32"}],"stateMutability":"nonpayable","type":"function","name":"invalidate"},{"inputs":[{"internalType":"bytes32","name":"formulaId","type":"bytes32"},{"internalType":"string","name":"expression","type":"string"},{"internalType":"string","name":"dependencies","type":"string"}],"stateMutability":"nonpayable","type":"function","name":"setExpression"}],"devdoc":{"kind":"dev","methods":{"cacheResult(bytes32,string)":{"params":{"formulaId":"The formula ID to cache a result for","result":"The computed result to cache"}},"formulaExists(bytes32)":{"params":{"formulaId":"The formula ID"},"returns":{"_0":"Whether the formula exists"}},"getFormula(bytes32)":{"params":{"formulaId":"The formula ID"},"returns":{"_0":"The full formula data struct"}},"invalidate(bytes32)":{"params":{"formulaId":"The formula ID to invalidate"}},"setExpression(bytes32,string,string)":{"params":{"dependencies":"Comma-separated list of dependency identifiers","expression":"The formula expression string","formulaId":"The unique identifier for this formula"}}},"version":1},"userdoc":{"kind":"user","methods":{"cacheResult(bytes32,string)":{"notice":"Cache a computed result for a formula"},"formulaExists(bytes32)":{"notice":"Check if a formula exists"},"getFormula(bytes32)":{"notice":"Retrieve a formula's full data"},"invalidate(bytes32)":{"notice":"Invalidate a formula's cached result"},"setExpression(bytes32,string,string)":{"notice":"Set or update a formula expression and its dependencies"}},"version":1}},"settings":{"remappings":["forge-std/=lib/forge-std/src/"],"optimizer":{"enabled":false,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/Formula.sol":"Formula"},"evmVersion":"shanghai","libraries":{}},"sources":{"src/Formula.sol":{"keccak256":"0xd534ffafb7ab96ba54412d4d1c29e9240146a8e0d63ec6ca324f9319ef060e42","urls":["bzz-raw://de5287899b165cfa62bdfdf547792ff9ad50b80fa79d6f1cb129317ae964da27","dweb:/ipfs/QmTpqVX3BqgKjPQx9RJ4oKTXXp2BTm89FDZQemmtzrhKTA"],"license":"MIT"}},"version":1},"id":127}