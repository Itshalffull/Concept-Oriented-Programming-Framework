{"abi":[{"type":"function","name":"generate","inputs":[{"name":"user","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"token","type":"bytes32","internalType":"bytes32"}],"stateMutability":"nonpayable"},{"type":"function","name":"getToken","inputs":[{"name":"user","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"hasToken","type":"bool","internalType":"bool"},{"name":"token","type":"bytes32","internalType":"bytes32"}],"stateMutability":"view"},{"type":"function","name":"revoke","inputs":[{"name":"user","type":"bytes32","internalType":"bytes32"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"verify","inputs":[{"name":"token","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"valid","type":"bool","internalType":"bool"},{"name":"user","type":"bytes32","internalType":"bytes32"}],"stateMutability":"view"},{"type":"event","name":"TokenGenerated","inputs":[{"name":"user","type":"bytes32","indexed":true,"internalType":"bytes32"},{"name":"token","type":"bytes32","indexed":false,"internalType":"bytes32"}],"anonymous":false},{"type":"event","name":"TokenVerified","inputs":[{"name":"token","type":"bytes32","indexed":true,"internalType":"bytes32"},{"name":"valid","type":"bool","indexed":false,"internalType":"bool"},{"name":"user","type":"bytes32","indexed":false,"internalType":"bytes32"}],"anonymous":false}],"bytecode":{"object":"0x608060405234801561000f575f80fd5b506105bf8061001d5f395ff3fe608060405234801561000f575f80fd5b506004361061004a575f3560e01c806312a6f5f41461004e578063155bf4e21461007e57806375e36616146100af578063b75c7dc6146100e0575b5f80fd5b610068600480360381019061006391906103e7565b6100fc565b6040516100759190610421565b60405180910390f35b610098600480360381019061009391906103e7565b61025c565b6040516100a6929190610454565b60405180910390f35b6100c960048036038101906100c491906103e7565b6102ad565b6040516100d7929190610454565b60405180910390f35b6100fa60048036038101906100f591906103e7565b6102fb565b005b5f805f1b8203610141576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610138906104d5565b60405180910390fd5b5f805f8481526020019081526020015f205490505f801b811461019b575f60025f8381526020019081526020015f205f6101000a81548160ff02191690831515021790555060015f8281526020019081526020015f205f90555b824243446040516020016101b2949392919061053c565b604051602081830303815290604052805190602001209150815f808581526020019081526020015f20819055508260015f8481526020019081526020015f2081905550600160025f8481526020019081526020015f205f6101000a81548160ff021916908315150217905550827f56d8665657c9f023c106f1c50345cda9fa9119b61c392e9a53ede49e997829358360405161024e9190610421565b60405180910390a250919050565b5f805f808481526020019081526020015f205490505f801b8103610287575f805f1b915091506102a8565b60025f8281526020019081526020015f205f9054906101000a900460ff1691505b915091565b5f8060025f8481526020019081526020015f205f9054906101000a900460ff166102de575f805f1b915091506102f6565b6001805f8581526020019081526020015f2054915091505b915091565b5f801b810361033f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610336906104d5565b60405180910390fd5b5f805f8381526020019081526020015f205490505f801b81146103ac575f60025f8381526020019081526020015f205f6101000a81548160ff02191690831515021790555060015f8281526020019081526020015f205f90555f808381526020019081526020015f205f90555b5050565b5f80fd5b5f819050919050565b6103c6816103b4565b81146103d0575f80fd5b50565b5f813590506103e1816103bd565b92915050565b5f602082840312156103fc576103fb6103b0565b5b5f610409848285016103d3565b91505092915050565b61041b816103b4565b82525050565b5f6020820190506104345f830184610412565b92915050565b5f8115159050919050565b61044e8161043a565b82525050565b5f6040820190506104675f830185610445565b6104746020830184610412565b9392505050565b5f82825260208201905092915050565b7f557365722049442063616e6e6f74206265207a65726f000000000000000000005f82015250565b5f6104bf60168361047b565b91506104ca8261048b565b602082019050919050565b5f6020820190508181035f8301526104ec816104b3565b9050919050565b5f819050919050565b61050d610508826103b4565b6104f3565b82525050565b5f819050919050565b5f819050919050565b61053661053182610513565b61051c565b82525050565b5f61054782876104fc565b6020820191506105578286610525565b6020820191506105678285610525565b6020820191506105778284610525565b6020820191508190509594505050505056fea26469706673582212203a0537bcc9a9ce4afeb0293308e838a9a5bc40fb74edb68360ae47167e45f59f64736f6c63430008140033","sourceMap":"333:2804:153:-:0;;;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x608060405234801561000f575f80fd5b506004361061004a575f3560e01c806312a6f5f41461004e578063155bf4e21461007e57806375e36616146100af578063b75c7dc6146100e0575b5f80fd5b610068600480360381019061006391906103e7565b6100fc565b6040516100759190610421565b60405180910390f35b610098600480360381019061009391906103e7565b61025c565b6040516100a6929190610454565b60405180910390f35b6100c960048036038101906100c491906103e7565b6102ad565b6040516100d7929190610454565b60405180910390f35b6100fa60048036038101906100f591906103e7565b6102fb565b005b5f805f1b8203610141576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610138906104d5565b60405180910390fd5b5f805f8481526020019081526020015f205490505f801b811461019b575f60025f8381526020019081526020015f205f6101000a81548160ff02191690831515021790555060015f8281526020019081526020015f205f90555b824243446040516020016101b2949392919061053c565b604051602081830303815290604052805190602001209150815f808581526020019081526020015f20819055508260015f8481526020019081526020015f2081905550600160025f8481526020019081526020015f205f6101000a81548160ff021916908315150217905550827f56d8665657c9f023c106f1c50345cda9fa9119b61c392e9a53ede49e997829358360405161024e9190610421565b60405180910390a250919050565b5f805f808481526020019081526020015f205490505f801b8103610287575f805f1b915091506102a8565b60025f8281526020019081526020015f205f9054906101000a900460ff1691505b915091565b5f8060025f8481526020019081526020015f205f9054906101000a900460ff166102de575f805f1b915091506102f6565b6001805f8581526020019081526020015f2054915091505b915091565b5f801b810361033f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610336906104d5565b60405180910390fd5b5f805f8381526020019081526020015f205490505f801b81146103ac575f60025f8381526020019081526020015f205f6101000a81548160ff02191690831515021790555060015f8281526020019081526020015f205f90555f808381526020019081526020015f205f90555b5050565b5f80fd5b5f819050919050565b6103c6816103b4565b81146103d0575f80fd5b50565b5f813590506103e1816103bd565b92915050565b5f602082840312156103fc576103fb6103b0565b5b5f610409848285016103d3565b91505092915050565b61041b816103b4565b82525050565b5f6020820190506104345f830184610412565b92915050565b5f8115159050919050565b61044e8161043a565b82525050565b5f6040820190506104675f830185610445565b6104746020830184610412565b9392505050565b5f82825260208201905092915050565b7f557365722049442063616e6e6f74206265207a65726f000000000000000000005f82015250565b5f6104bf60168361047b565b91506104ca8261048b565b602082019050919050565b5f6020820190508181035f8301526104ec816104b3565b9050919050565b5f819050919050565b61050d610508826103b4565b6104f3565b82525050565b5f819050919050565b5f819050919050565b61053661053182610513565b61051c565b82525050565b5f61054782876104fc565b6020820191506105578286610525565b6020820191506105678285610525565b6020820191506105778284610525565b6020820191508190509594505050505056fea26469706673582212203a0537bcc9a9ce4afeb0293308e838a9a5bc40fb74edb68360ae47167e45f59f64736f6c63430008140033","sourceMap":"333:2804:153:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1071:727;;;;;;;;;;;;;:::i;:::-;;:::i;:::-;;;;;;;:::i;:::-;;;;;;;;2882:253;;;;;;;;;;;;;:::i;:::-;;:::i;:::-;;;;;;;;:::i;:::-;;;;;;;;2049:217;;;;;;;;;;;;;:::i;:::-;;:::i;:::-;;;;;;;;:::i;:::-;;;;;;;;2377:309;;;;;;;;;;;;;:::i;:::-;;:::i;:::-;;1071:727;1121:13;1170:1;1162:10;;1154:4;:18;1146:53;;;;;;;;;;;;:::i;:::-;;;;;;;;;1265:16;1284:7;:13;1292:4;1284:13;;;;;;;;;;;;1265:32;;1331:1;1323:10;;1311:8;:22;1307:126;;1374:5;1349:12;:22;1362:8;1349:22;;;;;;;;;;;;:30;;;;;;;;;;;;;;;;;;1400:12;:22;1413:8;1400:22;;;;;;;;;;;1393:29;;;1307:126;1534:4;1540:15;1557:12;1571:16;1517:71;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;1507:82;;;;;;1499:90;;1649:5;1633:7;:13;1641:4;1633:13;;;;;;;;;;;:21;;;;1686:4;1664:12;:19;1677:5;1664:19;;;;;;;;;;;:26;;;;1722:4;1700:12;:19;1713:5;1700:19;;;;;;;;;;;;:26;;;;;;;;;;;;;;;;;;1757:4;1742:27;1763:5;1742:27;;;;;;:::i;:::-;;;;;;;;1779:12;1071:727;;;:::o;2882:253::-;2937:13;2952;2985:7;:13;2993:4;2985:13;;;;;;;;;;;;2977:21;;3029:1;3021:10;;3012:5;:19;3008:76;;3055:5;3070:1;3062:10;;3047:26;;;;;;3008:76;3101:12;:19;3114:5;3101:19;;;;;;;;;;;;;;;;;;;;;3093:35;;2882:253;;;;:::o;2049:217::-;2103:10;2115:12;2144;:19;2157:5;2144:19;;;;;;;;;;;;;;;;;;;;;2139:77;;2187:5;2202:1;2194:10;;2179:26;;;;;;2139:77;2233:4;2239:12;:19;2252:5;2239:19;;;;;;;;;;;;2225:34;;;;2049:217;;;;:::o;2377:309::-;2450:1;2442:10;;2434:4;:18;2426:53;;;;;;;;;;;;:::i;:::-;;;;;;;;;2490:13;2506:7;:13;2514:4;2506:13;;;;;;;;;;;;2490:29;;2550:1;2542:10;;2533:5;:19;2529:151;;2590:5;2568:12;:19;2581:5;2568:19;;;;;;;;;;;;:27;;;;;;;;;;;;;;;;;;2616:12;:19;2629:5;2616:19;;;;;;;;;;;2609:26;;;2656:7;:13;2664:4;2656:13;;;;;;;;;;;2649:20;;;2529:151;2416:270;2377:309;:::o;88:117:624:-;197:1;194;187:12;334:77;371:7;400:5;389:16;;334:77;;;:::o;417:122::-;490:24;508:5;490:24;:::i;:::-;483:5;480:35;470:63;;529:1;526;519:12;470:63;417:122;:::o;545:139::-;591:5;629:6;616:20;607:29;;645:33;672:5;645:33;:::i;:::-;545:139;;;;:::o;690:329::-;749:6;798:2;786:9;777:7;773:23;769:32;766:119;;;804:79;;:::i;:::-;766:119;924:1;949:53;994:7;985:6;974:9;970:22;949:53;:::i;:::-;939:63;;895:117;690:329;;;;:::o;1025:118::-;1112:24;1130:5;1112:24;:::i;:::-;1107:3;1100:37;1025:118;;:::o;1149:222::-;1242:4;1280:2;1269:9;1265:18;1257:26;;1293:71;1361:1;1350:9;1346:17;1337:6;1293:71;:::i;:::-;1149:222;;;;:::o;1377:90::-;1411:7;1454:5;1447:13;1440:21;1429:32;;1377:90;;;:::o;1473:109::-;1554:21;1569:5;1554:21;:::i;:::-;1549:3;1542:34;1473:109;;:::o;1588:320::-;1703:4;1741:2;1730:9;1726:18;1718:26;;1754:65;1816:1;1805:9;1801:17;1792:6;1754:65;:::i;:::-;1829:72;1897:2;1886:9;1882:18;1873:6;1829:72;:::i;:::-;1588:320;;;;;:::o;1914:169::-;1998:11;2032:6;2027:3;2020:19;2072:4;2067:3;2063:14;2048:29;;1914:169;;;;:::o;2089:172::-;2229:24;2225:1;2217:6;2213:14;2206:48;2089:172;:::o;2267:366::-;2409:3;2430:67;2494:2;2489:3;2430:67;:::i;:::-;2423:74;;2506:93;2595:3;2506:93;:::i;:::-;2624:2;2619:3;2615:12;2608:19;;2267:366;;;:::o;2639:419::-;2805:4;2843:2;2832:9;2828:18;2820:26;;2892:9;2886:4;2882:20;2878:1;2867:9;2863:17;2856:47;2920:131;3046:4;2920:131;:::i;:::-;2912:139;;2639:419;;;:::o;3064:79::-;3103:7;3132:5;3121:16;;3064:79;;;:::o;3149:157::-;3254:45;3274:24;3292:5;3274:24;:::i;:::-;3254:45;:::i;:::-;3249:3;3242:58;3149:157;;:::o;3312:77::-;3349:7;3378:5;3367:16;;3312:77;;;:::o;3395:79::-;3434:7;3463:5;3452:16;;3395:79;;;:::o;3480:157::-;3585:45;3605:24;3623:5;3605:24;:::i;:::-;3585:45;:::i;:::-;3580:3;3573:58;3480:157;;:::o;3643:679::-;3839:3;3854:75;3925:3;3916:6;3854:75;:::i;:::-;3954:2;3949:3;3945:12;3938:19;;3967:75;4038:3;4029:6;3967:75;:::i;:::-;4067:2;4062:3;4058:12;4051:19;;4080:75;4151:3;4142:6;4080:75;:::i;:::-;4180:2;4175:3;4171:12;4164:19;;4193:75;4264:3;4255:6;4193:75;:::i;:::-;4293:2;4288:3;4284:12;4277:19;;4313:3;4306:10;;3643:679;;;;;;;:::o","linkReferences":{}},"methodIdentifiers":{"generate(bytes32)":"12a6f5f4","getToken(bytes32)":"155bf4e2","revoke(bytes32)":"b75c7dc6","verify(bytes32)":"75e36616"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.20+commit.a1b79de6\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"user\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"token\",\"type\":\"bytes32\"}],\"name\":\"TokenGenerated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"token\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"bool\",\"name\":\"valid\",\"type\":\"bool\"},{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"user\",\"type\":\"bytes32\"}],\"name\":\"TokenVerified\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"user\",\"type\":\"bytes32\"}],\"name\":\"generate\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"token\",\"type\":\"bytes32\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"user\",\"type\":\"bytes32\"}],\"name\":\"getToken\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"hasToken\",\"type\":\"bool\"},{\"internalType\":\"bytes32\",\"name\":\"token\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"user\",\"type\":\"bytes32\"}],\"name\":\"revoke\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"token\",\"type\":\"bytes32\"}],\"name\":\"verify\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"valid\",\"type\":\"bool\"},{\"internalType\":\"bytes32\",\"name\":\"user\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"details\":\"Since traditional JWTs do not apply on-chain, this implements a simplified      token registry that maps users to unique tokens and supports reverse lookup.\",\"kind\":\"dev\",\"methods\":{\"generate(bytes32)\":{\"params\":{\"user\":\"The user ID to generate a token for\"},\"returns\":{\"token\":\"The newly generated token\"}},\"getToken(bytes32)\":{\"params\":{\"user\":\"The user ID\"},\"returns\":{\"hasToken\":\"Whether the user has an active token\",\"token\":\"The token value\"}},\"revoke(bytes32)\":{\"params\":{\"user\":\"The user whose token should be revoked\"}},\"verify(bytes32)\":{\"params\":{\"token\":\"The token to verify\"},\"returns\":{\"user\":\"The user ID associated with the token (bytes32(0) if invalid)\",\"valid\":\"Whether the token is currently valid\"}}},\"stateVariables\":{\"_tokenToUser\":{\"details\":\"Reverse lookup: maps token to the user who owns it\"},\"_tokens\":{\"details\":\"Maps user ID to their current token\"},\"_validTokens\":{\"details\":\"Tracks whether a token is currently valid\"}},\"title\":\"JWT (On-Chain Token Registry)\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"generate(bytes32)\":{\"notice\":\"Generate a new token for a user, invalidating any previous token\"},\"getToken(bytes32)\":{\"notice\":\"Get the current token for a user (if any)\"},\"revoke(bytes32)\":{\"notice\":\"Revoke a user's current token\"},\"verify(bytes32)\":{\"notice\":\"Verify a token and return the associated user\"}},\"notice\":\"Concept-oriented token generation and verification\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/JWT.sol\":\"JWT\"},\"evmVersion\":\"shanghai\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":false,\"runs\":200},\"remappings\":[\":forge-std/=lib/forge-std/src/\"]},\"sources\":{\"src/JWT.sol\":{\"keccak256\":\"0xa0e557e2fa949a09caeb1dd3ba4fe6c21319dc1bd4b1d8ba6be3bf996729869d\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://7d7395e78df73853e22efcf7c76f7418bdc0871c5f8f3e66764bd53f3a803669\",\"dweb:/ipfs/QmbhXCMHnMcLbmhwUAzvpZq1Y66xE4JFGGtAxSmnTqPtv2\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.20+commit.a1b79de6"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"bytes32","name":"user","type":"bytes32","indexed":true},{"internalType":"bytes32","name":"token","type":"bytes32","indexed":false}],"type":"event","name":"TokenGenerated","anonymous":false},{"inputs":[{"internalType":"bytes32","name":"token","type":"bytes32","indexed":true},{"internalType":"bool","name":"valid","type":"bool","indexed":false},{"internalType":"bytes32","name":"user","type":"bytes32","indexed":false}],"type":"event","name":"TokenVerified","anonymous":false},{"inputs":[{"internalType":"bytes32","name":"user","type":"bytes32"}],"stateMutability":"nonpayable","type":"function","name":"generate","outputs":[{"internalType":"bytes32","name":"token","type":"bytes32"}]},{"inputs":[{"internalType":"bytes32","name":"user","type":"bytes32"}],"stateMutability":"view","type":"function","name":"getToken","outputs":[{"internalType":"bool","name":"hasToken","type":"bool"},{"internalType":"bytes32","name":"token","type":"bytes32"}]},{"inputs":[{"internalType":"bytes32","name":"user","type":"bytes32"}],"stateMutability":"nonpayable","type":"function","name":"revoke"},{"inputs":[{"internalType":"bytes32","name":"token","type":"bytes32"}],"stateMutability":"view","type":"function","name":"verify","outputs":[{"internalType":"bool","name":"valid","type":"bool"},{"internalType":"bytes32","name":"user","type":"bytes32"}]}],"devdoc":{"kind":"dev","methods":{"generate(bytes32)":{"params":{"user":"The user ID to generate a token for"},"returns":{"token":"The newly generated token"}},"getToken(bytes32)":{"params":{"user":"The user ID"},"returns":{"hasToken":"Whether the user has an active token","token":"The token value"}},"revoke(bytes32)":{"params":{"user":"The user whose token should be revoked"}},"verify(bytes32)":{"params":{"token":"The token to verify"},"returns":{"user":"The user ID associated with the token (bytes32(0) if invalid)","valid":"Whether the token is currently valid"}}},"version":1},"userdoc":{"kind":"user","methods":{"generate(bytes32)":{"notice":"Generate a new token for a user, invalidating any previous token"},"getToken(bytes32)":{"notice":"Get the current token for a user (if any)"},"revoke(bytes32)":{"notice":"Revoke a user's current token"},"verify(bytes32)":{"notice":"Verify a token and return the associated user"}},"version":1}},"settings":{"remappings":["forge-std/=lib/forge-std/src/"],"optimizer":{"enabled":false,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/JWT.sol":"JWT"},"evmVersion":"shanghai","libraries":{}},"sources":{"src/JWT.sol":{"keccak256":"0xa0e557e2fa949a09caeb1dd3ba4fe6c21319dc1bd4b1d8ba6be3bf996729869d","urls":["bzz-raw://7d7395e78df73853e22efcf7c76f7418bdc0871c5f8f3e66764bd53f3a803669","dweb:/ipfs/QmbhXCMHnMcLbmhwUAzvpZq1Y66xE4JFGGtAxSmnTqPtv2"],"license":"MIT"}},"version":1},"id":153}